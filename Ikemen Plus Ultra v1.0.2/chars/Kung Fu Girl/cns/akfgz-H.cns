;===========================================================================
;Hyper Moves (Statedef 3000~4999)
;---------------------------------------------------------------------------
;  8500		;Super Cancel
;  8600		;Dream Cancel
;  8700~8704	;MAX2_BG
;===========================================================================

;Kung Fu Beat_LV1(Start)
[Statedef 3000]
type = S
movetype = A
physics = S
anim = 3000
ctrl = 0
velset = 0, 0
poweradd = -1000

[State 3000,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time =  20

[State 3000,SuperPause]
type = SuperPause
trigger1 = time = 1
time = 32
movetime = 32
anim = -1

[State 3000,EnvColor]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 3000,EnvColor]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 3000,Var]
type = Varset
trigger1 = Time = 0
var(1) = 0

[State 3000,Explod]
type = Explod
trigger1 = time = 1 
anim = 6255
sprpriority = -1
postype = p1
pos = -42, -58
bindtime = 1
supermove = 1
ownpal = 1

[State 3000,Explod]
type = Explod
trigger1 = time = 11 
anim = 6250
sprpriority = 3
postype = p1
pos = -42, -58
bindtime = 1
supermove = 1
ownpal = 1

[State 3000,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 6000,0

[State 3000,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 3000,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3000, 0 

[State 3000,Helper]
type = Helper
triggerall = prevstateno =1030 || prevstateno =1100 || prevstateno =1110 || prevstateno =1120 || prevstateno =1200 || prevstateno =1210 || prevstateno =1220
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000,Helper]
type = Helper
triggerall = prevstateno =1301 || prevstateno =1311 || prevstateno =1321 || prevstateno =1420 || prevstateno =1430 || prevstateno =1440 || prevstateno =2130
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 3010

;---------------------------------------------------------------------------
;Kung Fu Beat_LV1
[Statedef 3010]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 3010+ifelse((Palno > 6 || var(17) >= 2),1,0)
ctrl = 0
sprpriority = 2

[State 3010,NotHitBy]
type = NotHitBy
trigger1 = animelem = 1
value = SCA
time =  10

[State 3010,AttackDist]
type = AttackDist
trigger1 = Time>=5
value = 230

[State 3010,Envcolor]
type = Envcolor
trigger1 = movehit = 1
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1

[State 3010,AfterImage]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2

[State 3010,AfterImage]
type = AfterImageTime
trigger1 = AnimElemTime(1) >= 1 && Time < 60
time = 2

[State 3010,HitDef]
type = HitDef
trigger1 = AnimElem = 4
trigger2 = AnimElem = 11
trigger3 = AnimElem = 17
attr = S, HA
animtype  = Hard
damage    = 14+ifelse((Palno > 6 || var(17) >= 2),5,0), 3+ifelse((Palno > 6 || var(17) >= 2),7,0)
getpower  = 0
givepower = 10, 5
guardflag = MA
pausetime = 0,2
sparkno = S6040
guard.sparkno = S6000
sparkxy = 0,-80     
hitsound = S600, 1            
guardsound = S400, 0    
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-2
air.velocity = 1,0
air.fall = 1
fall.animtype = Hard
fall.recover = 0
envshake.time = 4
envshake.ampl = -5

[State 3010,HitDef]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 12
trigger3 = AnimElem = 18
attr = S, HA
animtype  = Hard
damage    = 13+ifelse((Palno > 6 || var(17) >= 2),5,0), 3+ifelse((Palno > 6 || var(17) >= 2),7,0)
getpower  = 0
givepower = 10, 5
guardflag = MA
pausetime = 0,2
sparkno = S6060
guard.sparkno = S6020
sparkxy = -15,-60
hitsound   = S600,2
guardsound = S400,1
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-2
air.velocity = 1,0
air.fall = 1
fall.animtype = Hard
fall.recover = 0
envshake.time = 4
envshake.ampl = -5

[State 3010,HitDef]
type = HitDef
trigger1 = AnimElem = 6
trigger2 = AnimElem = 13
attr = S, HA
animtype  = Hard
damage    = 13+ifelse((Palno > 6 || var(17) >= 2),5,0), 3+ifelse((Palno > 6 || var(17) >= 2),7,0)
getpower  = 0
givepower = 10, 5
guardflag = MA
pausetime = 0,2
sparkno = S6050
guard.sparkno = S6010
sparkxy = 0, -60
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-2
air.velocity = 1,0
air.fall = 1
fall.animtype = Hard
fall.recover = 0
envshake.time = 4
envshake.ampl = -5

[State 3010,HitDef]
type = HitDef
trigger1 = AnimElem = 7
trigger2 = AnimElem = 14
attr = S, HA
animtype  = Hard
damage    = 13+ifelse((Palno > 6 || var(17) >= 2),5,0), 3+ifelse((Palno > 6 || var(17) >= 2),7,0)
getpower  = 0
givepower = 10, 5
guardflag = MA
pausetime = 0,2
sparkno = S6070
guard.sparkno = S6010
sparkxy = -10,-60
hitsound   = S10,0
guardsound = S4,1
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,0
air.velocity = 1,-2
air.fall = 1
fall.animtype = Hard
fall.recover = 0
envshake.time = 4
envshake.ampl = -5

[State 3010,HitDef]
type = HitDef
trigger1 = AnimElem = 8
trigger2 = AnimElem = 15
attr = S, HA
animtype  = Hard
damage    = 12+ifelse((Palno > 6 || var(17) >= 2),5,0), 3+ifelse((Palno > 6 || var(17) >= 2),7,0)
getpower  = 0
givepower = 10, 5
guardflag = MA
pausetime = 0,2
sparkno = S6060
guard.sparkno = S6020
sparkxy = -15,-60
hitsound   = S600,2
guardsound = S400,1
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-2
air.velocity = 1,0
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 3010,HitDef]
type = HitDef
trigger1 = AnimElem = 9
trigger2 = AnimElem = 16
attr = S, HA
animtype  = Hard
damage    = 12+ifelse((Palno > 6 || var(17) >= 2),5,0), 3+ifelse((Palno > 6 || var(17) >= 2),7,0)
getpower  = 0
givepower = 10, 5
guardflag = MA
pausetime = 0,2
sparkno = S6050
guard.sparkno = S6010
sparkxy = 0, -60
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-4
air.velocity = 1,-2
air.fall = 1
fall.animtype = Hard
fall.recover = 0
numhits = 2

[State 3010,HitDef]
type = HitDef
trigger1 = AnimElem = 19
trigger2 = AnimElem = 20
attr = S, HA
animtype  = Hard
damage    = 12+ifelse((Palno > 6 || var(17) >= 2),5,0), 3+ifelse((Palno > 6 || var(17) >= 2),7,0)
getpower  = 0
givepower = 10, 5
guardflag = MA
pausetime = 0,2
sparkno = S6070
guard.sparkno = S6010
sparkxy = -10,-60
hitsound   = S10,0
guardsound = S4,1
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,0
air.velocity = 3,-6
air.fall = 1
fall.animtype = Hard
fall.recover = 0
envshake.time = 4
envshake.ampl = -5

[State 3010,Explod]
type = Explod
trigger1 = AnimElem = 5
anim = 3020
pos = 170, 0
postype = p1
sprpriority = 5

[State 3010,Explod]
type = Explod
trigger1 = AnimElem = 19
anim = 6130
pos = 150, 0
postype = p1
sprpriority = 5

[State 3010,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 4
anim = 3012
pos = 0, 0
postype = p1
sprpriority = 4
removeongethit = 1
bindtime = -1
id = 307

[State 3010,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 3000, 1

[State 3010,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Kung Fu Beat_LV2(Start)
[Statedef 3100]
type = S
movetype = A
physics = S
anim = 3100
ctrl = 0
velset = 0, 0
poweradd = -2000

[State 3100,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 20

[State 3100,SuperPause]
type = SuperPause
trigger1 = time = 1
time = 32
movetime = 32
anim = -1

[State 3100,EnvColor]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 3100,EnvColor]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 3100,AfterImage]
type = AfterImage
trigger1 = AnimElem = 2
time = 999
TimeGap = 2
FrameGap = 4
length = 12
PalBright = 1,1,1
PalContrast = 125, 0, 0
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3100,Var]
type = Varset
trigger1 = Time = 0
var(1) = 1

[State 3100,Helper]
type = Helper
triggerall = prevstateno =1030 || prevstateno =1100 || prevstateno =1110 || prevstateno =1120 || prevstateno =1200 || prevstateno =1210 || prevstateno =1220
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3100,Helper]
type = Helper
triggerall = prevstateno =1301 || prevstateno =1311 || prevstateno =1321 || prevstateno =1420 || prevstateno =1430 || prevstateno =1440 || prevstateno =2130
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3100,Explod]
type = Explod
trigger1 = Time = 1
trigger1= facing = 1
anim = 4526*ifelse(random<100,100,1)
pos = 0,0
postype = left
facing = 1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3100,Explod]
type = Explod
trigger1 = Time = 1
trigger1= facing = -1
anim = 4526*ifelse(random<100,100,1)
pos = 0,0
postype = Right
facing = -1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3100,Explod]
type = Explod
trigger1 = time = 1
anim = 6265
sprpriority = -1
postype = p1
pos = 40, -55
bindtime = 1
supermove = 1
ownpal = 1

[State 3100,Explod]
type = Explod
trigger1 = Time = 11
anim = 6260
sprpriority = 3
postype = p1
pos = 40, -55
bindtime = 1
supermove = 1
ownpal = 1

[State 3100,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 6000,2

[State 3100,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 3100,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,3

[State 3100,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 3110

;---------------------------------------------------------------------------
;Kung Fu Beat_LV2
[Statedef 3110]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 3110+ifelse((Palno > 6 || var(17) >= 2),1,0)
ctrl = 0
sprpriority = 2

[State 3110,NotHitBy]
type = NotHitBy
trigger1 = animelem = 1
value = SCA
time =  15

[State 3110,AfterImage]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2

[State 3110,AfterImage]
type = AfterImageTime
trigger1 = AnimElemTime(1) >= 1 && Time < 60
time = 2

[State 3110,AttackDist]
type = AttackDist
trigger1 = Time>=5
value = 230

[State 3110,Projectile]
type = Projectile
trigger1 = AnimElem = 2
projanim = 3130+ifelse((Palno > 6 || var(17) >= 2),1,0)
projhitanim = 3130+ifelse((Palno > 6 || var(17) >= 2),1,0)
projpriority = 99
offset = 0, 0
projremovetime = 32
projhits = 8
attr = S, HP
damage   = 15+ifelse((Palno > 6 || var(17) >= 2),15,0), 3+ifelse((Palno > 6 || var(17) >= 2),7,0)
givepower = 10, 5
getpower = 0
animtype = DiagUp
guardflag = MA
pausetime = 1,9
sparkno = S6090
guard.sparkno = S7120
sparkxy = 100,-40
hitsound   = S500, 0
guardsound = S400,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -1, -10
air.type = Low
air.velocity = -2,-3
guard.velocity = -9
airguard.velocity = 0
air.juggle = 15
fall = 1
fall.recover = 0

[State 3110,Pause]
type = Pause
trigger1 = ProjContact = 1
time = 4
pausebg = 0

[State 3110,EnvShake]
type = EnvShake
trigger1 =  ProjContact = 1
time = 3
ampl = 6

[State 3110,Envcolor]
type = Envcolor
trigger1 = ProjContact = 1
value = 255,255,255
time = 1
under = 1

[State 3010,Envcolor]
type = Envcolor
trigger1 = movehit = 1
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1

[State 3110,HitDef]
type = HitDef
trigger1 = AnimElem = 8
trigger2 = AnimElem = 15
trigger3 = AnimElem = 22
attr = S, HA
animtype  = Hard
damage    = 14+ifelse((Palno > 6 || var(17) >= 2),5,0), 3+ifelse((Palno > 6 || var(17) >= 2),7,0)
getpower  = 0
givepower = 10, 5
guardflag = MA
pausetime = 0,2
sparkno = S6040
guard.sparkno = S6000
sparkxy = 0,-80     
hitsound = S600, 1            
guardsound = S400, 0    
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-2
air.velocity = 1,0
air.fall = 1
fall.animtype = Hard
fall.recover = 0
envshake.time = 4
envshake.ampl = -5

[State 3110,HitDef]
type = HitDef
trigger1 = AnimElem = 9
trigger2 = AnimElem = 16
attr = S, HA
animtype  = Hard
damage    = 13+ifelse((Palno > 6 || var(17) >= 2),5,0), 3+ifelse((Palno > 6 || var(17) >= 2),7,0)
getpower  = 0
givepower = 10, 5
guardflag = MA
pausetime = 0,2
sparkno = S6060
guard.sparkno = S6020
sparkxy = -15,-60
hitsound   = S600,2
guardsound = S400,1
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-2
air.velocity = 1,0
air.fall = 1
fall.animtype = Hard
fall.recover = 0
envshake.time = 4
envshake.ampl = -5

[State 3110,HitDef]
type = HitDef
trigger1 = AnimElem = 10
trigger2 = AnimElem = 17
attr = S, HA
animtype  = Hard
damage    = 13+ifelse((Palno > 6 || var(17) >= 2),5,0), 3+ifelse((Palno > 6 || var(17) >= 2),7,0)
getpower  = 0
givepower = 10, 5
guardflag = MA
pausetime = 0,2
sparkno = S6050
guard.sparkno = S6010
sparkxy = 0, -60
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-2
air.velocity = 1,0
air.fall = 1
fall.animtype = Hard
fall.recover = 0
envshake.time = 4
envshake.ampl = -5

[State 3110,HitDef]
type = HitDef
trigger1 = AnimElem = 11
trigger2 = AnimElem = 18
attr = S, HA
animtype  = Hard
damage    = 13+ifelse((Palno > 6 || var(17) >= 2),5,0), 3+ifelse((Palno > 6 || var(17) >= 2),7,0)
getpower  = 0
givepower = 10, 5
guardflag = MA
pausetime = 0,2
sparkno = S6070
guard.sparkno = S6010
sparkxy = -10,-60
hitsound   = S10,0
guardsound = S4,1
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-2
air.velocity = 1,0
air.fall = 1
fall.animtype = Hard
fall.recover = 0
envshake.time = 4
envshake.ampl = -5

[State 3110,HitDef]
type = HitDef
trigger1 = AnimElem = 12
trigger2 = AnimElem = 19
attr = S, HA
animtype  = Hard
damage    = 13+ifelse((Palno > 6 || var(17) >= 2),5,0), 3+ifelse((Palno > 6 || var(17) >= 2),7,0)
getpower  = 0
givepower = 10, 5
guardflag = MA
pausetime = 0,2
sparkno = S6070
guard.sparkno = S6010
sparkxy = -10,-60
hitsound   = S10,0
guardsound = S4,1
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-4
air.velocity = 1,-2
air.fall = 1
fall.animtype = Hard
fall.recover = 0
envshake.time = 4
envshake.ampl = -5

[State 3110,HitDef]
type = HitDef
trigger1 = AnimElem = 23
trigger2 = AnimElem = 24
attr = S, HA
animtype  = Hard
damage    = 12+ifelse((Palno > 6 || var(17) >= 2),5,0), 3+ifelse((Palno > 6 || var(17) >= 2),7,0)
getpower  = 0
givepower = 10, 5
guardflag = MA
pausetime = 0,2
sparkno = S6070
guard.sparkno = S6010
sparkxy = -10,-60
hitsound   = S10,0
guardsound = S4,1
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,0
air.velocity = 3,-6
air.fall = 1
fall.animtype = Hard
fall.recover = 0
envshake.time = 4
envshake.ampl = -5
[State 3110,Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 3041
pos = 10, 10
postype = p1
sprpriority = 5

[State 3110,Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 3042
pos = 10, 10
postype = p1
sprpriority = 5

[State 3110,Explod]
type = Explod
trigger1 = AnimElem = 5
anim = 3020
pos = 50, 0
postype = p1
sprpriority = 5
facing = -1

[State 3010,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 8
anim = 3012
pos = 0, 0
postype = p1
sprpriority = 4
removeongethit = 1
bindtime = -1
id = 307

[State 3110,Explod]
type = Explod
trigger1 = AnimElem = 19
anim = 6130
pos = 30, 0
postype = p1
sprpriority = 5
facing = -1

[State 3110,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3000, 3

[State 3110,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 3000, 0

[State 3110,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 8
value = 3000, 1

[State 3110,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Kung Fu Beat_LV3(Start)
[Statedef 3200]
type = S
movetype = A
physics = S
anim = 3100
ctrl = 0
velset = 0, 0
poweradd = -3000

[State 3200,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time =  20

[State 3200,SuperPause]
type = SuperPause
trigger1 = time = 1
time = 32
movetime = 32
anim = -1

[State 3200,EnvColor]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 3200,EnvColor]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 3200,AfterImage]
type = AfterImage
trigger1 = AnimElem = 2
time = 999
TimeGap = 2
FrameGap = 4
length = 12
PalBright = 1,1,1
PalContrast = 125, 0, 0
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3200,Var]
type = Varset
trigger1 = Time = 0
var(1) = 1

[State 3200,Helper]
type = Helper
triggerall = prevstateno =1030 || prevstateno =1100 || prevstateno =1110 || prevstateno =1120 || prevstateno =1200 || prevstateno =1210 || prevstateno =1220
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3200,Helper]
type = Helper
triggerall = prevstateno =1301 || prevstateno =1311 || prevstateno =1321 || prevstateno =1420 || prevstateno =1430 || prevstateno =1440 || prevstateno =2130
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3200,Explod]
type = Explod
trigger1 = Time = 1
trigger1= facing = 1
anim = 4526*ifelse(random<100,100,1)
pos = 0,0
postype = left
facing = 1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3200,Explod]
type = Explod
trigger1 = Time = 1
trigger1= facing = -1
anim = 4526*ifelse(random<100,100,1)
pos = 0,0
postype = Right
facing = -1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3200,Explod]
type = Explod
trigger1 = time = 1
anim = 6275
sprpriority = -1
postype = p1
pos = 40, -55
bindtime = 1
supermove = 1
ownpal = 1

[State 3200,Explod]
type = Explod
trigger1 = Time = 11
anim = 6270
sprpriority = 3
postype = p1
pos = 40, -55
bindtime = 1
supermove = 1
ownpal = 1

[State 3200,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 700,2

[State 3200,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 3200,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,3

[State 3200,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 3210

;---------------------------------------------------------------------------
;Kung Fu Beat_LV3
[Statedef 3210]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 3200+ifelse((Palno > 6 || var(17) >= 2),1,0)
ctrl = 0
sprpriority = 2

[State 3210,NotHitBy]
type = NotHitBy
trigger1 = animelem = 1
value = SCA
time =  20

[State 3210,AfterImage]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2

[State 3210,AfterImage]
type = AfterImageTime
trigger1 = AnimElemTime(1) >= 1 && Time < 60
time = 2

[State 3210,Projectile]
type = Projectile
trigger1 = AnimElem = 2
projanim = 3130+ifelse((Palno > 6 || var(17) >= 2),1,0)
projhitanim = 3130+ifelse((Palno > 6 || var(17) >= 2),1,0)
projpriority = 99
offset = 0, 0
projremovetime = 32
projhits = 8
attr = S, HP
damage   = 15+ifelse((Palno > 6 || var(17) >= 2),15,0), 5+ifelse((Palno > 6 || var(17) >= 2),5,0)
givepower = 10, 5
getpower = 0
animtype = DiagUp
guardflag = M
pausetime = 1,9
sparkno = S6090
guard.sparkno = S7120
sparkxy = 100,-40
hitsound   = S500, 0
guardsound = S400,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -1, -10
air.type = Low
air.velocity = -2,-3
guard.velocity = -9
airguard.velocity = 0
air.juggle = 15
fall = 1
fall.recover = 0

[State 3210,Pause]
type = Pause
trigger1 = ProjContact = 1
time = 4
pausebg = 0

[State 3210,EnvShake]
type = EnvShake
trigger1 =  ProjContact = 1
time = 3
ampl = 6

[State 3210,Envcolor]
type = Envcolor
trigger1 = ProjContact = 1
value = 255,255,255
time = 1
under = 1

[State 3210,Envcolor]
type = Envcolor
trigger1 = movehit = 1
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1

[State 3210,AttackDist]
type = AttackDist
trigger1 = Time>=5
value = 230

[State 3210,HitDef]
type = HitDef
trigger1 = AnimElem = 8
trigger2 = AnimElem = 15
trigger3 = AnimElem = 22
attr = S, HA
animtype  = Hard
damage    = 15+ifelse((Palno > 6 || var(17) >= 2),5,0), 3+ifelse((Palno > 6 || var(17) >= 2),7,0)
getpower  = 0
givepower = 10, 5
guardflag = MA
pausetime = 0,2
sparkno = S6040
guard.sparkno = S6000
sparkxy = 0,-80     
hitsound = S600, 1            
guardsound = S400, 0    
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-2
air.velocity = 10,-2
air.fall = 1
fall.animtype = Hard
fall.recover = 0
envshake.time = 4
envshake.ampl = -5

[State 3210,HitDef]
type = HitDef
trigger1 = AnimElem = 9
trigger2 = AnimElem = 16
attr = S, HA
animtype  = Hard
damage    = 15+ifelse((Palno > 6 || var(17) >= 2),5,0), 3+ifelse((Palno > 6 || var(17) >= 2),7,0)
getpower  = 0
givepower = 10, 5
guardflag = MA
pausetime = 0,2
sparkno = S6060
guard.sparkno = S6020
sparkxy = -15,-60
hitsound   = S600,2
guardsound = S400,1
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-2
air.velocity = 1,-2
air.fall = 1
fall.animtype = Hard
fall.recover = 0
envshake.time = 4
envshake.ampl = -5

[State 3210,HitDef]
type = HitDef
trigger1 = AnimElem = 10
trigger2 = AnimElem = 17
attr = S, HA
animtype  = Hard
damage    = 15+ifelse((Palno > 6 || var(17) >= 2),5,0), 3+ifelse((Palno > 6 || var(17) >= 2),7,0)
getpower  = 0
givepower = 10, 5
guardflag = MA
pausetime = 0,2
sparkno = S6050
guard.sparkno = S6010
sparkxy = 0, -60
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-2
air.velocity = 1,-2
air.fall = 1
fall.animtype = Hard
fall.recover = 0
envshake.time = 4
envshake.ampl = -5

[State 3210,HitDef]
type = HitDef
trigger1 = AnimElem = 11
trigger2 = AnimElem = 18
attr = S, HA
animtype  = Hard
damage    = 15+ifelse((Palno > 6 || var(17) >= 2),5,0), 3+ifelse((Palno > 6 || var(17) >= 2),7,0)
getpower  = 0
givepower = 10, 5
guardflag = MA
pausetime = 0,2
sparkno = S6070
guard.sparkno = S6010
sparkxy = -10,-60
hitsound   = S10,0
guardsound = S4,1
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-2
air.velocity = 1,-2
air.fall = 1
fall.animtype = Hard
fall.recover = 0
envshake.time = 4
envshake.ampl = -5

[State 3210,HitDef]
type = HitDef
trigger1 = AnimElem = 12
trigger2 = AnimElem = 19
attr = S, HA
animtype  = Hard
damage    = 15+ifelse((Palno > 6 || var(17) >= 2),5,0), 3+ifelse((Palno > 6 || var(17) >= 2),7,0)
getpower  = 0
givepower = 10, 5
guardflag = MA
pausetime = 0,2
sparkno = S6060
guard.sparkno = S6020
sparkxy = -15,-60
hitsound   = S600,2
guardsound = S400,1
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-2
air.velocity = 1,-2
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 3210,HitDef]
type = HitDef
trigger1 = AnimElem = 13
trigger2 = AnimElem = 20
attr = S, HA
animtype  = Hard
damage    = 15+ifelse((Palno > 6 || var(17) >= 2),5,0), 3+ifelse((Palno > 6 || var(17) >= 2),7,0)
getpower  = 0
givepower = 10, 5
guardflag = MA
pausetime = 0,2
sparkno = S6050
guard.sparkno = S6010
sparkxy = 0, -60
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-2
air.velocity = 1,-2
air.fall = 1
fall.animtype = Hard
fall.recover = 0
numhits = 2

[State 3110,HitDef]
type = HitDef
trigger1 = AnimElem = 23
trigger2 = AnimElem = 24
attr = S, HA
animtype  = Hard
damage    = 15+ifelse((Palno > 6 || var(17) >= 2),5,0), 3+ifelse((Palno > 6 || var(17) >= 2),7,0)
getpower  = 0
givepower = 10, 5
guardflag = MA
pausetime = 0,2
sparkno = S6070
guard.sparkno = S6010
sparkxy = -10,-60
hitsound   = S10,0
guardsound = S4,1
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,0
air.velocity = 3,-4
air.fall = 1
fall.animtype = Hard
fall.recover = 0
envshake.time = 4
envshake.ampl = -5

[State 3210,HitDef]
type = HitDef
trigger1 = AnimElem =27
attr = S, HA
animtype  = Hard
damage    = 90+ifelse((Palno > 6 || var(17) >= 2),70,0), 20+ifelse((Palno > 6 || var(17) >= 2),30,0)
getpower  = 0
givepower = 15, 10
guardflag = MA
pausetime = 20,15
sparkno = S6070
guard.sparkno = S6020
sparkxy = -15,-60
hitsound   = S1500,0
guardsound = S400,1
ground.type = Low
ground.slidetime = 40
ground.hittime  = 40
ground.velocity = -5, -4
guard.velocity = -25
air.velocity = -5,-4
airguard.velocity = -3,-3
fall.animtype = Hard
fall = 1
fall.recover = 0
envshake.time = 30
envshake.ampl = -15
envshake.freq = 100
envshake.phase = 10

[State 3210,EnvShake]
type = EnvShake
trigger1 = AnimElem = 27
time = 8
ampl = 3
freq = 170

[State 3210,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 27
anim = 3142
pos = 0, 0
postype = p1
sprpriority = 4
removeongethit = 1
bindtime = -1
id = 307

[State 3210,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 8
anim = 3012
pos = 0, 0
postype = p1
sprpriority = 4
removeongethit = 1
bindtime = -1
id = 307

[State 3210,Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 3041
pos = 10, 10
postype = p1
sprpriority = 5

[State 3210,Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 3042
pos = 10, 10
postype = p1
sprpriority = 5

[State 3210,Explod]
type = Explod
trigger1 = AnimElem = 5
anim = 3020
pos = 50, 0
postype = p1
sprpriority = 5
facing = -1

[State 3210,Explod]
type = Explod
trigger1 = AnimElem = 19
anim = 6130
pos = 30, 0
postype = p1
sprpriority = 5
facing = -1

[State 3210,Explod]
type = Explod
trigger1 = AnimElem = 27
anim = 3140
pos = 10, 10
postype = p1
sprpriority = 5

[State 3210,Explod]
type = Explod
trigger1 = AnimElem = 27
anim = 3150
pos = 0, 0
postype = p1
sprpriority = 5

[State 3210,Explod]
type = Explod
trigger1 = AnimElem = 27
anim = 3020
pos = 50, 0
postype = p1
sprpriority = 5

[State 3210,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3000, 3

[State 3210,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 3000, 0

[State 3210,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 8
value = 3000, 1

[State 3210,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 23
value = 3000,5

[State 3210,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 27
value = 3000, 4

[State 3210,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Triple KFPalm_LV1(Start)
[Statedef 3500]
type = S
movetype = A
physics = S
anim = 3500
ctrl = 0
velset = 0, 0
poweradd = -1000

[State 3500,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 20

[State 3500,SuperPause]
type = SuperPause
trigger1 = time = 1
time = 32
movetime = 32
anim = -1

[State 3500,EnvColor]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 3500,EnvColor]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 3500,Var]
type = Varset
trigger1 = Time = 0
var(1) = 0

[State 3500,Helper]
type = Helper
triggerall = prevstateno =1030 || prevstateno =1100 || prevstateno =1110 || prevstateno =1120 || prevstateno =1200 || prevstateno =1210 || prevstateno =1220
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3500,Helper]
type = Helper
triggerall = prevstateno =1301 || prevstateno =1311 || prevstateno =1321 || prevstateno =1420 || prevstateno =1430 || prevstateno =1440 || prevstateno =2130
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3500,Explod]
type = Explod
trigger1 = time = 1 
anim = 6255
sprpriority = -1
postype = p1
pos = -32, -58
bindtime = 1
supermove = 1
ownpal = 1

[State 3500,Explod]
type = Explod
trigger1 = time = 11 
anim = 6250
sprpriority = 3
postype = p1
pos = -32, -58
bindtime = 1
supermove = 1
ownpal = 1

[State 3500,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 6000,0

[State 3500,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 3500,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 3510

;---------------------------------------------------------------------------
;Triple KFPalm_LV1
[Statedef 3510]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 3510+ifelse((Palno > 6 || var(17) >= 2),1,0)
ctrl = 0
sprpriority = 2

[State 3510,Width]
type = Width
trigger1 = AnimElem = 2, >= 0
value = 15,0

[State 3510,AfterImage]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2

[State 3510,AfterImage]
type = AfterImageTime
trigger1 = AnimElemTime(1) >= 1 && Time < 60
time = 2

[State 3510,NotHitBy]
type = NotHitBy
trigger1 = AnimElem = 1
value = , NA, SA, AT
time = 20

[State 3510,NotHitBy]
type = NotHitBy
trigger1 = AnimElemTime(1) >= 0 && Time < 30
value2 = C, NA
time = 1

[State 3510,Vel]
type = VelSet
trigger1 = AnimElem = 2
trigger2 = AnimElem = 9
trigger3 = AnimElem = 16
trigger4 = AnimElem = 17
x = 10
[State 3510,Vel]
type = VelSet
trigger1 = AnimElem = 3
trigger2 = AnimElem = 10
trigger3 = AnimElem = 18
x = 6
[State 3510,Vel]
type = VelSet
trigger1 = AnimElem = 4
trigger2 = AnimElem = 11
x = 2

[State 3510,HitDef]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 9
attr = S, HA
animtype  = Hard
damage    = 80+ifelse((Palno > 6 || var(17) >= 2),20,0), 10+ifelse((Palno > 6 || var(17) >= 2),20,0)
getpower  = 0
givepower = 20, 10
guardflag = MA
pausetime = 0,15
sparkno = S6060
guard.sparkno = S6020
sparkxy = -15,-60
hitsound   = S600,2
guardsound = S400,1
ground.type = Low
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -6
air.velocity = -3,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 3510,HitDef]
type = HitDef
trigger1 = AnimElem = 16
attr = S, HA
animtype  = Hard
damage    = 85+ifelse((Palno > 6 || var(17) >= 2),20,0), 20+ifelse((Palno > 6 || var(17) >= 2),30,0)
getpower  = 0
givepower = 20, 10
guardflag = MA
pausetime = 0,15
sparkno = S6070
guard.sparkno = S6020
sparkxy = -15,-60
hitsound   = S1500,0
guardsound = S400,1
ground.type = Low
ground.slidetime = 40
ground.hittime  = 40
ground.velocity = -5, -4
guard.velocity = -12
air.velocity = -5,-4
airguard.velocity = -3,-3
fall.animtype = Hard
fall = 1
fall.recover = 0
envshake.time = 30
envshake.ampl = -15
envshake.freq = 100
envshake.phase = 10

[State 3510,Envcolor]
type = Envcolor
trigger1 = movehit = 1
value = 255,255,255
time = 3
under = 1
ignorehitpause = 1

[State 1200,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 2
trigger2 = AnimElem = 9
anim = 11010
pos = 0, -16
postype = p1
sprpriority = 4
bindtime = -1
scale = 1,.7
id = 307

[State 1200,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 16
anim = 11010
pos = 0, 0
postype = p1
sprpriority = 4
bindtime = -1
id = 307

[State 3510,Explod]
type = Explod
trigger1 = AnimElem = 2
trigger2 = AnimElem = 9
anim = 1115
pos = 12, 3
postype = p1
sprpriority = 5
facing = -1

[State 3510,Explod]
type = Explod
trigger1 = AnimElem = 2
trigger2 = AnimElem = 9
anim = 1125
pos = 0, 0
postype = p1
sprpriority = 5

[State 3510,Explod]
type = Explod
trigger1 = AnimElem = 16
anim = 1125
pos = 22, 3
postype = p1
sprpriority = 5
facing = -1
bindtime = -1

[State 1200,Explod]
type = Explod
trigger1 = AnimElem = 16
anim = 1135
pos = 0, 0
postype = p1
sprpriority = 4

[State 3510,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3500, 0 

[State 3510,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 9
value = 300, 1 

[State 3510,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 16
value = 300, 2

[State 3510]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Triple KFPalm_LV2(Start)
[Statedef 3600]
type = S
movetype = A
physics = S
anim = 3600
ctrl = 0
velset = 0, 0
poweradd = -2000

[State 3600]
type = varset
trigger1 = Time = 0
var(1) = 1

[State 3600]
type = NotHitBy
trigger1 = 1
value = SCA
time = 8

[State 3600]
type = SuperPause
trigger1 = time = 1
time = 32
movetime = 32
anim = -1

[State 3600]
type = Explod
trigger1 = Time = 1
trigger1= facing = 1
anim = 4526*ifelse(random<100,100,1)
pos = 0,0
postype = left
facing = 1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3600]
type = Explod
trigger1 = Time = 1
trigger1= facing = -1
anim = 4526*ifelse(random<100,100,1)
pos = 0,0
postype = Right
facing = -1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3600]
type = Explod
trigger1 = time = 1
anim = 6265
sprpriority = -1
postype = p1
pos = -18, -69
bindtime = 1
supermove = 1
ownpal = 1

[State 3600]
type = Explod
trigger1 = Time = 11
anim = 6260
sprpriority = 3
postype = p1
pos = -18, -69
bindtime = 1
supermove = 1
ownpal = 1

[State 3600]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 3600]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 3600]
type = AfterImage
trigger1 = AnimElem = 2
time = 999
TimeGap = 2
FrameGap = 4
length = 12
PalBright = 1,1,1
PalContrast = 125, 0, 0
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3600]
type = PlaySnd
trigger1 = Time = 1
value = 6000,2

[State 3600]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 3600]
type = PlaySnd
trigger1 = Time = 20
value = 6000,3

[State 3600]
type = Helper
triggerall = prevstateno =1030 || prevstateno =1100 || prevstateno =1110 || prevstateno =1120 || prevstateno =1200 || prevstateno =1210 || prevstateno =1220
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3600]
type = Helper
triggerall = prevstateno =1301 || prevstateno =1311 || prevstateno =1321 || prevstateno =1420 || prevstateno =1430 || prevstateno =1440 || prevstateno =2130
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3600]
type = ChangeState
trigger1 = AnimTime = 0
value = 3610

;---------------------------------------------------------------------------
;Triple KFPalm_LV2
[Statedef 3610]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 3610+ifelse((Palno > 6 || var(17) >= 2),1,0)
ctrl = 0
sprpriority = 2

[State 3610,Width]
type = Width
trigger1 = AnimElem = 1, >= 0
value = 15,0

[State 3610,NotHitBy]
type = NotHitBy
trigger1 = AnimElem = 1
value = , NA, SA, AT
time = 20

[State 3610,NotHitBy]
type = NotHitBy
trigger1 = AnimElemTime(1) >= 0 && Time < 30
value2 = C, NA
time = 1

[State 3610,AfterImage]
type = AfterImage
trigger1 = AnimElem = 1, 1
time = 2

[State 3610,AfterImage]
type = AfterImageTime
trigger1 = AnimElemTime(1) >= 1 && Time < 60
time = 2

[State 3610,Vel]
type = VelSet
trigger1 = AnimElem = 2
trigger2 = AnimElem = 9
x = 7

[State 3610,Vel]
type = VelSet
trigger1 = AnimElem = 3
trigger2 = AnimElem = 10
trigger3 = AnimElem = 17
x = 4

[State 3610,Vel]
type = VelSet
trigger1 = AnimElem = 4
trigger2 = AnimElem = 11
trigger3 = AnimElem = 18
x = 2

[State 3610,Vel]
type = VelSet
trigger1 = AnimElem = 16
x = 20

[State 3610,HitDef]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 10
attr = S, HA
animtype  = Hard
damage    = 100+ifelse((Palno > 6 || var(17) >= 2),50,0), 15+ifelse((Palno > 6 || var(17) >= 2),25,0)
getpower  = 0
givepower = 25, 15
guardflag = MA
pausetime = 0,15
sparkno = S6060
guard.sparkno = S6020
sparkxy = -15,-60
hitsound   = S600,2
guardsound = S400,1
ground.type = Low
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -8
air.velocity = -3,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 3610,HitDef]
type = HitDef
trigger1 = AnimElem = 17
attr = S, HA
animtype  = Hard
damage    = 120+ifelse((Palno > 6 || var(17) >= 2),80,0), 30+ifelse((Palno > 6 || var(17) >= 2),30,0)
getpower  = 0
givepower = 25, 15
guardflag = MA
pausetime = 0,15
sparkno = S6070
guard.sparkno = S6020
sparkxy = -15,-60
hitsound   = S1500,0
guardsound = S400,1
ground.type = Low
ground.slidetime = 40
ground.hittime  = 40
ground.velocity = -5, -4
guard.velocity = -25
air.velocity = -5,-4
airguard.velocity = -3,-3
fall.animtype = Hard
fall = 1
fall.recover = 0
envshake.time = 30
envshake.ampl = -15
envshake.freq = 100
envshake.phase = 10

[State 3610,Envcolor]
type = Envcolor
trigger1 = movehit = 1
value = 255,255,255
time = 3
under = 1
ignorehitpause = 1

[State 3610,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 2
trigger2 = AnimElem = 9
trigger3 = AnimElem = 16
anim = 14210
pos = -20, 39
postype = p1
sprpriority = 4
bindtime = -1
scale = 1,1.5
id = 307

[State 1200,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 2
trigger2 = AnimElem = 9
anim = 11010
pos = 150, -16
postype = p1
sprpriority = 4
bindtime = -1
scale = 1,.7
id = 307

[State 1200,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 16
anim = 11010
pos = 150, 0
postype = p1
sprpriority = 4
bindtime = -1
id = 307

[State 3610,Explod]
type = Explod
trigger1 = AnimElem = 2
trigger2 = AnimElem = 9
anim = 1115
pos = 12, 3
postype = p1
sprpriority = 5
facing = -1

[State 3610,Explod]
type = Explod
trigger1 = AnimElem = 2
trigger2 = AnimElem = 9
anim = 1125
pos = 0, 0
postype = p1
sprpriority = 5

[State 3610,Explod]
type = Explod
trigger1 = AnimElem = 16
anim = 1125
pos = 22, 3
postype = p1
sprpriority = 5
facing = -1
bindtime = -1

[State 1200,Explod]
type = Explod
trigger1 = AnimElem = 16
anim = 1135
pos = 0, 0
postype = p1
sprpriority = 4

[State 3610,Explod]
type = Explod
trigger1 = AnimElem = 16
anim = 3120
pos = -20, 0
postype = p1
sprpriority = 5
bindtime = -1

[State 3610,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3500, 0 

[State 3610,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 9
value = 300, 1 

[State 3610,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 16
value = 300, 2

[State 3610,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 10
trigger3 = AnimElem = 17
value = 1400, 0 

[State 3610,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Triple KFPalm_LV3(Start)
[Statedef 3700]
type = S
movetype = A
physics = S
anim = 3600
ctrl = 0
velset = 0, 0
poweradd = -3000

[State 3700,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 20

[State 3700,Varset]
type = Varset
trigger1 = Time = 0
var(1) = 1

[State 3700,SuperPause]
type = SuperPause
trigger1 = time = 1
time = 32
movetime = 32
anim = -1

[State 3700,EnvColor]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 3700,EnvColor]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 3700,AfterImage]
type = AfterImage
trigger1 = AnimElem = 2
time = 999
TimeGap = 2
FrameGap = 4
length = 12
PalBright = 1,1,1
PalContrast = 125, 0, 0
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3700,Helper]
type = Helper
triggerall = prevstateno =1030 || prevstateno =1100 || prevstateno =1110 || prevstateno =1120 || prevstateno =1200 || prevstateno =1210 || prevstateno =1220
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3700,Helper]
type = Helper
triggerall = prevstateno =1301 || prevstateno =1311 || prevstateno =1321 || prevstateno =1420 || prevstateno =1430 || prevstateno =1440 || prevstateno =2130
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3700,Explod]
type = Explod
trigger1 = Time = 1
trigger1= facing = 1
anim = 4526*ifelse(random<100,100,1)
pos = 0,0
postype = left
facing = 1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3700,Explod]
type = Explod
trigger1 = Time = 1
trigger1= facing = -1
anim = 4526*ifelse(random<100,100,1)
pos = 0,0
postype = Right
facing = -1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3700,Explod]
type = Explod
trigger1 = time = 1
anim = 6275
sprpriority = -1
postype = p1
pos = -18, -69
bindtime = 1
supermove = 1
ownpal = 1

[State 3700,Explod]
type = Explod
trigger1 = Time = 11
anim = 6270
sprpriority = 3
postype = p1
pos = -18, -69
bindtime = 1
supermove = 1
ownpal = 1

[State 3700,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 700,2

[State 3700,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 3700,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,3

[State 3700,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 3710

;---------------------------------------------------------------------------
;Triple KFPalm_LV3
[Statedef 3710]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 3700+ifelse((Palno > 6 || var(17) >= 2),1,0)
ctrl = 0
sprpriority = 2

[State 3710,NotHitBy]
type = NotHitBy
trigger1 = AnimElem = 1
value = , NA, SA, AT
time = 20

[State 3710, NotHitBy]
type = NotHitBy
trigger1 = AnimElemTime(1) >= 0 && Time < 30
value2 = C, NA
time = 1

[State 3710,Width]
type = Width
trigger1 = AnimElem = 1, >= 0
value = 15,0

[State 3710,AfterImage]
type = AfterImage
trigger1 = AnimElem = 1, 1
time = 2

[State 3710,AfterImage]
type = AfterImageTime
trigger1 = AnimElemTime(1) >= 1 && Time < 60
time = 2

[State 3710,Vel]
type = VelSet
trigger1 = AnimElem = 2
trigger2 = AnimElem = 9
trigger3 = AnimElem = 16
trigger4 = AnimElem = 23
x = 8

[State 3710,Vel]
type = VelSet
trigger1 = AnimElem = 3
trigger2 = AnimElem = 10
trigger3 = AnimElem = 17
trigger4 = AnimElem = 24
trigger5 = AnimElem = 31
x = 5

[State 3710,Vel]
type = VelSet
trigger1 = AnimElem = 4
trigger2 = AnimElem = 11
trigger3 = AnimElem = 18
trigger4 = AnimElem = 25
trigger5 = AnimElem = 32
x = 3

[State 3710,Vel]
type = VelSet
trigger1 = AnimElem = 30
x = 15

[State 3710,HitDef]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 10
trigger3 = AnimElem = 17
trigger4 = AnimElem = 24
attr = S, HA
animtype  = Hard
damage    = 80+ifelse((Palno > 6 || var(17) >= 2),45,0), 10+ifelse((Palno > 6 || var(17) >= 2),20,0)
getpower  = 0
givepower = 18, 12
guardflag = MA
pausetime = 0,15
sparkno = S6060
guard.sparkno = S6020
sparkxy = -15,-60
hitsound   = S600,2
guardsound = S400,1
ground.type = Low
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -8
air.velocity = -3,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 3710,HitDef]
type = HitDef
trigger1 = AnimElem =31
attr = S, HA
animtype  = Hard
damage    = 110+ifelse((Palno > 6 || var(17) >= 2),90,0), 20+ifelse((Palno > 6 || var(17) >= 2),30,0)
getpower  = 0
givepower = 18, 12
guardflag = MA
pausetime = 0,15
sparkno = S6070
guard.sparkno = S6020
sparkxy = -15,-60
hitsound   = S1500,0
guardsound = S400,1
ground.type = Low
ground.slidetime = 40
ground.hittime  = 40
ground.velocity = -5, -4
guard.velocity = -25
air.velocity = -5,-4
airguard.velocity = -3,-3
fall.animtype = Hard
fall = 1
fall.recover = 0
envshake.time = 30
envshake.ampl = -15
envshake.freq = 100
envshake.phase = 10

[State 3710,Envcolor]
type = Envcolor
trigger1 = movehit = 1
value = 255,255,255
time = 3
under = 1
ignorehitpause = 1

[State 3710,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 2
trigger2 = AnimElem = 9
trigger3 = AnimElem = 16
trigger4 = AnimElem = 23
trigger5 = AnimElem = 30
anim = 14210
pos = -20, 39
postype = p1
sprpriority = 4
bindtime = -1
scale = 1,1.5
id = 307

[State 3710,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 2
trigger2 = AnimElem = 9
trigger3 = AnimElem = 16
trigger4 = AnimElem = 23
anim = 11010
pos = 150, -16
postype = p1
sprpriority = 4
bindtime = -1
scale = 1,.7
id = 307

[State 3710,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 30
anim = 11010
pos = 150, 0
postype = p1
sprpriority = 4
bindtime = -1
id = 307

[State 3710,Explod]
type = Explod
trigger1 = AnimElem = 2
trigger2 = AnimElem = 9
trigger3 = AnimElem = 16
trigger4 = AnimElem = 23
anim = 1115
pos = 12, 3
postype = p1
sprpriority = 5
facing = -1

[State 3710,Explod]
type = Explod
trigger1 = AnimElem = 2
trigger2 = AnimElem = 9
trigger3 = AnimElem = 16
trigger4 = AnimElem = 23
anim = 1125
pos = 0, 0
postype = p1
sprpriority = 5

[State 3710,Explod]
type = Explod
trigger1 = AnimElem = 30
anim = 1125
pos = 22, 3
postype = p1
sprpriority = 5
facing = -1
bindtime = -1

[State 3710,Explod]
type = Explod
trigger1 = AnimElem = 30
anim = 1135
pos = 0, 0
postype = p1
sprpriority = 4

[State 3710,Explod]
type = Explod
trigger1 = AnimElem = 30
anim = 3120
pos = -20, 0
postype = p1
sprpriority = 5
bindtime = -1

[State 3710,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3500, 0 

[State 3710,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 9
trigger3 = AnimElem = 16
trigger4 = AnimElem = 23
value = 300, 1 

[State 3710,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 30
value = 300, 2

[State 3710,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 10
trigger3 = AnimElem = 17
trigger4 = AnimElem = 24
trigger5 = AnimElem = 31
value = 1400, 0 

[State 3710,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Kung Fu Chaos_LV1(Start)
[Statedef 4000]
type = S
movetype = A
physics = S
anim = 4000
ctrl = 0
velset = 0, 0
poweradd = -1000

[State 4000,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 4

[State 4000,Var]
type = Varset
trigger1 = Time = 0
var(1) = 0

[State 4000,SuperPause]
type = SuperPause
trigger1 = time = 1
time = 32
movetime = 32
anim = -1

[State 4000,EnvColor]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 50
value = 0, 0, 0
under = 1

[State 4000,Explod]
type = Explod
trigger1 = time = 1 
anim = 6255
sprpriority = -1
postype = p1
pos = -38, -70
bindtime = 1
supermove = 1
ownpal = 1

[State 4000,Explod]
type = Explod
trigger1 = time = 11 
anim = 6250
sprpriority = 3
postype = p1
pos = -38, -70
bindtime = 1
supermove = 1
ownpal = 1

[State 4000,Helper]
type = Helper
triggerall = prevstateno =1030 || prevstateno =1100 || prevstateno =1110 || prevstateno =1120 || prevstateno =1200 || prevstateno =1210 || prevstateno =1220
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 4000,Helper]
type = Helper
triggerall = prevstateno =1301 || prevstateno =1311 || prevstateno =1321 || prevstateno =1420 || prevstateno =1430 || prevstateno =1440 || prevstateno =2130
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 4000,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 6000,0

[State 4000,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 4000,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 4010

;---------------------------------------------------------------------------
;Kung Fu Chaos_LV1
[Statedef 4010]
type    = S
movetype= A
physics = S
anim = 4010
velset = 0,0
ctrl = 0
sprpriority = -1

[State 4010,Hitby]
type = Hitby
trigger1 = PalNo > 6 && animtime <= -22
value = SA, AT

[State 4010,Hitby]
type = Hitby
trigger1 = PalNo <= 6 && animtime <= -22
value = SA, AA, AT

[State 4010,NotHitBy]
type = NotHitBy
trigger1 = animtime > -22
value = SCA

[State 4010,EnvShake]
type = EnvShake
trigger1 = AnimElem = 1
time = 50
ampl = -2
freq = 120
phase = 10

[State 4010,Envcolor]
type = Envcolor
trigger1 = AnimElem = 1,>=0
trigger1 = AnimElem = 21,<0
value = 0,0,0
time = 1
under = 1

[State 4010,AttackDist]
type = AttackDist
trigger1 = Time>50
value = 320

[State 4010,Helper]
type = Helper
trigger1 = AnimElem = 21
helpertype = normal
name = "lv3"
ID = 4011
pos = 0,0
postype = back
facing = 1
stateno = 4011
keyctrl = 0
ownpal = 1

[State 4010,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 21
anim = 4101
pos = 0,181
postype = back
sprpriority = 4
bindtime = -1
id = 307

[State 4010,PlaySnd]
type = PlaySnd
trigger1 = Time = 10
value = 4000,0
channel = 0

[State 4010,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 4000,1
channel = 17

[State 4010,ChangeState]
type = ChangeState
trigger1 = time = 160 -ifelse((Palno > 6 || var(17) >= 2),10,0)
value = 4040

;---------------------------------------------
;Kung Fu Chaos_LV1(Helper)
[Statedef 4011]
type=A
movetype=A
physics=N
anim = 4103
ctrl=0
sprpriority = 15

[State 4011,Nothitby]
type = Nothitby
trigger1 =1
value = S, ST
time = 100

[State 4011,HitDef]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
attr = S, HA
animtype  = Hard
damage    = 15+ifelse((Parent,Palno > 6 || Parent,var(17) >= 2),4,0), 3+ifelse((Parent,Palno > 6 || Parent,var(17) >= 2),1,0)
getpower  = 0
givepower = 10, 5
priority  = 6
guardflag = MA
pausetime = 0,10
sparkxy = -10,-60
sparkno = S6050
guard.sparkno = S6020
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-8
air.velocity = 1,-5
air.fall = 1
fall.recover = 0 
fall.animtype = Hard
sprpriority = 15

[State 4011,HitDef]
type = HitDef
trigger1 = AnimElem = 6
trigger2 = AnimElem = 7
trigger3 = AnimElem = 8
trigger4 = AnimElem = 9
trigger5 = AnimElem = 10
attr = S, HA
animtype  = Hard
damage    = 13+ifelse((Parent,Palno > 6 || Parent,var(17) >= 2),4,0),3+ifelse((Parent,Palno > 6 || Parent,var(17) >= 2),1,0)
getpower  = 0
givepower = 10, 5
priority  = 6
guardflag = MA
pausetime = 0,50
sparkxy = -10,-60
sparkno = S6050
guard.sparkno = S6020
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-4
air.velocity = 1,0
air.fall = 1
fall.recover = 0 
fall.animtype = Hard
sprpriority = 15

[State 4011,HitDef]
type = HitDef
trigger1 = AnimElem = 11
trigger2 = AnimElem = 12
trigger3 = AnimElem = 13
trigger4 = AnimElem = 14
trigger5 = AnimElem = 15
trigger6 = AnimElem = 16
trigger7 = AnimElem = 17
trigger8 = AnimElem = 18
trigger9 = AnimElem = 19
attr = S, HA
animtype  = Hard
damage    = 11+ifelse((Parent,Palno > 6 || Parent,var(17) >= 2),3,0),3+ifelse((Parent,Palno > 6 || Parent,var(17) >= 2),1,0)
getpower  = 0
givepower = 10, 5
priority  = 6
guardflag = MA
pausetime = 0,20
sparkxy = -10,-60
sparkno = S6050
guard.sparkno = S6020
hitsound = s600, 2
guardsound = s400, 1
ground.type = high
ground.slidetime = 1
ground.hittime  = 50
ground.velocity = 1,-2
air.velocity = -4, -5
air.fall = 1
fall.recover = 0 
air.hittime = 50
fall.animtype = Hard
sprpriority = 15

[State 4011,HitDef]
type = HitDef
trigger1 = AnimElem = 20
attr = S, NA
damage = 21+ifelse((Parent,Palno > 6 || Parent,var(17) >= 2),3,0), 3+ifelse((Parent,Palno > 6 || Parent,var(17) >= 2),1,0)
animtype  = Hard
getpower  = 0
givepower = 10, 5
priority  = 6
guardflag = MA
pausetime = 0,5
sparkxy = -10,-60
sparkno = S6050
guard.sparkno = S6020
hitsound = s600, 2
guardsound = s400, 1
ground.type = high
ground.slidetime = 1
ground.hittime  = 50
ground.velocity = 1,-2
air.velocity = -5, -7
air.fall = 1
fall.recover = 0 
air.hittime = 50
fall.animtype = Hard
sprpriority = 15

[State 4011,Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 4100
sprpriority = 12
postype = back
pos = 0,181
vel = 0, 0
removetime = 100
ownpal = 1
bindtime = -1
removeongethit = 1

[State 4011,DestroySelf]
type = DestroySelf
trigger1 = time = 100
trigger2 = parent,movetype = H

;---------------------------------------------------------------------------
;Kung Fu Chaos_LV1(End)
[Statedef 4040]
type    = S
movetype= A
physics = S
juggle  = 0
ctrl = ifelse((Parent,Palno > 6 || Parent,var(17) >= 2),1,0)
anim = 4040
sprpriority = 2

[State 4040,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Kung Fu Chaos_LV2(Start)
[Statedef 4100]
type = S
movetype = A
physics = S
anim = 4000
ctrl = 0
velset = 0, 0
poweradd = -2000

[State 4100,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 4

[State 4100,Var]
type = Varset
trigger1 = Time = 0
var(1) = 1

[State 4100,SuperPause]
type = SuperPause
trigger1 = time = 1
time = 32
movetime = 32
anim = -1

[State 4000,EnvColor]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 90
value = 0, 0, 0
under = 1

[State 4100,Helper]
type = Helper
triggerall = prevstateno =1030 || prevstateno =1100 || prevstateno =1110 || prevstateno =1120 || prevstateno =1200 || prevstateno =1210 || prevstateno =1220
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 4100,Helper]
type = Helper
triggerall = prevstateno =1301 || prevstateno =1311 || prevstateno =1321 || prevstateno =1420 || prevstateno =1430 || prevstateno =1440 || prevstateno =2130
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 4100,Explod]
type = Explod
trigger1 = Time = 1
trigger1= facing = 1
anim = 4526*ifelse(random<100,100,1)
pos = 0,0
postype = left
facing = 1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 4100,Explod]
type = Explod
trigger1 = Time = 1
trigger1= facing = -1
anim = 4526*ifelse(random<100,100,1)
pos = 0,0
postype = Right
facing = -1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 4100,Explod]
type = Explod
trigger1 = time = 1
anim = 6265
sprpriority = -1
postype = p1
pos = -38, -70
bindtime = 1
supermove = 1
ownpal = 1

[State 4100,Explod]
type = Explod
trigger1 = Time = 11
anim = 6260
sprpriority = 3
postype = p1
pos = -38, -70
bindtime = 1
supermove = 1
ownpal = 1

[State 4100,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 6000,2

[State 4100,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 4100,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,3

[State 4100,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 4110

;---------------------------------------------------------------------------
;Kung Fu Chaos_LV2
[Statedef 4110]
type    = S
movetype= A
physics = S
anim = 4020
velset = 0,0
ctrl = 0
sprpriority = -1

[State 4110,Hitby]
type = Hitby
trigger1 = PalNo > 6 && animtime <= -27
value = SA, AT

[State 4110,Hitby]
type = Hitby
trigger1 = PalNo <= 6 && animtime <= -27
value = SA, AA, AT

[State 4110,NotHitBy]
type = NotHitBy
trigger1 = animtime > -27
value = SCA

[State 4110,EnvShake]
type = EnvShake
trigger1 = animelem = 1
time = 50
ampl = -2
freq = 120
phase = 10

[State 4110,AttackDist]
type = AttackDist
trigger1 = Time>50
value = 320

[State 4110,Helper]
type = Helper
trigger1 = AnimElem = 26
helpertype = normal
name = "lv3"
ID = 4111
pos = 0,0
postype = back
facing = 1
stateno = 4111
keyctrl = 0
ownpal = 1

[State 4110,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 26
anim = 4111
pos = 0,181
postype = back
sprpriority = 4
bindtime = -1
id = 307

[State 4110,PlaySnd]
type = PlaySnd
trigger1 = Time = 10
value = 4000,0
channel = 0

[State 4110,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 4000,1
channel = 17

[State 4110,ChangeState]
type = ChangeState
trigger1 = time = 215 -ifelse((Palno > 6 || var(17) >= 2),15,0)
value = 4040

;---------------------------------------------------------------------------
;Kung Fu Chaos_LV2(Helper)
[Statedef 4111]
type=A
movetype=A
physics=N
anim = 4104
ctrl=0
sprpriority = 15

[State 4111,Nothitby]
type = Nothitby
trigger1 =1
value = S, ST
time = 150

[State 4111,HitDef]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
trigger6 = AnimElem = 6
trigger7 = AnimElem = 7
trigger8 = AnimElem = 8
trigger9 = AnimElem = 9
trigger10 = AnimElem = 10
attr = S, HA
animtype  = Hard
damage    = 15+ifelse((Parent,Palno > 6 || Parent,var(17) >= 2),5,0), 3+ifelse((Parent,Palno > 6 || Parent,var(17) >= 2),1,0)
getpower  = 0
givepower = 10, 5
priority  = 6
guardflag = MA
pausetime = 0,10
sparkxy = -10,-60
sparkno = S6060
guard.sparkno = S6020
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-8
air.velocity = 1,-5
air.fall = 1
fall.recover = 0 
fall.animtype = Hard
sprpriority = 15

[State 4111,HitDef]
type = HitDef
trigger1 = AnimElem = 11
trigger2 = AnimElem = 12
trigger3 = AnimElem = 13
trigger4 = AnimElem = 14
trigger5 = AnimElem = 15
trigger6 = AnimElem = 16
trigger7 = AnimElem = 17
trigger8 = AnimElem = 18
trigger9 = AnimElem = 19
trigger10 = AnimElem = 20
attr = S, HA
animtype  = Hard
damage    = 12+ifelse((Parent,Palno > 6 || Parent,var(17) >= 2),5,0),3+ifelse((Parent,Palno > 6 || Parent,var(17) >= 2),1,0)
getpower  = 0
givepower = 10, 5
priority  = 6
guardflag = MA
pausetime = 0,50
sparkxy = -10,-60
sparkno = S6060
guard.sparkno = S6020
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-4
air.velocity = 1,0
air.fall = 1
fall.recover = 0 
fall.animtype = Hard
sprpriority = 15

[State 4111,HitDef]
type = HitDef
trigger1 = AnimElem = 21
trigger2 = AnimElem = 22
trigger3 = AnimElem = 23
trigger4 = AnimElem = 24
trigger5 = AnimElem = 25
trigger6 = AnimElem = 26
trigger7 = AnimElem = 27
trigger8 = AnimElem = 28
trigger9 = AnimElem = 29
attr = S, HA
animtype  = Hard
damage    = 9+ifelse((Parent,Palno > 6 || Parent,var(17) >= 2),4,0),3+ifelse((Parent,Palno > 6 || Parent,var(17) >= 2),1,0)
getpower  = 0
givepower = 10, 5
priority  = 6
guardflag = MA
pausetime = 0,20
sparkxy = -10,-60
sparkno = S6060
guard.sparkno = S6020
hitsound = s600, 2
guardsound = s400, 1
ground.type = high
ground.slidetime = 1
ground.hittime  = 50
ground.velocity = 1,-2
air.velocity = -4, -5
air.fall = 1
fall.recover = 0 
air.hittime = 50
fall.animtype = Hard
sprpriority = 15

[State 4111,HitDef]
type = HitDef
trigger1 = AnimElem = 30
attr = S, NA
animtype  = Hard
damage    = 19+ifelse((Parent,Palno > 6 || Parent,var(17) >= 2),4,0),3+ifelse((Parent,Palno > 6 || Parent,var(17) >= 2),1,0)
getpower  = 0
givepower = 10, 5
priority  = 6
guardflag = MA
pausetime = 0,5
sparkxy = -10,-60
sparkno = S6060
guard.sparkno = S6020
hitsound = s600, 2
guardsound = s400, 1
ground.type = high
ground.slidetime = 1
ground.hittime  = 50
ground.velocity = 1,-2
air.velocity = -6, -7
air.fall = 1
fall.recover = 0 
air.hittime = 50
fall.animtype = Hard
sprpriority = 15

[State 4111,Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 4110
ID = 4110
sprpriority = 12
postype = back
pos = 0,181
vel = 0, 0
removetime = 150
ownpal = 1
bindtime = -1
removeongethit = 1

[State 4111,DestroySelf]
type = DestroySelf
trigger1 = time = 150

;---------------------------------------------------------------------------
;Kung Fu Chaos_LV3(Start)
[Statedef 4200]
type = S
movetype = A
physics = S
anim = 4000
ctrl = 0
velset = 0, 0
poweradd = -3000

[State 4200,Var]
type = Varset
trigger1 = Time = 0
var(1) = 1

[State 4200,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 8

[State 4200,SuperPause]
type = SuperPause
trigger1 = time = 1
time = 32
movetime = 32
anim = -1

[State 4200,Explod]
type = Explod
trigger1 = Time = 1
trigger1= facing = 1
anim = 4526*ifelse(random<100,100,1)
pos = 0,0
postype = left
facing = 1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 4200,Explod]
type = Explod
trigger1 = Time = 1
trigger1= facing = -1
anim = 4526*ifelse(random<100,100,1)
pos = 0,0
postype = Right
facing = -1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 4200,Explod]
type = Explod
trigger1 = time = 1
anim = 6275
sprpriority = -1
postype = p1
pos = -38, -70
bindtime = 1
supermove = 1
ownpal = 1

[State 4200,Explod]
type = Explod
trigger1 = Time = 11
anim = 6270
sprpriority = 3
postype = p1
pos = -38, -70
bindtime = 1
supermove = 1
ownpal = 1

[State 4200]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 90
value = 0, 0, 0
under = 2

[State 4200,AfterImage]
type = AfterImage
trigger1 = AnimElem = 2
time = 100
TimeGap = 2
FrameGap = 4
length = 12
PalBright = 1,1,1
PalContrast = 125, 0, 0
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 4200,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 700,2

[State 4200,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 4200,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,3

[State 4200,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 191, 1

[State 4200,Helper]
type = Helper
triggerall = prevstateno =1030 || prevstateno =1100 || prevstateno =1110 || prevstateno =1120 || prevstateno =1200 || prevstateno =1210 || prevstateno =1220
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 4200,Helper]
type = Helper
triggerall = prevstateno =1301 || prevstateno =1311 || prevstateno =1321 || prevstateno =1420 || prevstateno =1430 || prevstateno =1440 || prevstateno =2130
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 4200,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 4210

;---------------------------------------------------------------------------
;Kung Fu Chaos_LV3
[Statedef 4210]
type    = S
movetype= A
physics = S
anim = 4030
velset = 0,0
ctrl = 0
sprpriority = -1

[State 4210,Hitby]
type = Hitby
trigger1 = PalNo > 6 && animtime <= -27
value = SA, AT

[State 4210,Hitby]
type = Hitby
trigger1 = PalNo <= 6 && animtime <= -27
value = SA, AA, AT

[State 4210,NotHitBy]
type = NotHitBy
trigger1 = animtime > -27
value = SCA

[State 4210,EnvShake]
type = EnvShake
trigger1 = animelem = 1
time = 50
ampl = -2
freq = 120
phase = 10

[State 4210,AttackDist]
type = AttackDist
trigger1 = Time>50
value = 320

[State 4210,Helper]
type = Helper
trigger1 = AnimElem = 26
helpertype = normal
name = "lv3"
ID = 4211
pos = 0,0
postype = back
facing = 1
stateno = 4211
keyctrl = 0
ownpal = 1

[State 4210,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 26
anim = 4121
pos = 0,181
postype = back
sprpriority = 4
bindtime = -1
id = 307

[State 4210,PlaySnd]
type = PlaySnd
trigger1 = Time = 10
value = 4000,0
channel = 0

[State 4210,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 4000,1
channel = 17

[State 4210,ChangeState]
type = ChangeState
trigger1 = time = 315 -ifelse((Palno > 6 || var(17) >= 2),20,0)
value = 4040

;---------------------------------------------------------------------------
;Kung Fu Chaos_LV3(Helper)
[Statedef 4211]
type=A
movetype=A
physics=N
anim = 4105
ctrl=0
sprpriority = 15

[State 4211,Nothitby]
type = Nothitby
trigger1 =1
value = S, ST
time = 250

[State 4211,HitDef]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
trigger6 = AnimElem = 6
trigger7 = AnimElem = 7
trigger8 = AnimElem = 8
trigger9 = AnimElem = 9
trigger10 = AnimElem = 10
trigger11 = AnimElem = 11
trigger12 = AnimElem = 12
trigger13 = AnimElem = 13
trigger14 = AnimElem = 14
trigger15 = AnimElem = 15
trigger16 = AnimElem = 16
trigger17 = AnimElem = 17
trigger18 = AnimElem = 18
trigger19 = AnimElem = 19
trigger20 = AnimElem = 20
attr = S, HA
animtype  = Hard
damage    = 12+ifelse((Parent,Palno > 6 || Parent,var(17) >= 2),5,0),3+ifelse((Parent,Palno > 6 || Parent,var(17) >= 2),1,0)
getpower  = 0
givepower = 10, 5
priority  = 6
guardflag = MA
pausetime = 0,10
sparkxy = -10,-60
sparkno = S6070
guard.sparkno = S6020
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-8
air.velocity = 1,-5
air.fall = 1
fall.recover = 0 
fall.animtype = Hard
sprpriority = 15

[State 4211,HitDef]
type = HitDef
trigger1 = AnimElem = 21
trigger2 = AnimElem = 22
trigger3 = AnimElem = 23
trigger4 = AnimElem = 24
trigger5 = AnimElem = 25
trigger6 = AnimElem = 26
trigger7 = AnimElem = 27
trigger8 = AnimElem = 28
trigger9 = AnimElem = 29
trigger10 = AnimElem = 30
attr = S, HA
animtype  = Hard
damage    = 10+ifelse((Parent,Palno > 6 || Parent,var(17) >= 2),5,0),3+ifelse((Parent,Palno > 6 || Parent,var(17) >= 2),1,0)
getpower  = 0
givepower = 10, 5
priority  = 6
guardflag = MA
pausetime = 0,50
sparkxy = -10,-60
sparkno = S6070
guard.sparkno = S6020
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-4
air.velocity = 1,0
air.fall = 1
fall.recover = 0 
fall.animtype = Hard
sprpriority = 15

[State 4211,HitDef]
type = HitDef
trigger1 = AnimElem = 31
trigger2 = AnimElem = 32
trigger3 = AnimElem = 33
trigger4 = AnimElem = 34
trigger5 = AnimElem = 35
trigger6 = AnimElem = 36
trigger7 = AnimElem = 37
trigger8 = AnimElem = 38
trigger9 = AnimElem = 39
trigger10 = AnimElem = 40
attr = S, HA
animtype  = Hard
damage    = 8+ifelse((Parent,Palno > 6 || Parent,var(17) >= 2),4,0),3+ifelse((Parent,Palno > 6 || Parent,var(17) >= 2),1,0)
getpower  = 0
givepower = 10, 5
priority  = 6
guardflag = MA
pausetime = 0,50
sparkxy = -10,-60
sparkno = S6070
guard.sparkno = S6020
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-4
air.velocity = 1,0
air.fall = 1
fall.recover = 0 
fall.animtype = Hard
sprpriority = 15

[State 4211,HitDef]
type = HitDef
trigger1 = AnimElem = 41
trigger2 = AnimElem = 42
trigger3 = AnimElem = 43
trigger4 = AnimElem = 44
trigger5 = AnimElem = 45
trigger6 = AnimElem = 46
trigger7 = AnimElem = 47
trigger8 = AnimElem = 48
trigger9 = AnimElem = 49
attr = S, HA
animtype  = Hard
damage    = 7+ifelse((Parent,Palno > 6 || Parent,var(17) >= 2),4,0),3+ifelse((Parent,Palno > 6 || Parent,var(17) >= 2),1,0)
getpower  = 0
givepower = 10, 5
priority  = 6
guardflag = MA
pausetime = 0,20
sparkxy = -10,-60
sparkno = S6070
guard.sparkno = S6020
hitsound = s600, 2
guardsound = s400, 1
ground.type = high
ground.slidetime = 1
ground.hittime  = 50
ground.velocity = 1,-2
air.velocity = -4, -5
air.fall = 1
fall.recover = 0 
air.hittime = 50
fall.animtype = Hard
sprpriority = 15

[State 4211,HitDef]
type = HitDef
trigger1 = AnimElem = 50
attr = S, NA
damage = 7+ifelse((Parent,Palno > 6 || Parent,var(17) >= 2),4,0),3+ifelse((Parent,Palno > 6 || Parent,var(17) >= 2),1,0)
animtype  = Hard
;damage    = 7,3
getpower  = 0
givepower = 10, 5
priority  = 6
guardflag = MA
pausetime = 0,5
sparkxy = -10,-60
sparkno = S6070
guard.sparkno = S6020
hitsound = s600, 2
guardsound = s400, 1
ground.type = high
ground.slidetime = 1
ground.hittime  = 50
ground.velocity = 1,-2
air.velocity = -7, -7
air.fall = 1
fall.recover = 0 
air.hittime = 50
fall.animtype = Hard
sprpriority = 15

[State 4211,Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 4120
ID = 4120
sprpriority = 12
postype = back
pos = 0,181
vel = 0, 0
removetime = 250
ownpal = 1
bindtime = -1
removeongethit = 1

[State 4211,DestroySelf]
type = DestroySelf
trigger1 = time = 250

;------------------------------------------------------------------------
;Hokuto Hyakuretsu Ken(Start)
[Statedef 4600]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7000
sprpriority = 2
poweradd = -3000

[State 4600,NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 20

[State 4600,Posfreeze]
type = Posfreeze
trigger1 = time <= 60

[State 4600,Vel]
type = Veladd
triggerall = pos y < 0
trigger1 = time = 60
y = -4
persistent = 0

[State 4600,Vel]
type = Veladd
triggerall = pos y < 0
trigger1 = time >= 60
y = 0.45

[State 4600,Vel]
type = Velset
triggerall = pos y >= 0
trigger1 = time >= 60
y = 0

[State 4600,BGpalfx]
type = BGpalfx
trigger1 = time >= 6
time = 5
add = 100,-20,-40
mul = 150,150,150
ignorehitpause = 1

[State 4600,Var]
type = Varset
trigger1 = time = 1
v = 50
value = 0

[State 4600,Var]
type = Varset
trigger1 = movehit
v = 23
value = 1

[State 4600,SuperPause]
type = SuperPause
trigger1 = time = 6
time = 68
movetime = 68
pos = -14,-9
anim = -1
sound = S220,0
poweradd = 0
darken = 0

[State 4600,HitDef]
type = HitDef
trigger1 = time >= 1
persistent = 0
attr = A, HT
damage = 25, 8
kill = 0
getpower = 0
givepower = 0
animtype = hard;heavy
hitflag = MAF
guardflag = M
priority = 5, hit
pausetime = 10, 15
guard.pausetime = 15, 15
sparkno = S6070
guard.sparkno = S6010
sparkxy = -10,-60
hitsound = s1500, 0
guardsound = s400, 1
ground.type = low
ground.slidetime = 1
ground.hittime  = 1
ground.velocity = -1
air.velocity = -1,-5
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = 0
guard.slidetime = 14
ground.cornerpush.veloff = -5
p2stateno = 4650
envshake.time = 15
envshake.ampl = 8

[State 4600,Helper]
type = Helper
trigger1 = time = 6
helpertype = normal
name = "cutin"
ID = 4601
stateno = 4601
postype = back
pos = -0,50
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 4600,Explod]
type = Explod
trigger1 = time = 6
anim = 7001
postype = p1
pos = 0,0
ownpal = 1
sprpriority = -5
supermovetime = 100
scale = const(size.xscale),const(size.yscale)

[State 4600,Assertspecial]
type = Assertspecial
trigger1 = movehit
flag = nomusic

[State 4600,PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 4600,1
channel = 0

[State 4600,PlaySnd]
type = PlaySnd
trigger1 = time = 65
value = 4600,5
channel = 0

[State 4600,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 4600,9
channel = 1

[State 4600,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 27
value = 300,2
channel = 2

[State 4600,Playsnd]
type = Playsnd
trigger1 = movehit
value = 4600,0
channel = 8
volume = 50
persistent = 0

[State 4600,ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 4610
ctrl = 0

[State 4600,ChangeState]
type = ChangeState
trigger1 = movehit
value = 4620
ignorehitpause = 1

;---------------------------------------------------------------------------
;Hokuto Hyakuretsu Ken(Cut in)
[Statedef 4601]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 999
sprpriority = 2
velset = 12,0

[State 4601,Posadd]
type = Posadd
trigger1 = time >= 0
y = (200 - screenpos y)

[State 4601,Vel]
type = Velmul
trigger1 = time >= 5
x = 0.9

[State 4601,Palfx]
type = Palfx
trigger1 = time > 50
time = 1
mul = 255-(time*3),255-(time*3),255-(time*3)

[State 4601,Explod]
type = Explod
trigger1 = time <= 30
anim = 4524
pos = -100,-200
ownpal = 1
sprpriority = -5
supermovetime =100
removeongethit = 1
bindtime = -1
scale = 0.9,0.9

[State 4601,Explod]
type = Explod
trigger1 = time > 30
anim = 4525
pos = -100,-200
ownpal = 0
sprpriority = -5
supermovetime =100
removeongethit = 1
bindtime = -1
scale = 0.8+(time*0.01),0.8+(time*0.01)

[State 4601,Destroyself]
type = Destroyself
trigger1 = time = 100
trigger2 = parent,movetype = H

;------------------------------------------------------------------------
;Hokuto Hyakuretsu Ken_500(Start)
[Statedef 4602]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7000
sprpriority = 2
poweradd = -4000

[State 4602,NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 20

[State 4602,Posfreeze]
type = Posfreeze
trigger1 = time <= 60

[State 4602,Vel]
type = Veladd
triggerall = pos y < 0
trigger1 = time = 60
y = -4
persistent = 0

[State 4602,Vel]
type = Veladd
triggerall = pos y < 0
trigger1 = time >= 60
y = 0.45

[State 4602,Vel]
type = Velset
triggerall = pos y >= 0
trigger1 = time >= 60
y = 0

[State 4602,BGpalfx]
type = BGpalfx
trigger1 = time >= 6
time = 5
add = 100,-20,-40
mul = 150,150,150
ignorehitpause = 1

[State 4602,Var]
type = Varset
trigger1 = time = 1
v = 50
value = 0

[State 4602,Var]
type = Varset
trigger1 = movehit
v = 23
value = 1

[State 4602,SuperPause]
type = SuperPause
trigger1 = time = 6
time = 68
movetime = 68
pos = -14,-9
anim = -1
sound = S220,0
poweradd = 0
darken = 0

[State 4602,HitDef]
type = HitDef
trigger1 = time >= 1
persistent = 0
attr = A, HT
damage = 25, 8
kill = 0
getpower = 0
givepower = 0
animtype = hard;heavy
hitflag = MAF
guardflag = M
priority = 5, hit
pausetime = 10, 15
guard.pausetime = 15, 15
sparkno = S6070
guard.sparkno = S6010
sparkxy = -10,-60
hitsound = s1500, 0
guardsound = s400, 1
ground.type = low
ground.slidetime = 1
ground.hittime  = 1
ground.velocity = -1
air.velocity = -1,-5
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = 0
guard.slidetime = 14
ground.cornerpush.veloff = -5
p2stateno = 4650
envshake.time = 15
envshake.ampl = 8

[State 4602,Helper]
type = Helper
trigger1 = time = 6
helpertype = normal
name = "cutin"
ID = 4601
stateno = 4601
postype = back
pos = -0,50
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 4602,Explod]
type = Explod
trigger1 = time = 6
anim = 7001
postype = p1
pos = 0,0
ownpal = 1
sprpriority = -5
supermovetime = 100
scale = const(size.xscale),const(size.yscale)

[State 4602,Assertspecial]
type = Assertspecial
trigger1 = movehit
flag = nomusic

[State 4602,PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 4600,1
channel = 0

[State 4602,PlaySnd]
type = PlaySnd
trigger1 = time = 65
value = 4600,5
channel = 0

[State 4602,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 4600,9
channel = 1

[State 4602,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 27
value = 300,2
channel = 2

[State 4602,Playsnd]
type = Playsnd
trigger1 = movehit
value = 4600,0
channel = 8
volume = 50
persistent = 0

[State 4602,ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 4610
ctrl = 0

[State 4602,ChangeState]
type = ChangeState
trigger1 = movehit
value = 4620
ignorehitpause = 1

;---------------------------------------------------------------------------
;Hokuto Hyakuretsu Ken(Miss)
[Statedef 4610]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7020
sprpriority = 1
velset = 0,0

[State 4610,Vel]
type = Veladd
triggerall = pos y < 0
trigger1 = time >= 0
y = 0.45

[State 4610,Vel]
type = Velset
triggerall = pos y >= 0
trigger1 = time >= 0
y = 0

[State 4610,Powerset]
type = Powerset
trigger1 = time = 0
value = 0

[State 4610,Var]
type = Varset
trigger1 = time = 0
v = 24
value = 6

[State 4610,Var]
type = Varset
trigger1 = time = 0
v = 48
value = 0

[State 4610,ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Hokuto Hyakuretsu Ken(Success1)
[Statedef 4620]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7014;7010
sprpriority = 2
velset = 0,0

[State 4620,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = timerfreeze

[State 4620,Vel]
type = Veladd
triggerall = pos y < 0
trigger1 = time >= 10
y = 0.45

[State 4620,Vel]
type = Velset
triggerall = pos y >= 0
trigger1 = time >= 10
y = 0

[State 4620,Assertspecial]
type = Assertspecial
trigger1 = time = 0
flag = nomusic

[State 4620,Var]
type = Varset
trigger1 = time = 0
v = 23
value = 1

[State 4620,Changeanim]
type = Changeanim
trigger1 = time = 176
value = 7015;7011

[State 4620,Changeanim]
type = Changeanim
trigger1 = time = 254
value = 7016;7012

[State 4620,Envshake]
type = Envshake
trigger1 = time = 56
time = 200
ampl = 5

[State 4620,Var]
type = Varrandom
trigger1 = time >= 0
v = 19
range = -15,15

[State 4620,Var]
type = Varrandom
trigger1 = time >= 0
v = 18
range = -15,15

[State 4620,Hitadd]
type = Hitadd
trigger1 = time = 56
value = (enemy,gethitvar(hitcount))*-1

[State 4620,Hitadd]
type = Hitadd
trigger1 = time >= 57
value = 1
persistent = 2

[State 4620,Explod]
type = Explod
trigger1 = time = 18
anim = 7005
pos = 0, 0
postype = p1
sprpriority = 5
bindtime = -1

[State 4620,Explod]
type = Explod
persistent = 30
trigger1 = random >= 800
trigger1 = time >= 50
anim = 7031
postype = back
pos = -80,125
random = 60,80
ownpal = 1
velocity = 10.5+(var(19)*0.1),0+(var(19)*0.1)
sprpriority = -3
pausemovetime = 250
supermovetime =250
removeongethit = 1
scale = 0.5,0.5
removetime = 25
id = 7033

[State 4620,Explod]
type = Explod
persistent = 51
trigger1 = time >= 81
anim = 7033
postype = back
pos = -40,256
ownpal = 1
velocity = 0,-10
sprpriority = -5
pausemovetime = 250
supermovetime =250
removeongethit = 1
scale = 2,2
removetime = 80
id = 7033

[State 4620,Explod]
type = Explod
persistent = 30
trigger1 = random >= 800
trigger1 = time >= 52
anim = 7032
postype = back
pos = -80,112
random = 60,120
ownpal = 1
velocity = 10.5+(var(19)*0.1),0+(var(19)*0.1)
sprpriority = -5
pausemovetime = 250
supermovetime =250
removeongethit = 1
scale = 0.5,0.5
removetime = 25
id = 7033

[State 4620,Explod]
type = Explod
trigger1 = time >= 56
anim = 7030
postype = back
pos = -8,0
ownpal = 1
random = 4,4
sprpriority = -4
pausemovetime = 250
supermovetime =250
bindtime = -1
removeongethit = 1
scale = 0.5,0.5
removetime = 1
id = 7033

[State 4620,Explod]
type = Explod
trigger1 = time = 56
anim = 7033
postype = back
pos = -40,0
ownpal = 1
velocity = 0,-10
sprpriority = -5
pausemovetime = 250
supermovetime =250
removeongethit = 1
scale = 2,2
removetime = 48

[State 4620,Explod]
type = Explod
persistent = 4
trigger1 = time = [56,176]
anim = 6070
postype = p1
pos = 50,-60
random = 30,30
ownpal = 1
sprpriority = 5
ontop = 1
pausemovetime = 100
supermovetime =100

[State 4620,Explod]
type = Explod
persistent = 4
trigger1 = time >= 182
anim = 6070
postype = p1
pos = 30,-60
random = 30,50
ownpal = 1
sprpriority = 5
ontop = 1
pausemovetime = 100
supermovetime =100

[State 4620,Removeexplod]
type = Removeexplod
trigger1 = time >= 255
id = 7033

[State 4620,BGpalfx]
type = BGpalfx
trigger1 = time >= 0
time = 5
add = 100,-20,-40
mul = 150,150,150
ignorehitpause = 1

[State 4620,ChangeState]
type = ChangeState
trigger1 = time = 256
value = 4621
ctrl = 0

[State 4620,Helper]
type = Helper
triggerall = Numhelper(4623) = 0
triggerall = Numhelper(4624) = 0
triggerall = enemy,Numhelper(4623) = 0
triggerall = enemy,Numhelper(4624) = 0
trigger1 = time = 1
helpertype = normal
name = "nomusic"
ID = 4623
stateno = 4623
postype = p1
pos = 0,-100
keyctrl = 0
ownpal = 1
pausemovetime = 99999
supermovetime = 99999

[State 4620,Helper]
type = Helper
trigger1 = time = 18
helpertype = normal
name = "efe"
ID = 4622
stateno = 4622
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 300
supermovetime = 300

[State 4620,PlaySnd]
type = Playsnd
trigger1 = time = 0
value = 4600,0
channel = 8
volume = 50
persistent = 0

[State 4620,PlaySnd]
type = PlaySnd
trigger1 = time = 12
value = 4600,7

[State 4620,PlaySnd]
type = PlaySnd
trigger1 = time = 18
value = 4600,10
channel = 5

[State 4620,PlaySnd]
type = PlaySnd
trigger1 = time = 55
value = 4600,2
channel = 3

[State 4620,PlaySnd]
type = Playsnd
persistent = 6
trigger1 = time >= 56
value = 4600,8
channel = 2

[State 4620,PlaySnd]
type = PlaySnd
trigger1 = time >= 57
value = 4600,6
persistent = 20
channel = 1

[State 4620,PlaySnd]
type = PlaySnd
trigger1 = time = 250
value = 4600,3
channel = 4

;---------------------------------------------------------------------------
;Hokuto Hyakuretsu Ken(Character)
[Statedef 4621]
type    = S
movetype= A
physics = S
ctrl = 0
sprpriority = 1
velset = 0,0

[State 4621,Var]
type = Varset
trigger1 = time >= 76
fv = 2
value = 1

[State 4621,Var]
type = Varset
trigger1 = time = 0
v = 24
value = 0

[State 4621,Posadd]
type = Posadd
trigger1 = time >= 120
trigger1 = frontedgedist <= 90
x = -2

[State 4621,Envshake]
type = Envshake
trigger1 = time = 0
time = 8
ampl = 9

[State 4621,Envcolor]
type = Envcolor
trigger1 = 1
ignorehitpause = 1
value = 0,0,0
under = 1

[State 4621,Explod]
type = Explod
trigger1 = time = 1
anim = 7050
postype = left
pos = 42,184
ownpal = 0
sprpriority = 5
ontop = 1
pausemovetime = 120
supermovetime =120

[State 4621,Explod]
type = Explod
trigger1 = time = 0
anim = 7002
ID = 7002
sprpriority = -12
postype = back
pos = 0,210
vel = 0, 0
ownpal = 0
bindtime = -1
removeongethit = 1
scale = 1.2,1.2

[State 4621,Explod]
type = Explod
trigger1 = time = 0
anim = 7036
removetime = 119
postype = p1
pos = 10,-17
ownpal = 0
sprpriority = 5
pausemovetime = 120
supermovetime =120

[State 4621,Pause]
type = Pause
trigger1 = time = 1
time = 120
movetime = 120

[State 4621,PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = 4600,4
channel = 6

[State 4621,ChangeState]
type = ChangeState
triggerall = animtime = 0
trigger1 = !win
value = 0
ctrl = 1

[State 4621,ChangeState]
type = ChangeState
triggerall = animtime = 0
trigger1 = win
value = 4625
ctrl = 1

;---------------------------------------------------------------------------
;Hokuto Hyakuretsu Ken(Clothes)
[Statedef 4622]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 998
sprpriority = 3
velset = 0,0

[State 4622,Assertspecial]
type = Assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 4622,Palfx]
type = Palfx
trigger1 = time >= 0
time = 1
mul = 255 - (time*5),255 - (time*5),255 - (time*5)

[State 4622,Explod]
type = Explod
trigger1 = time = [1,25]
anim = 7034
postype = p1
pos = 0,-40
ownpal = 0
sprpriority = -4
scale = 0.5,0.5
pausemovetime = 100
supermovetime =100

[State 4622,Explod]
type = Explod
trigger1 = time = [1,49]
anim = 7035
postype = p1
pos = 0,-70
ownpal = 0
sprpriority = -5
scale = 1+(time*0.01),1+(time*0.01)
pausemovetime = 100
supermovetime =100

[State 4622,Destroyself]
type = Destroyself
trigger1 = time = 49

;---------------------------------------------------------------------------
;Hokuto Hyakuretsu Ken(Nomusic)
[Statedef 4623]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 998
sprpriority = 0
velset = 0,0

[State 4623]
type = assertspecial
trigger1 = time >= 0
flag = nomusic

;---------------------------------------------------------------------------
;Hokuto Hyakuretsu Ken(Music)
[Statedef 4624]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 998
sprpriority = 0
velset = 0,0

[State 4624,Parent]
type = Parentvarset
trigger1 = time <= 1499
v = 23
value = 1

[State 4624,Parent]
type = Parentvarset
trigger1 = time >= 1499
v = 23
value = 0

[State 4624,Assertspecial]
type = Assertspecial
trigger1 = time >= 0
flag = nomusic

[State 4624,Playsnd]
type = Playsnd
trigger1 = time = 0
value = 4600,0
channel = 8
volume = 50
persistent = 0

[State 4624,Destroyself]
type = Destroyself
trigger1 = time = 1500

;---------------------------------------------------------------------------
;Hokuto Hyakuretsu Ken(Escape)
[Statedef 4625]
type = S
ctrl = 0
anim = 7013
velset = 0,0

[State 4625,Var]
type = Varset
trigger1 = !time
var(2) = 1

[State 4625,Vel]
type = VelSet
trigger1 = 1
x = const(velocity.run.back.x)

[State 4625,ChangeState]
type = ChangeState
trigger1 = time = 100
value = 0
ctrl = 1

;---------------------------------------------------------------------------
Hokuto Hyakuretsu Ken(Enemy)
[Statedef 4650]
type    = A
movetype= H
physics = N
ctrl = 0
anim = 5000
sprpriority = 1
velset = 0,0

[State 4650,Changeanim]
type = Changeanim2
trigger1 = time = 0
value = 7040

[State 4650,Changeanim]
type = Changeanim
triggerall = authorname = "Drowin hokuto"
trigger1 = time = 70
value = 5320

[State 4650,Life]
type = Lifeadd
trigger1 = time = [70,265]
value = -5
kill = 0

[State 4650,Life]
type = Lifeadd
trigger1 = time = 269
value = -lifemax*100

[State 4650,Life]
type = Lifeset
trigger1 = time = 269
value = 0

[State 4650,Vel]
type = Velset
trigger1 = facing != enemynear,facing
trigger1 = time = 270
x = -7
y = -2

[State 4650,Vel]
type = Velset
trigger1 = facing = enemynear,facing
trigger1 = time = 270
x = 7
y = -2

[State 4650,SelfState]
type = SelfState
trigger1 = time = 271
value = 5050
ctrl = 0

;---------------------------------------------------------------------------
;MAX2(Start)
[Statedef 4500]
type = S
movetype = A
physics = S
anim = 4500
ctrl = 0
velset = 0, 0
poweradd = -2000

[State 4500,Var]
type = Varset
trigger1 = Time = 0
var(1) = 0

[State 4500,SuperPause]
type = SuperPause
trigger1 = time = 1
time = 36
movetime = 36
anim = -1

[State 4500,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 40

[State 4500,SuperPause]
type = SuperPause
trigger1 = time = 1
time = 32
movetime = 32
anim = -1

[State 4500,Explod]
type = Explod
trigger1 = time = 1
anim = 6275
sprpriority = -1
postype = p1
pos = -33, -90
bindtime = 1
supermove = 1
ownpal = 1

[State 4500,Explod]
type = Explod
trigger1 = Time = 11
anim = 6270
sprpriority = 3
postype = p1
pos = -33, -90
bindtime = 1
supermove = 1
ownpal = 1

[State 4500,EnvColor]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 4500,EnvColor]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 4500,AfterImage]
type = AfterImage
trigger1 = AnimElem = 2
time = 999
TimeGap = 2
FrameGap = 4
length = 12
PalBright = 1,1,1
PalContrast = 225, 216, 0 
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 4500,Helper]
type = Helper
triggerall = prevstateno =1030 || prevstateno =1100 || prevstateno =1110 || prevstateno =1120 || prevstateno =1200 || prevstateno =1210 || prevstateno =1220
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 4500,Helper]
type = Helper
triggerall = prevstateno =1301 || prevstateno =1311 || prevstateno =1321 || prevstateno =1420 || prevstateno =1430 || prevstateno =1440 || prevstateno =2130
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 4500,Helper]
type = Helper
triggerall = prevstateno = 3010 || prevstateno = 3110 || prevstateno = 3210 || prevstateno = 3510 || prevstateno = 3610 || prevstateno = 3710
trigger1 = time = 0
helpertype = normal
name = "Dream Cancel"
ID = 8500
stateno = 8600
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 4500,Helper]
type = Helper
trigger1 = animelem = 1
stateno = 8700
supermovetime = 99999999
pos = 25,-130
ownpal = 1
id = 8700

[State 4500,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 700,2

[State 4500,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 4500,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,3

[State 4500,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 4500, 0

[State 4500,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 4501

;---------------------------------------------------------------------------
;MAX2
[Statedef 4501]
type = S
movetype = A
physics = N
juggle  = 0
anim = 4501+ifelse((Palno > 6 || var(17) >= 2),1,0)
VelSet = 0
ctrl = 0

[State 4501,Var]
type = Varset
trigger1 = !time
var(39) = 1

[State 4501,AfterImage]
type = AfterImage
trigger1 = AnimElem = 1
time = 999
TimeGap = 2
FrameGap = 4
length = 12
PalBright = 1,1,1
PalContrast = 225, 216, 0
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 4501,AfterImage]
type = AfterImage
trigger1 = animelem = 3
time = 99999999
length = 7
framegap = 3
palcolor = 0
trans = add1
palbright = 16,0,48
palcontrast = 200,184,240
paladd = 0,0,0
palmul = 1,1,1

[State 4501,AfterImage]
type = AfterImage
trigger1 = AnimElem = 23
time = 0

[State 4501,Vel]
type = VelSet
trigger1 = AnimElem = 3,= 1
x = 6

[State 4501,Vel]
type = VelSet
trigger1 = AnimElem = 23
x = 0

[State 4501,Var]
type = VarSet
trigger1 = AnimElem = 1,>= 0 && AnimElem = 3,< 0
var(14) = 0
ignorehitpause = 1

[State 4501,ReversalDef]
type = ReversalDef
trigger1 = AnimElem = 1,>= 0 && AnimElem = 3,< 0
pausetime = 11,12
sparkno = S8052
hitsound = S6,1
reversal.attr = SCA,NA,SA,HA
numhits = 0
ignorehitpause = 1

[State 4501,HitDef]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 7
trigger3 = AnimElem = 11
trigger4 = AnimElem = 15
trigger5 = AnimElem = 19
attr = S,SA
sparkno = S6050
guard.sparkno = S6020
sparkxy = 0,-50
hitsound = S600, 1            
guardsound = S400, 0    
hitflag = MAF
guardflag = M
animtype = Hard
damage = 50+ifelse((Palno > 6 || var(17) >= 2),30,0), 5+ifelse((Palno > 6 || var(17) >= 2),5,0)
getpower = 0,0
givepower = 15,10
pausetime = 7-ifelse((Palno > 6 || var(17) >= 2),7,0),8
guard.pausetime = 7,8
ground.type = Low
ground.slidetime = 30
ground.hittime = 30
guard.hittime = 17
yaccel = .55
ground.velocity = 1,-2
ground.cornerpush.veloff = -10 * fvar(1)
air.velocity = 1,-2
air.fall = 1
fall.recover = 0
id = 2
envshake.time = 8
envshake.ampl = -5

[State 4501,HitDef]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 9
trigger3 = AnimElem = 13
trigger4 = AnimElem = 17
attr = S,SA
sparkno = S6060
guard.sparkno = S6020
sparkxy = 0,-60
hitsound = S600, 2            
guardsound = S400, 0    
hitflag = MAF
guardflag = M
animtype = Hard
damage = 50+ifelse((Palno > 6 || var(17) >= 2),30,0), 5+ifelse((Palno > 6 || var(17) >= 2),5,0)
getpower = 0,0
givepower = 15,10
pausetime = 7-ifelse((Palno > 6 || var(17) >= 2),7,0),8
guard.pausetime = 7,8
ground.type = Low
ground.slidetime = 30
ground.hittime = 30
guard.hittime = 17
yaccel = .55
ground.velocity = 1,-2
ground.cornerpush.veloff = -10 * fvar(1)
air.velocity = 1,-2
air.fall = 1
fall.recover = 0
id = 2
envshake.time = 8
envshake.ampl = -5

[State 4501,HitDef]
type = HitDef
trigger1 = animelem = 21
attr = S, SA
animtype  = Hard
damage    = 80+ifelse((Palno > 6 || var(17) >= 2),50,0), 10+ifelse((Palno > 6 || var(17) >= 2),10,0)
getpower  = 0
givepower = 15,10
guardflag = MA
pausetime = 0,7
sparkno = S6060
guard.sparkno = S6020
sparkxy = 0,-60
hitsound = S1500, 0            
guardsound = S400, 1    
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -8,-7
guard.velocity = -7
air.velocity = -8,-7
airguard.velocity = -5, -4
fall = 1
p2stateno = 700
envshake.time = 30
envshake.ampl = -15
envshake.freq = 80
envshake.phase = 10

[State 4501,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 3
anim = 4503
pos = 0, 0
postype = p1
sprpriority = 4
bindtime = -1
id = 307

[State 4501,Explod]
type = Explod
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
trigger3 = AnimElem = 7
trigger4 = AnimElem = 9
trigger5 = AnimElem = 11
trigger6 = AnimElem = 13
trigger7 = AnimElem = 15
trigger8 = AnimElem = 17
trigger9 = AnimElem = 19
trigger10 = AnimElem = 21
anim = 6130-ifelse((Palno > 6 || var(17) >= 2),5608,0)
sprpriority = 3
postype = p1
pos = 0, 0
bindtime = -1
supermove = 1
ownpal = 1

[State 4501,Explod]
type = Explod
trigger1 = AnimElem = 24
anim = 1125
pos = -20, 0
postype = p1
sprpriority = 3
facing = -1

[State 4501,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1600,2
channel = 0

[State 4501,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 4500,2

[State 4501,Var]
type = Varset
trigger1 = time >= 92
var(39) = 0

[State 4501,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;MAX2_300(Start)
[Statedef 4502]
type = S
movetype = A
physics = S
anim = 4500
ctrl = 0
velset = 0, 0
poweradd = -3000

[State 4502,Var]
type = Varset
trigger1 = Time = 0
var(1) = 0

[State 4502,SuperPause]
type = SuperPause
trigger1 = time = 1
time = 36
movetime = 36
anim = -1

[State 4502,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 40

[State 4502,SuperPause]
type = SuperPause
trigger1 = time = 1
time = 32
movetime = 32
anim = -1

[State 4502,Explod]
type = Explod
trigger1 = time = 1
anim = 6275
sprpriority = -1
postype = p1
pos = -33, -90
bindtime = 1
supermove = 1
ownpal = 1

[State 4502,Explod]
type = Explod
trigger1 = Time = 11
anim = 6270
sprpriority = 3
postype = p1
pos = -33, -90
bindtime = 1
supermove = 1
ownpal = 1

[State 4502,EnvColor]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 4502,EnvColor]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 4502,AfterImage]
type = AfterImage
trigger1 = AnimElem = 2
time = 999
TimeGap = 2
FrameGap = 4
length = 12
PalBright = 1,1,1
PalContrast = 225, 216, 0 
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 4502,Helper]
type = Helper
triggerall = prevstateno =1030 || prevstateno =1100 || prevstateno =1110 || prevstateno =1120 || prevstateno =1200 || prevstateno =1210 || prevstateno =1220
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 4502,Helper]
type = Helper
triggerall = prevstateno =1301 || prevstateno =1311 || prevstateno =1321 || prevstateno =1420 || prevstateno =1430 || prevstateno =1440 || prevstateno =2130
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 4502,Helper]
type = Helper
triggerall = prevstateno = 3010 || prevstateno = 3110 || prevstateno = 3210 || prevstateno = 3510 || prevstateno = 3610 || prevstateno = 3710
trigger1 = time = 0
helpertype = normal
name = "Dream Cancel"
ID = 8500
stateno = 8600
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 4502,Helper]
type = Helper
trigger1 = animelem = 1
stateno = 8700
supermovetime = 99999999
pos = 25,-130
ownpal = 1
id = 8700

[State 4502,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 700,2

[State 4502,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 4502,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,3

[State 4502,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 4500, 0

[State 4502,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 4501

;---------------------------------------------------------------------------
;Gekirinken(Start)
[Statedef 4400]
type = S
movetype = A
physics = S
anim = 4400
ctrl = 0
velset = 0, 0
poweradd = -2000

[State 4400,Var]
type = Varset
trigger1 = Time = 0
var(1) = 0

[State 4400,SuperPause]
type = SuperPause
trigger1 = time = 1
time = 36
movetime = 36
anim = -1

[State 4400,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 40

[State 4400,SuperPause]
type = SuperPause
trigger1 = time = 1
time = 32
movetime = 32
anim = -1

[State 4400,Explod]
type = Explod
trigger1 = time = 1
anim = 6275
sprpriority = -1
postype = p1
pos = 25, -55
bindtime = 1
supermove = 1
ownpal = 1

[State 4400,Explod]
type = Explod
trigger1 = Time = 11
anim = 6270
sprpriority = 3
postype = p1
pos = 25, -55
bindtime = 1
supermove = 1
ownpal = 1

[State 4400,EnvColor]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 4400,EnvColor]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 4400,AfterImage]
type = AfterImage
trigger1 = AnimElem = 2
time = 999
TimeGap = 2
FrameGap = 4
length = 12
PalBright = 1,1,1
PalContrast = 225, 216, 0 
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 4400,AfterImage]
type = AfterImageTime
trigger1 = AnimElemTime(1) >= 1 && Time < 80
time = 2

[State 4400,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 700,2

[State 4400,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 4400,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,3

[State 4400,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 4410+ifelse(var(10)=2,1,0)

;---------------------------------------------------------------------------
;Gekirinken_3000(Start)
[Statedef 4402]
type = S
movetype = A
physics = S
anim = 4400
ctrl = 0
velset = 0, 0
poweradd = -3000

[State 4402,Var]
type = Varset
trigger1 = Time = 0
var(1) = 0

[State 4402,SuperPause]
type = SuperPause
trigger1 = time = 1
time = 36
movetime = 36
anim = -1

[State 4402,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 40

[State 4402,SuperPause]
type = SuperPause
trigger1 = time = 1
time = 32
movetime = 32
anim = -1

[State 4402,Explod]
type = Explod
trigger1 = time = 1
anim = 6275
sprpriority = -1
postype = p1
pos = 25, -55
bindtime = 1
supermove = 1
ownpal = 1

[State 4402,Explod]
type = Explod
trigger1 = Time = 11
anim = 6270
sprpriority = 3
postype = p1
pos = 25, -55
bindtime = 1
supermove = 1
ownpal = 1

[State 4402,EnvColor]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 4402,EnvColor]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 4402,AfterImage]
type = AfterImage
trigger1 = AnimElem = 2
time = 999
TimeGap = 2
FrameGap = 4
length = 12
PalBright = 1,1,1
PalContrast = 225, 216, 0 
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 4402,AfterImage]
type = AfterImageTime
trigger1 = AnimElemTime(1) >= 1 && Time < 80
time = 2

[State 4402,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 700,2

[State 4402,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 4402,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,3

[State 4402,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 4410+ifelse(var(10)=2,1,0)

;---------------------------------------------------------------------------
;Gekirinken
[Statedef 4410]
type    = S
movetype= A
physics = N
velset = 0,0
juggle = 0
anim = 4410
ctrl = 0
sprpriority = -2

[State 4410, ReversalDef]
type = ReversalDef
trigger1 = time = 0
reversal.attr = SCA,NA,SA,HA
pausetime = 10,0
sparkno = S6010
hitsound = S420,1
p2facing = 1
p1stateno = 4430
p2stateno = 4450
numhits = 0

[State 4410,Explod]
type = Explod
trigger1 = time = 0
anim = 2423
pos = -10, 0
postype = p1
sprpriority = -3

[State 4410,PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 2000,3 

[State 4410,PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 300,2 

[State 4410, Changestate]
type = Changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Gekirinken(S-mode)
[Statedef 4411]
type    = S
movetype= A
physics = N
velset = 0,0
juggle = 0
anim = 4411
ctrl = 0
sprpriority = -2

[State 4411, ReversalDef]
type = ReversalDef
trigger1 = time = 0
reversal.attr = SCA,NA,SA,HA
pausetime = 10,0
sparkno = S6010
hitsound = S420,1
p2facing = 1
p1stateno = 4430
p2stateno = 4450
numhits = 0

[State 4411,Explod]
type = Explod
trigger1 = time = 0
anim = 2423
pos = -10, 0
postype = p1
sprpriority = -3

[State 4411,PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 2000,3 

[State 4411,PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 300,2 

[State 4411, Changestate]
type = Changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Gekirinken(Success)
[Statedef 4430]
type = S
movetype = A
physics = N
anim = 4430
velset = 0
poweradd = 90

[State 4430,Envcolor]
type = Envcolor
trigger1 = time = 0
value = 255,255,255
time = 2
under = 1
ignorehitpause = 1

[State 4430,AfterImage]
type = AfterImage
trigger1 = AnimElem = 1
time = 999
TimeGap = 2
FrameGap = 4
length = 12
PalBright = 1,1,1
PalContrast = 225, 216, 0 
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 4430,Target]
type = TargetBind
Trigger1 = Time = 0
pos = 60, 0
time = 1

[State 4430,Pos]
type = Posadd
trigger1 = Animelem = 46 , = 0
x = 10

[State 4430,Pos]
type = Posadd
trigger1 = Animelem = 47 , = 0
x = 30

[State 4430,Pos]
type = Posadd
trigger1 = Animelem = 48 , = 0
x = 20

[State 4430,Helper]
type = Helper
trigger1 = Time = 0
stateno = 8703
supermovetime = 99999999
pos = 25,-130
ownpal = 1
id = 8700

[State 4430,Target]
type = TargetLifeAdd
trigger1 = AnimElem = 6
value = -ceil(30+ifelse((Palno > 6 || var(17) >= 2),15,0)*const(data.attack)*0.01)
kill = 0

[State 4430,Target]
type = TargetLifeAdd
trigger1 = AnimElem = 22
trigger2 = AnimElem = 23
trigger3 = AnimElem = 24
trigger4 = AnimElem = 25
trigger5 = AnimElem = 26
trigger6 = AnimElem = 27
trigger7 = AnimElem = 28
trigger8 = AnimElem = 29
trigger9 = AnimElem = 30
trigger10 = AnimElem = 31
trigger11 = AnimElem = 32
trigger12 = AnimElem = 33
trigger13 = AnimElem = 34
trigger14 = AnimElem = 35
trigger15 = AnimElem = 36
trigger16 = AnimElem = 37
value = -ceil(15+ifelse((Palno > 6 || var(17) >= 2),15,0)*const(data.attack)*0.01)
kill = 0

[State 4430,Target]
type = TargetLifeAdd
trigger1 = AnimElem = 40
value = -ceil(20+ifelse((Palno > 6 || var(17) >= 2),15,0)*const(data.attack)*0.01)
kill = 0

[State 4430,Hitadd]
type = Hitadd
trigger1 = AnimElem = 6
trigger2 = AnimElem = 22
trigger3 = AnimElem = 23
trigger4 = AnimElem = 24
trigger5 = AnimElem = 25
trigger6 = AnimElem = 26
trigger7 = AnimElem = 27
trigger8 = AnimElem = 28
trigger9 = AnimElem = 29
trigger10 = AnimElem = 30
trigger11 = AnimElem = 31
trigger12 = AnimElem = 32
trigger13 = AnimElem = 33
trigger14 = AnimElem = 34
trigger15 = AnimElem = 35
trigger16 = AnimElem = 36
trigger17 = AnimElem = 37
trigger18 = AnimElem = 40
value = 1

[State 4430,Explod]
type = Explod
trigger1 = time = 10
anim = 4402
pos = 0, 0
postype = p1
sprpriority = 3

[State 4430,Explod]
type = Explod
trigger1 = AnimElem = 6
anim = 6070
pos = 40, -20
postype = p1
sprpriority = 4
bindtime = -1

[State 4430,Explod]
type = Explod
trigger1 = AnimElem = 22
trigger2 = AnimElem = 26
trigger3 = AnimElem = 30
trigger4 = AnimElem = 34
anim = 6050
pos = 30, -65
postype = p1
sprpriority = 4
bindtime = -1

[State 4430,Explod]
type = Explod
trigger1 = AnimElem = 23
trigger2 = AnimElem = 27
trigger3 = AnimElem = 31
trigger4 = AnimElem = 35
anim = 6050
pos = 50, -70
postype = p1
sprpriority = 4
bindtime = -1

[State 4430,Explod]
type = Explod
trigger1 = AnimElem = 24
trigger2 = AnimElem = 28
trigger3 = AnimElem = 32
trigger4 = AnimElem = 36
anim = 6050
pos = 60, -40
postype = p1
sprpriority = 4
bindtime = -1

[State 4430,Explod]
type = Explod
trigger1 = AnimElem = 25
trigger2 = AnimElem = 29
trigger3 = AnimElem = 33
trigger4 = AnimElem = 37
anim = 6050
pos = 20, -55
postype = p1
sprpriority = 4
bindtime = -1

[State 4430,Explod]
type = Explod
trigger1 = AnimElem = 40
anim = 6070
pos = 40, -60
postype = p1
sprpriority = 4
bindtime = -1

[State 4430,Explod]
type = Explod
trigger1 = AnimElem = 40
anim = 6130
pos = 0, 0
postype = p2
sprpriority = 3
bindtime = -1
facing = -1

[State 4430,Explod]
type = Explod
trigger1 = AnimElem = 58
anim = 3020
pos = 30, 0
postype = p1
sprpriority = 5
bindtime = -1

[State 4430,Explod]
type = Explod
trigger1 = AnimElem = 58
anim = 3120
pos = 0, 0
postype = p1
sprpriority = 5
bindtime = -1

[State 4430,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 6
anim = 1803
pos = 20, 0
postype = p1
sprpriority = 4
bindtime = -1
removeongethit = 1
id = 307

[State 4430,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 21
trigger2 = AnimElem = 27
trigger3 = AnimElem = 33
anim = 3012
pos = -100, 0
postype = p1
sprpriority = 3
removeongethit = 1
bindtime = -1
id = 307

[State 4430,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 40
anim = 803
pos = 0, -40
postype = p1
sprpriority = 4
bindtime = -1
removeongethit = 1
id = 307

[State 4430,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 21
trigger2 = AnimElem = 27
trigger3 = AnimElem = 33
anim = 3012
pos = -100, 0
postype = p1
sprpriority = 3
removeongethit = 1
bindtime = -1
id = 307

[State 4430,PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 4400,0 

[State 4430,PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 4400,1 

[State 4430,PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = 301,1 

[State 4430,PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = 600,2

[State 4430,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 22
trigger2 = AnimElem = 23
trigger3 = AnimElem = 24
trigger4 = AnimElem = 25
trigger5 = AnimElem = 26
trigger6 = AnimElem = 27
trigger7 = AnimElem = 28
trigger8 = AnimElem = 29
trigger9 = AnimElem = 30
trigger10 = AnimElem = 31
trigger11 = AnimElem = 32
trigger12 = AnimElem = 33
trigger13 = AnimElem = 34
trigger14 = AnimElem = 35
trigger15 = AnimElem = 36
trigger16 = AnimElem = 37
value = 4600, 8 

[State 4430,PlaySnd]
type = PlaySnd
trigger1 = animelem = 40
value = 600,3

[State 4430,PlaySnd]
type = PlaySnd
trigger1 = animelem = 41
value = 510,0 

[State 4430,PlaySnd]
type = PlaySnd
trigger1 = animelem = 58
value = 4600,5

[State 4430,PlaySnd]
type = PlaySnd
triggerall = Palno > 6 || var(17) >= 2
trigger1 = animelem = 6
value = 2420,2

[State 4430,PlaySnd]
type = PlaySnd
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 22
value = 4500, 2 

[State 4430,PlaySnd]
type = PlaySnd
triggerall = Palno > 6 || var(17) >= 2
trigger1 = animelem = 40
value = 1500,0

[State 4430,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 4440

;---------------------------------------------------------------------------
;Gekirinken(End)
[Statedef 4440]
;type    = A
;physics = N
type = S
movetype = A
physics = S
ctrl = 0
anim = 4440
velset = 0, 0

[State 4440,AfterImage]
type = AfterImageTime
trigger1 = AnimElemTime(1) >= 1 && Time < 80
time = 2

[State 4440,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 184, 0 + random%2

[State 4440,HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Hard
damage    = 150+ifelse((Palno > 6 || var(17) >= 2),30,0), 0+ifelse((Palno > 6 || var(17) >= 2),30,0)
pausetime = 0,5
sparkno = S6070
guard.sparkno = S6010
sparkxy  = -10,-60
hitsound = s1500, 0
guardsound  = s400, 1
ground.type = Low
ground.slidetime = 20
ground.hittime   = 20
ground.velocity  = -8,-7
guard.velocity   = -5
air.velocity     = -8,-7
airguard.velocity= -5, -4
fall = 1
p2stateno = 700
envshake.time = 30
envshake.ampl = -10;8
envshake.freq = 130
envshake.phase = 10

[State 4440,Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 1331+ifelse((Palno > 6 || var(17) >= 2),1,0)
pos = 0, 5
postype = p1
sprpriority = -2

[State 4440,Explod]
type = Explod
trigger1 = AnimElem = 18
anim = 6150
pos = 0, 0
postype = p1
sprpriority = 1

[State 4440,Explod]
type = Explod
trigger1 = AnimElem = 18
anim = 6155
pos = 0, 0
postype = p1
sprpriority = 5

[State 4440,EnvShake]
type = EnvShake
trigger1 = AnimElem = 18
time = 8
ampl = 3
freq = 170

[State 4440,PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 3000,4

[State 4440,PlaySnd]
type = PlaySnd
trigger1 = animelem = 18
value = 600,3

[State 4440,PlaySnd]
type = PlaySnd
triggerall = Palno > 6 || var(17) >= 2
trigger1 = time = 0
value = 3000,6

[State 4440,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
ctrl = 1
value = 0

;---------------------------------------------------------------------------
;Gekirinken(ENEmy)
[Statedef 4450]
type = S
movetype = H
physics = S
velset = 0,0

[State 4450,Pos]
type = Posadd
trigger1 = Animelem = 43 , = 0
x = -10

[State 4450,Pos]
type = Posadd
trigger1 = Animelem = 44 , = 0
x = -20

[State 4450,Pos]
type = Posadd
trigger1 = Animelem = 45 , = 0
x = -10

[State 4450,Pos]
type = Posadd
trigger1 = Animelem = 46 , = 0
x = -5

[State 4450,Pos]
type = Posadd
trigger1 = Animelem = 47 , = 0
x = -3

[State 4450,Pos]
type = Posadd
trigger1 = Animelem = 48 , = 0
x = -1

[State 4450,ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 4450

[State 4450,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 4450,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 700

;---------------------------------------------------------------------------
;Kamehameha_LV1(Start)
[Statedef 3400]
type = S
movetype = A
physics = S
anim = 3400
ctrl = 0
velset = 0, 0
poweradd = -1000

[State 3400,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 20

[State 3400,SuperPause]
type = SuperPause
trigger1 = time = 1
time = 36
movetime = 36
anim = -1

[State 3400,EnvColor]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 3400,EnvColor]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 3400,Var]
type = Varset
trigger1 = Time = 0
var(1) = 0

[State 3400,Helper]
type = Helper
triggerall = prevstateno =1301 || prevstateno =1311 || prevstateno =1321 || prevstateno =1420 || prevstateno =1430 || prevstateno =1440 || prevstateno =2130
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3400,Helper]
type = Helper
triggerall = prevstateno = 3010 || prevstateno = 3110 || prevstateno = 3210 || prevstateno = 3510 || prevstateno = 3610 || prevstateno = 3710
trigger1 = time = 0
helpertype = normal
name = "Dream Cancel"
ID = 8500
stateno = 8600
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3400,Explod]
type = Explod
trigger1 = time = 1 
anim = 6255
sprpriority = -1
postype = p1
pos = -35, -50
bindtime = 1
supermove = 1
ownpal = 1

[State 3400,Explod]
type = Explod
trigger1 = time = 11 
anim = 6250
sprpriority = 3
postype = p1
pos = -35, -50
bindtime = 1
supermove = 1
ownpal = 1

[State 3400,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 2
anim = 3431
sprpriority = 2
pos = 5, 20
postype = p1
removetime = 31
bindtime = 1
supermove = 1
ownpal = 1
scale = .8,.8
id = 307

[State 3400,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 2
anim = 3423
sprpriority = -2
pos = 0, 0
postype = p1
removetime = 31
bindtime = 1
supermove = 1
ownpal = 1
id = 307

[State 3400, Explod]
type = Explod
trigger1 = animelem = 2
anim = 3405
sprpriority = 2
postype = p1
pos = 15,15
bindtime = -1
removetime = 34
removeongethit = 1
supermove = 1

[State 3400,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 6000,0

[State 3400,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 3400, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3400,0

[State 3400,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 3401

;---------------------------------------------------------------------------
;Kamehameha_LV1
[Statedef 3401]
type = S
movetype = A
physics = S
anim = 3401
velset = 0
ctrl = 0
juggle  = 4
sprpriority = 2

[State 3401, Explod]
type = Explod
trigger1 = time = 0
anim = 3410
sprpriority = 3
postype = p1
pos = 37,-58
bindtime = -1
removetime = 70
removeongethit = 1
ownpal = 1

[State 3401, Projectile]
type = Projectile
trigger1 = time = 0
projanim = 3411
projhitanim = -1
projID = 2300
projremove = 0
projremovetime = 52
hitflag = MAFP
attr = S, HP
velocity = 0
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = 37,-58
attr = S, SP
damage = 40-ifelse((Palno > 6 || var(17) >= 2),20,0), 5+ifelse((Palno > 6 || var(17) >= 2),3,0)
projhits = 40+ifelse((Palno > 6 || var(17) >= 2),30,0)
projmisstime = 14-ifelse((Palno > 6 || var(17) >= 2),10,0)
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s3420
guard.sparkno = s3421
sparkxy = ceil (p2dist x) -37, -12
hitsound = S3400,5
getpower = 0
guardsound = S3400,6
pausetime = 0,15
ground.hittime = 35
ground.type = high
ground.slidetime = 20
ground.velocity = -12.5
air.velocity = -4,-4
air.fall = 1
fall=1
fall.recover = 0
air.juggle = 4
envshake.time = 10
envshake.ampl = 4

[State 3401, Projectile]
type = Projectile
trigger1 = time = 53
projanim = 3411
projhitanim = -1
projID = 2200
projremove = 0
projremovetime = 12
velocity = 0
attr = S, HP
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = 37,-58
damage = 80+ifelse((Palno > 6 || var(17) >= 2),20,0), 10+ifelse((Palno > 6 || var(17) >= 2),10,0)
projhits = 45
projmisstime = 15
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s3422
guard.sparkno = s3421
sparkxy = ceil (p2dist x) -37, -12
hitsound = S3400,5
getpower = 0
guardsound = S3400,6
pausetime = 3,16
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -12.5
air.velocity = -12,-4
air.fall = 1
fall=1
fall.recover = 0
air.juggle = 4
envshake.time = 10
envshake.ampl = 8
removeongethit = 1

[State 3401,Envcolor]
type = Envcolor
trigger1 = projhit(2200) = 1
trigger1 = var(29) != 1
value = 255,255,255
time = 3
under = 1
ignorehitpause = 1

[State 3401, AssertSpecial]
type = AssertSpecial
trigger1 = projhit(2200) = 0
flag = nojugglecheck

[State 3401,Explod]
type = Explod
trigger1 = time = 0
anim = 3020
pos = 30, 0
postype = p1
sprpriority = 5
bindtime = -1

[State 3401,Explod]
type = Explod
trigger1 = time = 0
anim = 3140
pos = -39, 15
postype = p1
sprpriority = 5
bindtime = -1

[State 3401,Explod]
type = Explod
trigger1 = animelem = 1
anim = 3424
pos = 0, 0
postype = p1
sprpriority = 5
bindtime = -1

[State 3401, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 3400,2

[State 3401, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 3400,10

[State 3401, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Kamehameha_LV2(Start)
[Statedef 3410]
type = S
movetype = A
physics = S
anim = 3400
ctrl = 0
velset = 0, 0
poweradd = -2000

[State 3410,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 20

[State 3410,SuperPause]
type = SuperPause
trigger1 = time = 1
time = 36
movetime = 36
anim = -1

[State 3410,EnvColor]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 3410,EnvColor]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 3410,Var]
type = Varset
trigger1 = Time = 0
var(1) = 0

[State 3410,Helper]
type = Helper
triggerall = prevstateno =1301 || prevstateno =1311 || prevstateno =1321 || prevstateno =1420 || prevstateno =1430 || prevstateno =1440 || prevstateno =2130
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3410,Helper]
type = Helper
triggerall = prevstateno = 3010 || prevstateno = 3110 || prevstateno = 3210 || prevstateno = 3510 || prevstateno = 3610 || prevstateno = 3710
trigger1 = time = 0
helpertype = normal
name = "Dream Cancel"
ID = 8500
stateno = 8600
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3410,Explod]
type = Explod
trigger1 = Time = 1
trigger1= facing = 1
anim = 4526*ifelse(random<100,100,1)
pos = 0,0
postype = left
facing = 1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3410,Explod]
type = Explod
trigger1 = Time = 1
trigger1= facing = -1
anim = 4526*ifelse(random<100,100,1)
pos = 0,0
postype = Right
facing = -1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3410,Explod]
type = Explod
trigger1 = time = 1
anim = 6265
sprpriority = -1
postype = p1
pos = -35, -50
bindtime = 1
supermove = 1
ownpal = 1

[State 3410,Explod]
type = Explod
trigger1 = Time = 11
anim = 6260
sprpriority = 3
postype = p1
pos = -35, -50
bindtime = 1
supermove = 1
ownpal = 1

[State 3410,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 6000,2

[State 3410,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 3410,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,3

[State 3410,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 2
anim = 3431
sprpriority = 2
pos = 5, 20
postype = p1
removetime = 31
bindtime = 1
supermove = 1
ownpal = 1
scale = .8,.8
id = 307

[State 3410,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 2
anim = 3423
sprpriority = -2
pos = 0, 0
postype = p1
removetime = 31
bindtime = 1
supermove = 1
ownpal = 1
id = 307

[State 3410, Explod]
type = Explod
trigger1 = animelem = 2
anim = 3406
sprpriority = 3
postype = p1
pos = 14,16
bindtime = 1
removetime = 34
removeongethit = 1
supermove = 1
ownpal = 1

[State 3410, Explod]
type = Explod
trigger1 = animelem = 2
anim = 3405
sprpriority = 2
postype = p1
pos = 15,15
bindtime = -1
removetime = 34
removeongethit = 1
supermove = 1

[State 3410,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 6000,0

[State 3410,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 3410, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3400,0

[State 3410,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 3411

;---------------------------------------------------------------------------
;Kamehameha_LV2
[Statedef 3411]
type = S
movetype = A
physics = S
anim = 3401
velset = 0
ctrl = 0
juggle  = 4
sprpriority = 2

[State 3411, Explod]
type = Explod
trigger1 = time = 10
anim = 3414
sprpriority = 3
postype = p1
pos = 87,-88
bindtime = -1
removetime = 60
removeongethit = 1
ownpal = 1

[State 3411, Explod]
type = Explod
trigger1 = time = 15
anim = 3419
sprpriority = 3
postype = p1
pos = 250,-78
bindtime = -1
removetime = 45
removeongethit = 1
ownpal = 1

[State 3411, Explod]
type = Explod
trigger1 = time = 10
anim = 3414
sprpriority = 3
postype = p1
pos = 187,-78
bindtime = -1
removetime = 50
removeongethit = 1
ownpal = 1

[State 3411, Explod]
type = Explod
trigger1 = time = 10
anim = 3415
sprpriority = 3
postype = p1
pos = 127,-98
bindtime = -1
removetime = 50
removeongethit = 1
ownpal = 1
scale = 1,.8

[State 3411, Explod]
type = Explod
trigger1 = time = 5
anim = 3416
sprpriority = 3
postype = p1
pos = 90,-28
bindtime = -1
removetime = 55
removeongethit = 1
ownpal = 1

[State 3411, Explod]
type = Explod
trigger1 = time = 15
anim = 3416
sprpriority = 3
postype = p1
pos = 200,-28
bindtime = -1
removetime = 45
removeongethit = 1
ownpal = 1

[State 3411, Explod]
type = Explod
trigger1 = time = 10
anim = 3417
sprpriority = 3
postype = p1
pos = 300,-28
bindtime = -1
removetime = 50
removeongethit = 1
ownpal = 1

[State 3411, Explod]
type = Explod
trigger1 = time = 0
anim = 3410
sprpriority = 3
postype = p1
pos = 37,-58
bindtime = -1
removetime = 70
removeongethit = 1
ownpal = 1

[State 3411, Projectile]
type = Projectile
trigger1 = time = 0
projanim = 3411
projhitanim = -1
projID = 2300
projremove = 0
projremovetime = 52
hitflag = MAFP
attr = S, HP
velocity = 0
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = 37,-58
attr = S, SP
damage = 30-ifelse((Palno > 6 || var(17) >= 2),14,0), 5+ifelse((Palno > 6 || var(17) >= 2),2,0)
projhits = 45+ifelse((Palno > 6 || var(17) >= 2),45,0)
projmisstime = 7-ifelse((Palno > 6 || var(17) >= 2),5,0)
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s3420
guard.sparkno = s3421
sparkxy = ceil (p2dist x) -37, -12
hitsound = S3400,5
getpower = 0
guardsound = S3400,6
pausetime = 0,15
ground.hittime = 35
ground.type = high
ground.slidetime = 20
ground.velocity = -12.5
air.velocity = -4,-4
air.fall = 1
fall=1
fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4

[State 3411, Projectile]
type = Projectile
trigger1 = time = 53
projanim = 3411
projhitanim = -1
projID = 2200
projremove = 0
projremovetime = 12
velocity = 0
attr = S, HP
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = 37,-58
damage = 80+ifelse((Palno > 6 || var(17) >= 2),20,0), 15+ifelse((Palno > 6 || var(17) >= 2),5,0)
projhits = 45
projmisstime = 15
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s3422
guard.sparkno = s3421
sparkxy = ceil (p2dist x) -37, -12
hitsound = S3400,5
getpower = 0
guardsound = S3400,6
pausetime = 0,13
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -12.5
air.velocity = -12,-4
air.fall = 1
fall=1
fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
removeongethit = 1

[State 3411,Envcolor]
type = Envcolor
trigger1 = projhit(2200) = 1
trigger1 = var(29) != 1
value = 255,255,255
time = 3
under = 1
ignorehitpause = 1

[State 3411, AssertSpecial]
type = AssertSpecial
trigger1 = projhit(2200) = 0
flag = nojugglecheck

[State 3411,Explod]
type = Explod
trigger1 = time = 0
anim = 3020
pos = 30, 0
postype = p1
sprpriority = 5
bindtime = -1

[State 3411,Explod]
type = Explod
trigger1 = time = 0
anim = 3140
pos = -39, 15
postype = p1
sprpriority = 5
bindtime = -1

[State 3411,Explod]
type = Explod
trigger1 = animelem = 1
anim = 3424
pos = 0, 0
postype = p1
sprpriority = 5
bindtime = -1

[State 3411, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 3400,2

[State 3411, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 3400,10

[State 3411, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Kamehameha_LV3(Start)
[Statedef 3420]
type = S
movetype = A
physics = S
anim = 3400
ctrl = 0
velset = 0, 0
poweradd = -3000

[State 3420,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 20

[State 3420,SuperPause]
type = SuperPause
trigger1 = time = 1
time = 36
movetime = 36
anim = -1

[State 3420,EnvColor]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 3420,EnvColor]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 3420,Var]
type = Varset
trigger1 = Time = 0
var(1) = 0

[State 3420,Helper]
type = Helper
triggerall = prevstateno =1301 || prevstateno =1311 || prevstateno =1321 || prevstateno =1420 || prevstateno =1430 || prevstateno =1440 || prevstateno =2130
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3420,Helper]
type = Helper
triggerall = prevstateno = 3010 || prevstateno = 3110 || prevstateno = 3210 || prevstateno = 3510 || prevstateno = 3610 || prevstateno = 3710
trigger1 = time = 0
helpertype = normal
name = "Dream Cancel"
ID = 8500
stateno = 8600
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3420,Explod]
type = Explod
trigger1 = Time = 1
trigger1= facing = 1
anim = 4526*ifelse(random<100,100,1)
pos = 0,0
postype = left
facing = 1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3420,Explod]
type = Explod
trigger1 = Time = 1
trigger1= facing = -1
anim = 4526*ifelse(random<100,100,1)
pos = 0,0
postype = Right
facing = -1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3420,Explod]
type = Explod
trigger1 = time = 1
anim = 6275
sprpriority = -1
postype = p1
pos = -35, -50
bindtime = 1
supermove = 1
ownpal = 1

[State 3420,Explod]
type = Explod
trigger1 = Time = 11
anim = 6270
sprpriority = 3
postype = p1
pos = -35, -50
bindtime = 1
supermove = 1
ownpal = 1

[State 3420,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 2
anim = 3431
sprpriority = 2
pos = 5, 20
postype = p1
removetime = 31
bindtime = 1
supermove = 1
ownpal = 1
scale = .8,.8
id = 307

[State 3420,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 2
anim = 3423
sprpriority = -2
pos = 0, 0
postype = p1
removetime = 31
bindtime = 1
supermove = 1
ownpal = 1
id = 307

[State 3420, Explod]
type = Explod
trigger1 = animelem = 2
anim = 3407
sprpriority = 4
postype = p1
pos = -30,-50
bindtime = -1
removetime = 34
removeongethit = 1
supermove = 1

[State 3420, Explod]
type = Explod
trigger1 = animelem = 2
anim = 3406
sprpriority = 3
postype = p1
pos = 14,16
bindtime = 1
removetime = 34
removeongethit = 1
supermove = 1
ownpal = 1

[State 3420, Explod]
type = Explod
trigger1 = animelem = 2
anim = 3405
sprpriority = 2
postype = p1
pos = 15,15
bindtime = -1
removetime = 34
removeongethit = 1
supermove = 1

[State 3420,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 700,2

[State 3420,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 3420,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,3

[State 3420, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3400,0

[State 3420, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3400,4
channel = 4

[State 3420, StopSnd]
type = StopSnd
trigger1 = AnimTime = 0
channel = 4

[State 3420,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 3421

;---------------------------------------------------------------------------
;Kamehameha_LV3
[Statedef 3421]
type = S
movetype = A
physics = S
anim = 3402
velset = 0
ctrl = 0
juggle  = 4
sprpriority = 2

[State 3421, Explod]
type = Explod
trigger1 = time = 10
anim = 3414
sprpriority = 3
postype = p1
pos = 87,-88
bindtime = -1
removetime = 108
removeongethit = 1
ownpal = 1

[State 3421, Explod]
type = Explod
trigger1 = time = 15
anim = 3419
sprpriority = 3
postype = p1
pos = 250,-78
bindtime = -1
removetime = 93
removeongethit = 1
ownpal = 1

[State 3421, Explod]
type = Explod
trigger1 = time = 10
anim = 3414
sprpriority = 3
postype = p1
pos = 187,-78
bindtime = -1
removetime = 98
removeongethit = 1
ownpal = 1

[State 3421, Explod]
type = Explod
trigger1 = time = 10
anim = 3415
sprpriority = 3
postype = p1
pos = 127,-98
bindtime = -1
removetime = 98
removeongethit = 1
ownpal = 1
scale = 1,.8

[State 3421, Explod]
type = Explod
trigger1 = time = 5
anim = 3416
sprpriority = 3
postype = p1
pos = 90,-28
bindtime = -1
removetime = 103
removeongethit = 1
ownpal = 1

[State 3421, Explod]
type = Explod
trigger1 = time = 15
anim = 3416
sprpriority = 3
postype = p1
pos = 200,-28
bindtime = -1
removetime = 93
removeongethit = 1
ownpal = 1

[State 3421, Explod]
type = Explod
trigger1 = time = 10
anim = 3417
sprpriority = 3
postype = p1
pos = 300,-28
bindtime = -1
removetime = 98
removeongethit = 1
ownpal = 1

[State 3421, Explod]
type = Explod
trigger1 = time = 0
anim = 3412
sprpriority = 3
postype = p1
pos = 37,-58
bindtime = -1
removetime = 114
removeongethit = 1
ownpal = 1

[State 3421, Projectile]
type = Projectile
trigger1 = time = 0
projanim = 3413
projhitanim = -1
projID = 2300
projremove = 0
projremovetime = 98
hitflag = MAFP
attr = S, HP
velocity = 0
projshadow = 150,150,150
projpriority = 6
postype = p1
offset = 37,-58
attr = S, SP
damage = 25-ifelse((Palno > 6 || var(17) >= 2),13,0), 5+ifelse((Palno > 6 || var(17) >= 2),-1,0)
projhits = 45+ifelse((Palno > 6 || var(17) >= 2),45,0)
projmisstime = 7-ifelse((Palno > 6 || var(17) >= 2),5,0)
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s3420
guard.sparkno = s3421
sparkxy = ceil (p2dist x) -37, -12
hitsound = S3400,5
getpower = 0
guardsound = S3400,6
pausetime = 0,15
ground.hittime = 35
ground.type = high
ground.slidetime = 20
ground.velocity = -12.5
air.velocity = -4,-4
air.fall = 1
fall=1
fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4

[State 3421, Projectile]
type = Projectile
trigger1 = time = 99
projanim = 3411
projhitanim = -1
projID = 2200
projremove = 0
projremovetime = 12
velocity = 0
attr = S, HP
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = 37,-58
damage = 80+ifelse((Palno > 6 || var(17) >= 2),20,0), 15+ifelse((Palno > 6 || var(17) >= 2),5,0)
projhits = 45
projmisstime = 15
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s3422
guard.sparkno = s3421
sparkxy = ceil (p2dist x) -37, -12
hitsound = S3400,5
getpower = 0
guardsound = S3400,6
pausetime = 0,13
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -12.5
air.velocity = -12,-4
air.fall = 1
fall=1
fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
removeongethit = 1

[State 3421,Envcolor]
type = Envcolor
trigger1 = projhit(2200) = 1
trigger1 = var(29) != 1
value = 255,255,255
time = 3
under = 1
ignorehitpause = 1

[State 3421, AssertSpecial]
type = AssertSpecial
trigger1 = projhit(2200) = 0
flag = nojugglecheck

[State 3421,Explod]
type = Explod
trigger1 = time = 0
anim = 3430
pos = -30, 0
postype = p1
sprpriority = 5
bindtime = -1

[State 3421,Explod]
type = Explod
trigger1 = time = 0
anim = 3020
pos = 30, 0
postype = p1
sprpriority = 5
bindtime = -1

[State 3421,Explod]
type = Explod
trigger1 = time = 0
anim = 3140
pos = -39, 15
postype = p1
sprpriority = 5
bindtime = -1

[State 3421,Explod]
type = Explod
trigger1 = animelem = 1
anim = 3424
pos = 0, 0
postype = p1
sprpriority = 5
bindtime = -1

[State 3421, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 3400,2

[State 3421, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 3400,10

[State 3421, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Jump Kamehameha_LV1(Start)
[Statedef 3430]
type = A
movetype = A
physics = S
anim = 3450
ctrl = 0
velset = 0, 0
poweradd = -1000

[State 3430,Removeexplod]
type = Removeexplod
trigger1 = Time = 0
id = 307

[State 3430,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 20

[State 3430,SuperPause]
type = SuperPause
trigger1 = time = 1
time = 36
movetime = 36
anim = -1

[State 3430,EnvColor]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 3430,EnvColor]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 3430,Var]
type = Varset
trigger1 = Time = 0
var(1) = 0

[State 3430,Helper]
type = Helper
triggerall = prevstateno =650 || prevstateno =660 || prevstateno =670 || prevstateno =1203 || prevstateno =1205 || prevstateno =1213 || prevstateno =1223
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3430,Helper]
type = Helper
triggerall = prevstateno =1800 || prevstateno =1810 || prevstateno =1820 || prevstateno =2200 || prevstateno =2210 || prevstateno =2220
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3430,Explod]
type = Explod
trigger1 = time = 1 
anim = 6255
sprpriority = -1
postype = p1
pos = -23, -78
bindtime = 1
supermove = 1
ownpal = 1

[State 3430,Explod]
type = Explod
trigger1 = time = 11 
anim = 6250
sprpriority = 3
postype = p1
pos = -23, -78
bindtime = 1
supermove = 1
ownpal = 1

[State 3430,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 2
anim = 3423
sprpriority = -2
pos = 8, -28
postype = p1
removetime = 31
bindtime = 1
supermove = 1
ownpal = 1
id = 307

[State 3430, Explod]
type = Explod
trigger1 = animelem = 2
anim = 3405
sprpriority = 2
postype = p1
pos = 27, -13
bindtime = -1
removetime = 34
removeongethit = 1
supermove = 1

[State 3430,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 6000,0

[State 3430,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 3430, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3400,0

[State 3430,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 3431

;---------------------------------------------------------------------------
;Jump Kamehameha_LV1
[Statedef 3431]
type = A
movetype = A
physics = S
anim = 3451
velset   = 0,0
ctrl = 0
juggle  = 4
sprpriority = 2

[State 3431, Explod]
type = Explod
trigger1 = time = 0
anim = 3410
sprpriority = 3
postype = p1
pos = 46,-88
bindtime = -1
removetime = 70
removeongethit = 1
ownpal = 1

[State 3431, Projectile]
type = Projectile
trigger1 = time = 0
projanim = 3411
projhitanim = -1
projID = 2300
projremove = 0
projremovetime = 52
hitflag = MAFP
attr = S, HP
velocity = 0
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = 46,-88
attr = S, SP
damage = 40-ifelse((Palno > 6 || var(17) >= 2),20,0), 5+ifelse((Palno > 6 || var(17) >= 2),3,0)
projhits = 40+ifelse((Palno > 6 || var(17) >= 2),30,0)
projmisstime = 14-ifelse((Palno > 6 || var(17) >= 2),10,0)
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s3420
guard.sparkno = s3421
sparkxy = ceil (p2dist x) -47, -12
hitsound = S3400,5
getpower = 0
guardsound = S3400,6
pausetime = 0,15
ground.hittime = 35
ground.type = high
ground.slidetime = 20
ground.velocity = -12.5
air.velocity = -4,-4
air.fall = 1
fall=1
fall.recover = 0
air.juggle = 4
envshake.time = 10
envshake.ampl = 4

[State 3431, Projectile]
type = Projectile
trigger1 = time = 53
projanim = 3411
projhitanim = -1
projID = 2200
projremove = 0
projremovetime = 12
velocity = 0
attr = S, HP
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = 46,-88
damage = 80+ifelse((Palno > 6 || var(17) >= 2),20,0), 10+ifelse((Palno > 6 || var(17) >= 2),10,0)
projhits = 45
projmisstime = 15
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s3422
guard.sparkno = s3421
sparkxy = ceil (p2dist x) -47, -12
hitsound = S3400,5
getpower = 0
guardsound = S3400,6
pausetime = 3,16
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -12.5
air.velocity = -12,-4
air.fall = 1
fall=1
fall.recover = 0
air.juggle = 4
envshake.time = 10
envshake.ampl = 8
removeongethit = 1

[State 3431,Envcolor]
type = Envcolor
trigger1 = projhit(2200) = 1
trigger1 = var(29) != 1
value = 255,255,255
time = 3
under = 1
ignorehitpause = 1

[State 3431, AssertSpecial]
type = AssertSpecial
trigger1 = projhit(2200) = 0
flag = nojugglecheck

[State 3431,Explod]
type = Explod
trigger1 = time = 0
anim = 3432
pos = -30, 0
postype = p1
sprpriority = 6
bindtime = -1

[State 3431,Explod]
type = Explod
trigger1 = time = 0
anim = 3140
pos = -30, -15
postype = p1
sprpriority = 5
bindtime = -1

[State 3431,Explod]
type = Explod
trigger1 = animelem = 1
anim = 3426
pos = 0, 0
postype = p1
sprpriority = 5
bindtime = -1

[State 3431, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 3400,2

[State 3431, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 3400,10

[State 3431,Vel]
type = Velset
trigger1 = Animelem = 30
x = -5.4
y = -6.2

[State 3431,Vel]
type = Veladd
trigger1 = Animelem = 30,>=0
x = -.8
y = .58

[State 3431,Statetypeset]
type = Statetypeset
triggerall = movetype = A
trigger1 = animelemtime(30) > 0
movetype = I

[State 3431,CtrlSet]
type = CtrlSet
trigger1 = AnimElem >= 33
value = 1

[State 3431,ChangeState]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 2212

;---------------------------------------------------------------------------
;Jump Kamehameha_LV2(Start)
[Statedef 3440]
type = A
movetype = A
physics = S
anim = 3450
ctrl = 0
velset = 0, 0
poweradd = -2000

[State 3440,Removeexplod]
type = Removeexplod
trigger1 = Time = 0
id = 307

[State 3440,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 20

[State 3440,SuperPause]
type = SuperPause
trigger1 = time = 1
time = 36
movetime = 36
anim = -1

[State 3440,EnvColor]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 3440,EnvColor]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 3440,Var]
type = Varset
trigger1 = Time = 0
var(1) = 0

[State 3440,Helper]
type = Helper
triggerall = prevstateno =650 || prevstateno =660 || prevstateno =670 || prevstateno =1203 || prevstateno =1205 || prevstateno =1213 || prevstateno =1223
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3440,Helper]
type = Helper
triggerall = prevstateno =1800 || prevstateno =1810 || prevstateno =1820 || prevstateno =2200 || prevstateno =2210 || prevstateno =2220
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3440,Explod]
type = Explod
trigger1 = Time = 1
trigger1= facing = 1
anim = 4526*ifelse(random<100,100,1)
pos = 0,0
postype = left
facing = 1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3440,Explod]
type = Explod
trigger1 = Time = 1
trigger1= facing = -1
anim = 4526*ifelse(random<100,100,1)
pos = 0,0
postype = Right
facing = -1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3440,Explod]
type = Explod
trigger1 = time = 1
anim = 6265
sprpriority = -1
postype = p1
pos = -23, -78
bindtime = 1
supermove = 1
ownpal = 1

[State 3440,Explod]
type = Explod
trigger1 = Time = 11
anim = 6260
sprpriority = 3
postype = p1
pos = -23, -78
bindtime = 1
supermove = 1
ownpal = 1

[State 3440,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 2
anim = 3423
sprpriority = -2
pos = 8, -28
postype = p1
removetime = 31
bindtime = 1
supermove = 1
ownpal = 1
id = 307

[State 3440, Explod]
type = Explod
trigger1 = animelem = 2
anim = 3406
sprpriority = 3
postype = p1
pos = 26,-12
bindtime = 1
removetime = 34
removeongethit = 1
supermove = 1
ownpal = 1

[State 3440, Explod]
type = Explod
trigger1 = animelem = 2
anim = 3405
sprpriority = 2
postype = p1
pos = 27, -13
bindtime = -1
removetime = 34
removeongethit = 1
supermove = 1

[State 3440,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 6000,2

[State 3440,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 3440,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,3

[State 3440,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 6000,0

[State 3440,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 3440, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3400,0

[State 3440,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 3441

;---------------------------------------------------------------------------
;Jump Kamehameha_LV2
[Statedef 3441]
type = A
movetype = A
physics = S
anim = 3451
velset = 0
ctrl = 0
juggle  = 4
sprpriority = 2

[State 3441, Explod]
type = Explod
trigger1 = time = 10
anim = 3414
sprpriority = 3
postype = p1
pos = 96,-118
bindtime = -1
removetime = 60
removeongethit = 1
ownpal = 1

[State 3441, Explod]
type = Explod
trigger1 = time = 15
anim = 3419
sprpriority = 3
postype = p1
pos = 259,-108
bindtime = -1
removetime = 45
removeongethit = 1
ownpal = 1

[State 3441, Explod]
type = Explod
trigger1 = time = 10
anim = 3414
sprpriority = 3
postype = p1
pos = 196,-108
bindtime = -1
removetime = 50
removeongethit = 1
ownpal = 1

[State 3441, Explod]
type = Explod
trigger1 = time = 10
anim = 3415
sprpriority = 3
postype = p1
pos = 136,-128
bindtime = -1
removetime = 50
removeongethit = 1
ownpal = 1
scale = 1,.8

[State 3441, Explod]
type = Explod
trigger1 = time = 5
anim = 3416
sprpriority = 3
postype = p1
pos = 99,-58
bindtime = -1
removetime = 55
removeongethit = 1
ownpal = 1

[State 3441, Explod]
type = Explod
trigger1 = time = 15
anim = 3416
sprpriority = 3
postype = p1
pos = 209,-58
bindtime = -1
removetime = 45
removeongethit = 1
ownpal = 1

[State 3441, Explod]
type = Explod
trigger1 = time = 10
anim = 3417
sprpriority = 3
postype = p1
pos = 309,-58
bindtime = -1
removetime = 50
removeongethit = 1
ownpal = 1

[State 3441, Explod]
type = Explod
trigger1 = time = 0
anim = 3410
sprpriority = 3
postype = p1
pos = 46,-88
bindtime = -1
removetime = 70
removeongethit = 1
ownpal = 1

[State 3441, Projectile]
type = Projectile
trigger1 = time = 0
projanim = 3411
projhitanim = -1
projID = 2300
projremove = 0
projremovetime = 52
hitflag = MAFP
attr = S, HP
velocity = 0
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = 46,-88
attr = S, SP
damage = 30-ifelse((Palno > 6 || var(17) >= 2),14,0), 5+ifelse((Palno > 6 || var(17) >= 2),2,0)
projhits = 45+ifelse((Palno > 6 || var(17) >= 2),45,0)
projmisstime = 7-ifelse((Palno > 6 || var(17) >= 2),5,0)
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s3420
guard.sparkno = s3421
sparkxy = ceil (p2dist x) -47, -12
hitsound = S3400,5
getpower = 0
guardsound = S3400,6
pausetime = 0,15
ground.hittime = 35
ground.type = high
ground.slidetime = 20
ground.velocity = -12.5
air.velocity = -4,-4
air.fall = 1
fall=1
fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4

[State 3441, Projectile]
type = Projectile
trigger1 = time = 53
projanim = 3411
projhitanim = -1
projID = 2200
projremove = 0
projremovetime = 12
velocity = 0
attr = S, HP
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = 46,-88
damage = 80+ifelse((Palno > 6 || var(17) >= 2),20,0), 15+ifelse((Palno > 6 || var(17) >= 2),5,0)
projhits = 45
projmisstime = 15
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s3422
guard.sparkno = s3421
sparkxy = ceil (p2dist x) -47, -12
hitsound = S3400,5
getpower = 0
guardsound = S3400,6
pausetime = 0,13
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -12.5
air.velocity = -12,-4
air.fall = 1
fall=1
fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
removeongethit = 1

[State 3441,Envcolor]
type = Envcolor
trigger1 = projhit(2200) = 1
trigger1 = var(29) != 1
value = 255,255,255
time = 3
under = 1
ignorehitpause = 1

[State 3441, AssertSpecial]
type = AssertSpecial
trigger1 = projhit(2200) = 0
flag = nojugglecheck

[State 3441,Explod]
type = Explod
trigger1 = time = 0
anim = 3432
pos = -30, 0
postype = p1
sprpriority = 6
bindtime = -1

[State 3441,Explod]
type = Explod
trigger1 = time = 0
anim = 3140
pos = -30, -15
postype = p1
sprpriority = 5
bindtime = -1

[State 3441,Explod]
type = Explod
trigger1 = animelem = 1
anim = 3426
pos = 0, 0
postype = p1
sprpriority = 5
bindtime = -1

[State 3441, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 3400,2

[State 3441, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 3400,10

[State 3441,Vel]
type = Velset
trigger1 = Animelem = 30
x = -5.4
y = -6.2

[State 3441,Vel]
type = Veladd
trigger1 = Animelem = 30,>=0
x = -.8
y = .58

[State 3441,Statetypeset]
type = Statetypeset
triggerall = movetype = A
trigger1 = animelemtime(30) > 0
movetype = I

[State 3441,CtrlSet]
type = CtrlSet
trigger1 = AnimElem >= 33
value = 1

[State 3441,ChangeState]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 2212

;---------------------------------------------------------------------------
;Jump Kamehameha_LV3(Start)
[Statedef 3450]
type = A
movetype = A
physics = S
anim = 3450
ctrl = 0
velset = 0, 0
poweradd = -3000

[State 3450,Removeexplod]
type = Removeexplod
trigger1 = Time = 0
id = 307

[State 3450,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 20

[State 3450,SuperPause]
type = SuperPause
trigger1 = time = 1
time = 36
movetime = 36
anim = -1

[State 3450,EnvColor]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 3450,EnvColor]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 3450,Var]
type = Varset
trigger1 = Time = 0
var(1) = 0

[State 3450,Helper]
type = Helper
triggerall = prevstateno =650 || prevstateno =660 || prevstateno =670 || prevstateno =1203 || prevstateno =1205 || prevstateno =1213 || prevstateno =1223
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3450,Helper]
type = Helper
triggerall = prevstateno =1800 || prevstateno =1810 || prevstateno =1820 || prevstateno =2200 || prevstateno =2210 || prevstateno =2220
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3450,Explod]
type = Explod
trigger1 = Time = 1
trigger1= facing = 1
anim = 4526*ifelse(random<100,100,1)
pos = 0,0
postype = left
facing = 1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3450,Explod]
type = Explod
trigger1 = Time = 1
trigger1= facing = -1
anim = 4526*ifelse(random<100,100,1)
pos = 0,0
postype = Right
facing = -1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3450,Explod]
type = Explod
trigger1 = time = 1
anim = 6275
sprpriority = -1
postype = p1
pos = -23, -78
bindtime = 1
supermove = 1
ownpal = 1

[State 3450,Explod]
type = Explod
trigger1 = Time = 11
anim = 6270
sprpriority = 3
postype = p1
pos = -23, -78
bindtime = 1
supermove = 1
ownpal = 1

[State 3450,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 2
anim = 3423
sprpriority = -2
pos = 8, -28
postype = p1
removetime = 31
bindtime = 1
supermove = 1
ownpal = 1
id = 307

[State 3450, Explod]
type = Explod
trigger1 = animelem = 2
anim = 3407
sprpriority = 4
postype = p1
pos = -18,-78
bindtime = -1
removetime = 34
removeongethit = 1
supermove = 1

[State 3450, Explod]
type = Explod
trigger1 = animelem = 2
anim = 3406
sprpriority = 3
postype = p1
pos = 26,-12
bindtime = 1
removetime = 34
removeongethit = 1
supermove = 1
ownpal = 1

[State 3450, Explod]
type = Explod
trigger1 = animelem = 2
anim = 3405
sprpriority = 2
postype = p1
pos = 27, -13
bindtime = -1
removetime = 34
removeongethit = 1
supermove = 1

[State 3450,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 700,2

[State 3450,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 3450,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,3

[State 3450, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3400,0

[State 3450, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3400,4
channel = 4

[State 3450, StopSnd]
type = StopSnd
trigger1 = AnimTime = 0
channel = 4

[State 3450,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 3451

;---------------------------------------------------------------------------
;Jump Kamehameha_LV3
[Statedef 3451]
type = A
movetype = A
physics = S
anim = 3452
velset = 0
ctrl = 0
juggle  = 4
sprpriority = 2

[State 3451, Explod]
type = Explod
trigger1 = time = 10
anim = 3414
sprpriority = 3
postype = p1
pos = 96,-118
bindtime = -1
removetime = 108
removeongethit = 1
ownpal = 1

[State 3451, Explod]
type = Explod
trigger1 = time = 15
anim = 3419
sprpriority = 3
postype = p1
pos = 259,-108
bindtime = -1
removetime = 93
removeongethit = 1
ownpal = 1

[State 3451, Explod]
type = Explod
trigger1 = time = 10
anim = 3414
sprpriority = 3
postype = p1
pos = 196,-108
bindtime = -1
removetime = 98
removeongethit = 1
ownpal = 1

[State 3451, Explod]
type = Explod
trigger1 = time = 10
anim = 3415
sprpriority = 3
postype = p1
pos = 136,-128
bindtime = -1
removetime = 98
removeongethit = 1
ownpal = 1
scale = 1,.8

[State 3451, Explod]
type = Explod
trigger1 = time = 5
anim = 3416
sprpriority = 3
postype = p1
pos = 99,-58
bindtime = -1
removetime = 103
removeongethit = 1
ownpal = 1

[State 3451, Explod]
type = Explod
trigger1 = time = 15
anim = 3416
sprpriority = 3
postype = p1
pos = 209,-58
bindtime = -1
removetime = 93
removeongethit = 1
ownpal = 1

[State 3451, Explod]
type = Explod
trigger1 = time = 10
anim = 3417
sprpriority = 3
postype = p1
pos = 309,-58
bindtime = -1
removetime = 98
removeongethit = 1
ownpal = 1

[State 3451, Explod]
type = Explod
trigger1 = time = 0
anim = 3412
sprpriority = 3
postype = p1
pos = 46,-88
bindtime = -1
removetime = 114
removeongethit = 1
ownpal = 1

[State 3451, Projectile]
type = Projectile
trigger1 = time = 0
projanim = 3413
projhitanim = -1
projID = 2300
projremove = 0
projremovetime = 98
hitflag = MAFP
attr = S, HP
velocity = 0
projshadow = 150,150,150
projpriority = 6
postype = p1
offset = 46,-88
attr = S, SP
damage = 25-ifelse((Palno > 6 || var(17) >= 2),13,0), 5+ifelse((Palno > 6 || var(17) >= 2),-1,0)
projhits = 45+ifelse((Palno > 6 || var(17) >= 2),45,0)
projmisstime = 7-ifelse((Palno > 6 || var(17) >= 2),5,0)
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s3420
guard.sparkno = s3421
sparkxy = ceil (p2dist x) -47, -12
hitsound = S3400,5
getpower = 0
guardsound = S3400,6
pausetime = 0,15
ground.hittime = 35
ground.type = high
ground.slidetime = 20
ground.velocity = -12.5
air.velocity = -4,-4
air.fall = 1
fall=1
fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4

[State 3451, Projectile]
type = Projectile
trigger1 = time = 99
projanim = 3411
projhitanim = -1
projID = 2200
projremove = 0
projremovetime = 12
velocity = 0
attr = S, HP
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = 46,-88
damage = 80+ifelse((Palno > 6 || var(17) >= 2),20,0), 15+ifelse((Palno > 6 || var(17) >= 2),5,0)
projhits = 45
projmisstime = 15
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s3422
guard.sparkno = s3421
sparkxy = ceil (p2dist x) -47, -12
hitsound = S3400,5
getpower = 0
guardsound = S3400,6
pausetime = 0,13
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -12.5
air.velocity = -12,-4
air.fall = 1
fall=1
fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
removeongethit = 1

[State 3451,Envcolor]
type = Envcolor
trigger1 = projhit(2200) = 1
trigger1 = var(29) != 1
value = 255,255,255
time = 3
under = 1
ignorehitpause = 1

[State 3451, AssertSpecial]
type = AssertSpecial
trigger1 = projhit(2200) = 0
flag = nojugglecheck

[State 3441,Explod]
type = Explod
trigger1 = time = 0
anim = 3432
pos = -30, 0
postype = p1
sprpriority = 6
bindtime = -1

[State 3441,Explod]
type = Explod
trigger1 = time = 0
anim = 3140
pos = -30, -15
postype = p1
sprpriority = 5
bindtime = -1

[State 3441,Explod]
type = Explod
trigger1 = animelem = 1
anim = 3426
pos = 0, 0
postype = p1
sprpriority = 5
bindtime = -1

[State 3441, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 3400,2

[State 3441, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 3400,10

[State 3441,Vel]
type = Velset
trigger1 = Animelem = 54
x = -5.4
y = -6.2

[State 3441,Vel]
type = Veladd
trigger1 = Animelem = 54,>=0
x = -.8
y = .58

[State 3441,Statetypeset]
type = Statetypeset
triggerall = movetype = A
trigger1 = animelemtime(54) > 0
movetype = I

[State 3441,CtrlSet]
type = CtrlSet
trigger1 = AnimElem >= 57
value = 1

[State 3441,ChangeState]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 2212

;---------------------------------------------------------------------------
;Cho Kamehameha(Start)
[Statedef 4300]
type = S
movetype = A
physics = S
anim = 3440
ctrl = 0
velset = 0, 0
poweradd = -3000

[State 4300,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 20

[State 4300,SuperPause]
type = SuperPause
trigger1 = time = 1
time = 146
movetime = 146
anim = -1

[State 4300,EnvColor]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 4300,EnvColor]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 4300,Var]
type = Varset
trigger1 = Time = 0
var(1) = 0

[State 4300,Explod]
type = Explod
trigger1 = Time = 1
trigger1= facing = 1
anim = 4526
pos = 0,0
postype = left
facing = 1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 4300,Explod]
type = Explod
trigger1 = Time = 1
trigger1= facing = -1
anim = 4526
pos = 0,0
postype = Right
facing = -1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 4300,Explod]
type = Explod
trigger1 = time = 1
anim = 6275
sprpriority = -1
postype = p1
pos = -35, -50
bindtime = 1
supermove = 1
ownpal = 1

[State 4300,Explod]
type = Explod
trigger1 = Time = 11
anim = 6270
sprpriority = 3
postype = p1
pos = -35, -50
bindtime = 1
supermove = 1
ownpal = 1

[State 4300,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 2
anim = 3417
sprpriority = 7
pos = 0, -60
postype = p1
removetime = 144
bindtime = 1
supermove = 1
ownpal = 1
facing = -1
id = 307

[State 4300,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 2
anim = 3415
sprpriority = 7
pos = -60, -120
postype = p1
removetime = 144
bindtime = 1
supermove = 1
ownpal = 1
id = 307

[State 4300,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 2
anim = 3415
sprpriority = 7
pos = 30, -120
postype = p1
removetime = 144
bindtime = 1
supermove = 1
ownpal = 1
facing = -1
id = 307

[State 4300,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 2
anim = 3418
sprpriority = 7
pos = 40, 40
postype = p1
removetime = 144
bindtime = 1
supermove = 1
ownpal = 1
facing = -1
id = 307

[State 4300,Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 3431
sprpriority = 2
pos = 5, 20
postype = p1
removetime = 144
bindtime = 1
supermove = 1
ownpal = 1
scale = .8,.8

[State 4300,Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 3423
sprpriority = -2
pos = 0, 0
postype = p1
removetime = 144
bindtime = 1
supermove = 1
ownpal = 1


[State 4300, Explod]
type = Explod
trigger1 = animelem = 2
anim = 3407
sprpriority = 4
postype = p1
pos = -30,-50
bindtime = -1
removetime = 144
removeongethit = 1
supermove = 1

[State 4300, Explod]
type = Explod
trigger1 = animelem = 2
anim = 3406
sprpriority = 3
postype = p1
pos = 14,16
bindtime = 1
removetime = 144
removeongethit = 1
supermove = 1
ownpal = 1

[State 4300, Explod]
type = Explod
trigger1 = animelem = 2
anim = 3405
sprpriority = 2
postype = p1
pos = 15,15
bindtime = -1
removetime = 144
removeongethit = 1
supermove = 1

[State 4300,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 700,2

[State 4300,PlaySnd]
type = PlaySnd
trigger1 = Time = 5
value = 4600,1

[State 4300,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 4300,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,3

[State 4300, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3400,0

[State 4300, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3400,4
channel = 4

[State 4300, StopSnd]
type = StopSnd
trigger1 = AnimTime = 0
channel = 4

[State 4300,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 4301
;---------------------------------------------------------------------------
;Cho Kamehameha
[Statedef 4301]
type = S
movetype = A
physics = S
anim = 3441
velset = 0
ctrl = 0
juggle  = 4
sprpriority = 2

[State 4301,NotHitBy]
type = NotHitBy
trigger1 = Animtime <= -45
value = SCA

[State 4301, Explod]
type = Explod
trigger1 = time = 10
anim = 3414
sprpriority = 3
postype = p1
pos = 87,-128
bindtime = -1
removetime = 175
removeongethit = 1
ownpal = 1

[State 4301, Explod]
type = Explod
trigger1 = time = 15
anim = 3419
sprpriority = 3
postype = p1
pos = 250,-148
bindtime = -1
removetime = 181
removeongethit = 1
ownpal = 1

[State 4301, Explod]
type = Explod
trigger1 = time = 10
anim = 3414
sprpriority = 3
postype = p1
pos = 187,-148
bindtime = -1
removetime = 180
removeongethit = 1
ownpal = 1

[State 4301, Explod]
type = Explod
trigger1 = time = 10
anim = 3415
sprpriority = 3
postype = p1
pos = 127,-168
bindtime = -1
removetime = 176
removeongethit = 1
ownpal = 1
scale = 1,.8

[State 4301, Explod]
type = Explod
trigger1 = time = 5
anim = 3416
sprpriority = 3
postype = p1
pos = 90,-18
bindtime = -1
removetime = 181
removeongethit = 1
ownpal = 1

[State 4301, Explod]
type = Explod
trigger1 = time = 15
anim = 3416
sprpriority = 3
postype = p1
pos = 200,-18
bindtime = -1
removetime = 175
removeongethit = 1
ownpal = 1

[State 4301, Explod]
type = Explod
trigger1 = time = 10
anim = 3417
sprpriority = 3
postype = p1
pos = 300,-18
bindtime = -1
removetime = 181
removeongethit = 1
ownpal = 1

[State 4301, Explod]
type = Explod
trigger1 = time = 0
anim = 3442
sprpriority = 3
postype = p1
pos = 0,0
bindtime = -1
removetime = 202
removeongethit = 1
ownpal = 1

[State 4301, Projectile]
type = Projectile
trigger1 = time = 0
projanim = 3413
projhitanim = -1
projID = 2300
projremove = 0
projremovetime = 184
hitflag = MAFP
attr = S, HP
velocity = 0
projshadow = 150,150,150
projpriority = 7
postype = p1
offset = 37,-58
attr = S, SP
damage = 20+ifelse((Palno > 6 || var(17) >= 2),-10,0), 10+ifelse((Palno > 6 || var(17) >= 2),-2,0)
projhits = 50+ifelse((Palno > 6 || var(17) >= 2),45,0)
projmisstime = 7-ifelse((Palno > 6 || var(17) >= 2),5,0)
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s3420
guard.sparkno = s3421
sparkxy = ceil (p2dist x) -37, -12
hitsound = S3400,5
getpower = 0
guardsound = S3400,6
pausetime = 0,15
ground.hittime = 35
ground.type = high
ground.slidetime = 20
ground.velocity = -12.5
air.velocity = -4,-4
air.fall = 1
fall=1
fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
removeongethit = 1

[State 4301, Projectile]
type = Projectile
trigger1 = time = 185
projanim = 3411
projhitanim = -1
projID = 2200
projremove = 0
projremovetime = 12
velocity = 0
attr = S, HP
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = 37,-58
damage = 150+ifelse((Palno > 6 || var(17) >= 2),-110,0), 20+ifelse((Palno > 6 || var(17) >= 2),21,0)
projhits = 45
projmisstime = 15
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s3422
guard.sparkno = s3421
sparkxy = ceil (p2dist x) -37, -12
hitsound = S3400,5
getpower = 0
guardsound = S3400,6
pausetime = 0,13
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -12.5
air.velocity = -12,-4
air.fall = 1
fall=1
fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
removeongethit = 1

[State 4301,Envcolor]
type = Envcolor
trigger1 = projhit(2200) = 1
trigger1 = var(29) != 1
value = 255,255,255
time = 3
under = 1
ignorehitpause = 1

[State 4301, AssertSpecial]
type = AssertSpecial
trigger1 = projhit(2200) = 0
flag = nojugglecheck

[State 4301, Explod]
type = Explod
trigger1 = time = 0
anim = 3460
ID = 3460
pos = 0,0
postype = Left
removetime = 202
sprpriority = -5
supermove = 1
ownpal = 0
bindtime = -1
persistent = 0
scale = 1.1,1.1
under = 1

[State 4301,Explod]
type = Explod
trigger1 = time = 0
anim = 3430
pos = -30, 0
postype = p1
sprpriority = 5
bindtime = -1

[State 4301,Explod]
type = Explod
trigger1 = time = 0
anim = 3020
pos = 30, 0
postype = p1
sprpriority = 5
bindtime = -1
removetime = 202

[State 4301,Explod]
type = Explod
trigger1 = time = 0
anim = 3140
pos = -39, 15
postype = p1
sprpriority = 5
bindtime = -1

[State 4301,Explod]
type = Explod
trigger1 = time = 0
anim = 3432
pos = 0, 0
postype = p1
sprpriority = 5
bindtime = -1

[State 4301,Explod]
type = Explod
trigger1 = Animelem = 90
anim = 6130
pos = 0, 0
postype = p1
sprpriority = 5
bindtime = -1
facing = -1

[State 4301, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 3400,3

[State 4301, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 3400,10

[State 4301, PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 3400,12

[State 4301, PlaySnd]
type = PlaySnd
trigger1 = Time = 30
value = 3400,11

[State 4301, PlaySnd]
type = PlaySnd
trigger1 = Time = 60
value = 6001,0

[State 4301, PlaySnd]
type = PlaySnd
trigger1 = Time = 90
value = 750,2

[State 4301,Vel]
type = Velset
trigger1 = Animelem = 75
trigger2 = Animelem = 76
trigger3 = Animelem = 77
trigger4 = Animelem = 78
trigger5 = Animelem = 79
trigger6 = Animelem = 80
trigger7 = Animelem = 81
trigger8 = Animelem = 82
trigger9 = Animelem = 83
x = -1

[State 4301,Vel]
type = Velset
trigger1 = Animelem = 84
trigger2 = Animelem = 85
trigger3 = Animelem = 86
trigger4 = Animelem = 87
trigger5 = Animelem = 89
x = -2

[State 4301,Vel]
type = Velset
trigger1 = Animelem = 90
x = -30.4

[State 4301, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Cho Kamehameha_4000(Start)
[Statedef 4302]
type = S
movetype = A
physics = S
anim = 3440
ctrl = 0
velset = 0, 0
poweradd = -4000

[State 4302,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 20

[State 4302,SuperPause]
type = SuperPause
trigger1 = time = 1
time = 146
movetime = 146
anim = -1

[State 4302,EnvColor]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 4302,EnvColor]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 4302,Var]
type = Varset
trigger1 = Time = 0
var(1) = 0

[State 4302,Explod]
type = Explod
trigger1 = Time = 1
trigger1= facing = 1
anim = 4526
pos = 0,0
postype = left
facing = 1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 4302,Explod]
type = Explod
trigger1 = Time = 1
trigger1= facing = -1
anim = 4526
pos = 0,0
postype = Right
facing = -1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 4302,Explod]
type = Explod
trigger1 = time = 1
anim = 6275
sprpriority = -1
postype = p1
pos = -35, -50
bindtime = 1
supermove = 1
ownpal = 1

[State 4302,Explod]
type = Explod
trigger1 = Time = 11
anim = 6270
sprpriority = 3
postype = p1
pos = -35, -50
bindtime = 1
supermove = 1
ownpal = 1

[State 4300,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 2
anim = 3417
sprpriority = 7
pos = 0, -60
postype = p1
removetime = 144
bindtime = 1
supermove = 1
ownpal = 1
facing = -1
id = 307

[State 4300,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 2
anim = 3415
sprpriority = 7
pos = -60, -120
postype = p1
removetime = 144
bindtime = 1
supermove = 1
ownpal = 1
id = 307

[State 4300,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 2
anim = 3415
sprpriority = 7
pos = 30, -120
postype = p1
removetime = 144
bindtime = 1
supermove = 1
ownpal = 1
facing = -1
id = 307

[State 4300,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 2
anim = 3418
sprpriority = 7
pos = 40, 40
postype = p1
removetime = 144
bindtime = 1
supermove = 1
ownpal = 1
facing = -1
id = 307

[State 4302,Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 3431
sprpriority = 2
pos = 5, 20
postype = p1
removetime = 144
bindtime = 1
supermove = 1
ownpal = 1
scale = .8,.8

[State 4302,Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 3423
sprpriority = -2
pos = 0, 0
postype = p1
removetime = 144
bindtime = 1
supermove = 1
ownpal = 1


[State 4302, Explod]
type = Explod
trigger1 = animelem = 2
anim = 3407
sprpriority = 4
postype = p1
pos = -30,-50
bindtime = -1
removetime = 144
removeongethit = 1
supermove = 1

[State 4302, Explod]
type = Explod
trigger1 = animelem = 2
anim = 3406
sprpriority = 3
postype = p1
pos = 14,16
bindtime = 1
removetime = 144
removeongethit = 1
supermove = 1
ownpal = 1

[State 4302, Explod]
type = Explod
trigger1 = animelem = 2
anim = 3405
sprpriority = 2
postype = p1
pos = 15,15
bindtime = -1
removetime = 144
removeongethit = 1
supermove = 1

[State 4302,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 700,2

[State 4302,PlaySnd]
type = PlaySnd
trigger1 = Time = 5
value = 4600,1

[State 4302,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 4302,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,3

[State 4302, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3400,0

[State 4302, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3400,4
channel = 4

[State 4302, StopSnd]
type = StopSnd
trigger1 = AnimTime = 0
channel = 4

[State 4302,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 4301
;---------------------------------------------------------------------------
;Jump Cho Kamehameha(Start)
[Statedef 4310]
type = A
movetype = A
physics = S
anim = 3453
ctrl = 0
velset = 0, 0
poweradd = -3000

[State 4310,Removeexplod]
type = Removeexplod
trigger1 = Time = 0
id = 307

[State 4310,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 20

[State 4310,SuperPause]
type = SuperPause
trigger1 = time = 1
time = 146
movetime = 146
anim = -1

[State 4310,EnvColor]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 4310,EnvColor]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 4310,Var]
type = Varset
trigger1 = Time = 0
var(1) = 0

[State 4310,Explod]
type = Explod
trigger1 = Time = 1
trigger1= facing = 1
anim = 4526
pos = 0,0
postype = left
facing = 1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 4310,Explod]
type = Explod
trigger1 = Time = 1
trigger1= facing = -1
anim = 4526
pos = 0,0
postype = Right
facing = -1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 4310,Explod]
type = Explod
trigger1 = time = 1
anim = 6275
sprpriority = -1
postype = p1
pos = -23, -78
bindtime = 1
supermove = 1
ownpal = 1

[State 4310,Explod]
type = Explod
trigger1 = Time = 11
anim = 6270
sprpriority = 3
postype = p1
pos = -23, -78
bindtime = 1
supermove = 1
ownpal = 1

[State 4310,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 2
anim = 3417
sprpriority = 7
pos = 8, -88
postype = p1
removetime = 144
bindtime = 1
supermove = 1
ownpal = 1
facing = -1
id = 307

[State 4310,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 2
anim = 3415
sprpriority = 7
pos = -52, -148
postype = p1
removetime = 144
bindtime = 1
supermove = 1
ownpal = 1
id = 307

[State 4310,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 2
anim = 3415
sprpriority = 7
pos = 38, -148
postype = p1
removetime = 144
bindtime = 1
supermove = 1
ownpal = 1
facing = -1
id = 307

[State 4310,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 2
anim = 3418
sprpriority = 7
pos = 48, 12
postype = p1
removetime = 144
bindtime = 1
supermove = 1
ownpal = 1
facing = -1
id = 307

[State 4310,Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 3423
sprpriority = -2
pos = 8, -28
postype = p1
removetime = 144
bindtime = 1
supermove = 1
ownpal = 1


[State 4310, Explod]
type = Explod
trigger1 = animelem = 2
anim = 3407
sprpriority = 4
postype = p1
pos = -18,-78
bindtime = -1
removetime = 144
removeongethit = 1
supermove = 1

[State 4310, Explod]
type = Explod
trigger1 = animelem = 2
anim = 3406
sprpriority = 3
postype = p1
pos = 26,-12
bindtime = 1
removetime = 144
removeongethit = 1
supermove = 1
ownpal = 1

[State 4310, Explod]
type = Explod
trigger1 = animelem = 2
anim = 3405
sprpriority = 2
postype = p1
pos = 27, -13
bindtime = -1
removetime = 144
removeongethit = 1
supermove = 1

[State 4310,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 700,2

[State 4310,PlaySnd]
type = PlaySnd
trigger1 = Time = 5
value = 4600,1

[State 4310,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 4310,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,3

[State 4310, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3400,0

[State 4310, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3400,4
channel = 4

[State 4310, StopSnd]
type = StopSnd
trigger1 = AnimTime = 0
channel = 4

[State 4310,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 4311

;---------------------------------------------------------------------------
;Jump Cho Kamehameha
[Statedef 4311]
type = A
movetype = A
physics = S
anim = 3454
velset = 0
ctrl = 0
juggle  = 4
sprpriority = 2

[State 4311,NotHitBy]
type = NotHitBy
trigger1 = Animtime <= -45
value = SCA

[State 4311, Explod]
type = Explod
trigger1 = time = 10
anim = 3414
sprpriority = 3
postype = p1
pos = 87,-138
bindtime = -1
removetime = 175
removeongethit = 1
ownpal = 1

[State 4311, Explod]
type = Explod
trigger1 = time = 15
anim = 3419
sprpriority = 3
postype = p1
pos = 250,-158
bindtime = -1
removetime = 181
removeongethit = 1
ownpal = 1

[State 4311, Explod]
type = Explod
trigger1 = time = 10
anim = 3414
sprpriority = 3
postype = p1
pos = 187,-158
bindtime = -1
removetime = 180
removeongethit = 1
ownpal = 1

[State 4311, Explod]
type = Explod
trigger1 = time = 10
anim = 3415
sprpriority = 3
postype = p1
pos = 127,-178
bindtime = -1
removetime = 176
removeongethit = 1
ownpal = 1
scale = 1,.8

[State 4311, Explod]
type = Explod
trigger1 = time = 5
anim = 3416
sprpriority = 3
postype = p1
pos = 90,-18
bindtime = -1
removetime = 181
removeongethit = 1
ownpal = 1

[State 4311, Explod]
type = Explod
trigger1 = time = 15
anim = 3416
sprpriority = 3
postype = p1
pos = 200,-18
bindtime = -1
removetime = 175
removeongethit = 1
ownpal = 1

[State 4311, Explod]
type = Explod
trigger1 = time = 10
anim = 3417
sprpriority = 3
postype = p1
pos = 300,-18
bindtime = -1
removetime = 181
removeongethit = 1
ownpal = 1

[State 4311, Explod]
type = Explod
trigger1 = time = 0
anim = 3442
sprpriority = 3
postype = p1
pos = 15,-30
bindtime = -1
removetime = 202
removeongethit = 1
ownpal = 1

[State 4311, Projectile]
type = Projectile
trigger1 = time = 0
projanim = 3443
projhitanim = -1
projID = 2300
projremove = 0
projremovetime = 184
hitflag = MAFP
attr = S, HP
velocity = 0
projshadow = 150,150,150
projpriority = 7
postype = p1
offset = 15,-30
attr = S, SP
damage = 25+ifelse((Palno > 6 || var(17) >= 2),10,0), 10+ifelse((Palno > 6 || var(17) >= 2),-2,0)
projhits = 50+ifelse((Palno > 6 || var(17) >= 2),45,0)
projmisstime = 7-ifelse((Palno > 6 || var(17) >= 2),5,0)
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s3420
guard.sparkno = s3421
sparkxy = ceil (p2dist x) -37, -12
hitsound = S3400,5
getpower = 0
guardsound = S3400,6
pausetime = 0,15
ground.hittime = 35
ground.type = high
ground.slidetime = 20
ground.velocity = -12.5
air.velocity = -4,-4
air.fall = 1
fall=1
fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
removeongethit = 1

[State 4311, Projectile]
type = Projectile
trigger1 = time = 185
projanim = 3443
projhitanim = -1
projID = 2200
projremove = 0
projremovetime = 12
velocity = 0
attr = S, HP
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = 15,-30
damage = 100+ifelse((Palno > 6 || var(17) >= 2),20,0), 20+ifelse((Palno > 6 || var(17) >= 2),5,0)
projhits = 45
projmisstime = 15
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s3422
guard.sparkno = s3421
sparkxy = ceil (p2dist x) -37, -12
hitsound = S3400,5
getpower = 0
guardsound = S3400,6
pausetime = 0,13
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -12.5
air.velocity = -12,-4
air.fall = 1
fall=1
fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
removeongethit = 1

[State 4311,Envcolor]
type = Envcolor
trigger1 = projhit(2200) = 1
trigger1 = var(29) != 1
value = 255,255,255
time = 3
under = 1
ignorehitpause = 1

[State 4311, AssertSpecial]
type = AssertSpecial
trigger1 = projhit(2200) = 0
flag = nojugglecheck

[State 4311, Explod]
type = Explod
trigger1 = time = 0
anim = 3460
ID = 3460
pos = 0,0
postype = Left
removetime = 202
sprpriority = -5
supermove = 1
ownpal = 0
bindtime = -1
persistent = 0
scale = 1.1,1.1
under = 1

[State 4311,Explod]
type = Explod
trigger1 = time = 0
anim = 3432
pos = 10, 0
postype = p1
sprpriority = 5
bindtime = -1
removetime = 176

[State 4311,Explod]
type = Explod
trigger1 = time = 0
anim = 3432
pos = 20, 0
postype = p1
sprpriority = 5
bindtime = -1

[State 4311,Explod]
type = Explod
trigger1 = time = 0
anim = 3140
pos = -30, -15
postype = p1
sprpriority = 5
bindtime = -1

[State 4311,Explod]
type = Explod
trigger1 = animelem = 1
anim = 3427
pos = 0, 0
postype = p1
sprpriority = 5
bindtime = -1

[State 4311, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 3400,3

[State 4311, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 3400,10

[State 4311, PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 3400,12

[State 4311, PlaySnd]
type = PlaySnd
trigger1 = Time = 30
value = 3400,11

[State 4311, PlaySnd]
type = PlaySnd
trigger1 = Time = 60
value = 6001,0

[State 4311, PlaySnd]
type = PlaySnd
trigger1 = Time = 90
value = 750,2

[State 4311,Vel]
type = Velset
trigger1 = Animelem = 75
trigger2 = Animelem = 76
trigger3 = Animelem = 77
trigger4 = Animelem = 78
trigger5 = Animelem = 79
trigger6 = Animelem = 80
trigger7 = Animelem = 81
trigger8 = Animelem = 82
trigger9 = Animelem = 83
x = -1

[State 4311,Vel]
type = Velset
trigger1 = Animelem = 84
trigger2 = Animelem = 85
trigger3 = Animelem = 86
trigger4 = Animelem = 87
trigger5 = Animelem = 89
x = -2

[State 4311,Vel]
type = Velset
trigger1 = Animelem = 90
x = -30.4
y = -6.2

[State 4311,Vel]
type = Veladd
trigger1 = Animelem = 90,>=0
x = -.8
y = .58

[State 4311,Statetypeset]
type = Statetypeset
triggerall = movetype = A
trigger1 = animelemtime(90) > 0
movetype = I

[State 4311,CtrlSet]
type = CtrlSet
trigger1 = AnimElem >= 93
value = 1

[State 4311,ChangeState]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 2212
;---------------------------------------------------------------------------
;Jump Cho Kamehameha_4000(Start)
[Statedef 4312]
type = A
movetype = A
physics = S
anim = 3453
ctrl = 0
velset = 0, 0
poweradd = -4000

[State 4312,Removeexplod]
type = Removeexplod
trigger1 = Time = 0
id = 307

[State 4312,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 20

[State 4312,SuperPause]
type = SuperPause
trigger1 = time = 1
time = 146
movetime = 146
anim = -1

[State 4312,EnvColor]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 4312,EnvColor]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 4312,Var]
type = Varset
trigger1 = Time = 0
var(1) = 0

[State 4312,Explod]
type = Explod
trigger1 = Time = 1
trigger1= facing = 1
anim = 4526
pos = 0,0
postype = left
facing = 1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 4312,Explod]
type = Explod
trigger1 = Time = 1
trigger1= facing = -1
anim = 4526
pos = 0,0
postype = Right
facing = -1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 4312,Explod]
type = Explod
trigger1 = time = 1
anim = 6275
sprpriority = -1
postype = p1
pos = -23, -78
bindtime = 1
supermove = 1
ownpal = 1

[State 4312,Explod]
type = Explod
trigger1 = Time = 11
anim = 6270
sprpriority = 3
postype = p1
pos = -23, -78
bindtime = 1
supermove = 1
ownpal = 1

[State 4312,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 2
anim = 3417
sprpriority = 7
pos = 8, -88
postype = p1
removetime = 144
bindtime = 1
supermove = 1
ownpal = 1
facing = -1
id = 307

[State 4312,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 2
anim = 3415
sprpriority = 7
pos = -52, -148
postype = p1
removetime = 144
bindtime = 1
supermove = 1
ownpal = 1
id = 307

[State 4312,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 2
anim = 3415
sprpriority = 7
pos = 38, -148
postype = p1
removetime = 144
bindtime = 1
supermove = 1
ownpal = 1
facing = -1
id = 307

[State 4312,Explod]
type = Explod
triggerall = Palno > 6 || var(17) >= 2
trigger1 = AnimElem = 2
anim = 3418
sprpriority = 7
pos = 48, 12
postype = p1
removetime = 144
bindtime = 1
supermove = 1
ownpal = 1
facing = -1
id = 307

[State 4312,Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 3423
sprpriority = -2
pos = 8, -28
postype = p1
removetime = 144
bindtime = 1
supermove = 1
ownpal = 1


[State 4312, Explod]
type = Explod
trigger1 = animelem = 2
anim = 3407
sprpriority = 4
postype = p1
pos = -18,-78
bindtime = -1
removetime = 144
removeongethit = 1
supermove = 1

[State 4312, Explod]
type = Explod
trigger1 = animelem = 2
anim = 3406
sprpriority = 3
postype = p1
pos = 26,-12
bindtime = 1
removetime = 144
removeongethit = 1
supermove = 1
ownpal = 1

[State 4312, Explod]
type = Explod
trigger1 = animelem = 2
anim = 3405
sprpriority = 2
postype = p1
pos = 27, -13
bindtime = -1
removetime = 144
removeongethit = 1
supermove = 1

[State 4312,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 700,2

[State 4312,PlaySnd]
type = PlaySnd
trigger1 = Time = 5
value = 4600,1

[State 4312,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 4312,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,3

[State 4312, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3400,0

[State 4312, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3400,4
channel = 4

[State 4312, StopSnd]
type = StopSnd
trigger1 = AnimTime = 0
channel = 4

[State 4312,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 4311

;---------------------------------------------------------------------------
;Spinning Lotus LV1
[Statedef 3300]
type = S
movetype = A
physics = S
anim = 3300
ctrl = 0
velset = 0, 0
poweradd = -1000

[State 3300,Var]
type = Varset
trigger1 = Time = 0
var(1) = 0

[State 3300,NotHitBy]
type = NotHitBy
trigger1 = animelem = 1
value = SCA
time = 33

[State 3300,SuperPause]
type = SuperPause
trigger1 = time = 1
time = 32
movetime = 32
anim = -1

[State 3300,EnvColor]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 3300,EnvColor]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 3300,HitDef]
type = HitDef
triggerall = var(5)<=0
trigger1= P2Dist x <= 70 && AnimElem = 1
trigger1= AnimElem = 1,<=0
trigger1 = P2StateNo != [150,155]
trigger1 = P2StateNo != [40,49]
trigger1 = P2StateNo != 50 && 52
trigger1 = p2statetype != A
numhits = 0
attr = S, ST
getpower = 16,16
guard.dist = 0
priority = 4, Miss
sparkno = -1
sparkxy = -20, -68
p2facing = 1
p1stateno = 3301
p2stateno = 3305
p2getp1state = 1
Palfx.time = 1
ID = 3300

[State 3300,Helper]
type = Helper
triggerall = prevstateno =1030 || prevstateno =1100 || prevstateno =1110 || prevstateno =1120 || prevstateno =1200 || prevstateno =1210 || prevstateno =1220
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3300,Helper]
type = Helper
triggerall = prevstateno =1301 || prevstateno =1311 || prevstateno =1321 || prevstateno =1420 || prevstateno =1430 || prevstateno =1440 || prevstateno =2130
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000,Explod]
type = Explod
trigger1 = time = 1 
anim = 6255
sprpriority = -1
postype = p1
pos = 30, -70
bindtime = 1
supermove = 1
ownpal = 1

[State 3300,Explod]
type = Explod
trigger1 = time = 11 
anim = 6250
sprpriority = 3
postype = p1
pos = 30, -70
bindtime = 1
supermove = 1
ownpal = 1

[State 3300,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 6000,0

[State 3300,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 3300,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
ctrl = 1
value = 0

;---------------------------------------------------------------------------
;Spinning Lotus LV1_1
[Statedef 3301]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3301
sprpriority = -1

[State 3301,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 20

[State 3301,Var]
type = Varset
trigger1 = Time = 0
var(1) = 0

[State 3301,AfterImage]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2

[State 3301,AfterImage]
type = AfterImageTime
trigger1 = AnimElemTime(1) >= 1 && Time < 300
time = 2

[State 3301,EnvColor]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 3301,EnvColor]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 3301,Helper]
type = Helper
triggerall = prevstateno =2901 || prevstateno =2911 || prevstateno =2921
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3301,Pos]
type = PosSet
trigger1 = Time = 0
trigger1 = NumTarget(3300)
x = Target(3300), Pos X + 36 * Target(3300), facing
y = 0

[State 3301,Target]
type = BindtoTarget
trigger1 = animelem= 2, >= 0
trigger1 = animelem= 5, <= 0
pos = -3,8,Head

[State 3301,BGPalFX]
type = BGPalFX
trigger1 = time = 1
time = 270
mul = 0,0,0
sinadd = 256,256,256,10
invertall = 0
color = 256
pausemovetime = 999
supermovetime = 999
ignorehitpause=1
persistent = 2

[State 3301,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = timerfreeze

[State 3301,Helper]
type = Helper
trigger1 = animelem = 1
ID = 3302
pos = 0,0
postype = p1
stateno = 3302
sprpriority = 4
persistent = 0

[State 3301,Angle]
type = AngleDraw
trigger1 = 1
value = 1

[State 3301,Angle]
type = Angleset
trigger1 = 1
value = floor(fvar(1)* 42.2957791)

[State 3301,Var]
type = VarAdd
trigger1 = timemod = 2,0
trigger1 = time>=67
trigger1 = time<237
fvar(1) = 0.1

[State 3301,Var]
type = VarSet
trigger1 = time = 240
fvar(1) = 0

[State 3301,Var]
type = VarSet
trigger1 = time = 270
fvar(2) = 0

[State 3301,EnvShake]
type = EnvShake
trigger1 = time = 240
time = 5
freq = 120
ampl = -14
phase = 180

[State 3301,Var]
type = VarAdd
trigger1 = time>=245
trigger1 = time<270
fvar(2) = 0.1

[State 3301,Explod]
type = Explod
trigger1 = time = 1 
anim = 6255
sprpriority = -1
postype = p1
pos = 43, -62
bindtime = 1
supermove = 1
ownpal = 1

[State 3301,Explod]
type = Explod
trigger1 = time = 1 
anim = 6250
sprpriority = 5
postype = p1
pos = 43, -62
bindtime = 1
supermove = 1
ownpal = 1

[State 3301,Explod]
type = Explod
trigger1 = time = 240
anim = 6060
pos = 0,0
postype = p1
bindtime = -1
sprpriority = 4

[State 3301,Explod]
type = Explod
trigger1 = time = 242
anim = 3310+ifelse((Palno > 6 || var(17) >= 2),1,0)
pos = 0, 0
postype = p1
sprpriority = 4
bindtime = -1
scale = 1+ifelse((Palno > 6 || var(17) >= 2),2,0), 1-ifelse((Palno > 6 || var(17) >= 2),.5,0)

[State 3301,Explod]
type = Explod
trigger1 = time = 250
anim = 3307
ID = 3307
sprPriority = -16
posType = back
removeTime = 40
superMoveTime = -1
pos = 160, 120
scale = 1.5,1.5

[State 3301,Explod]
type = Explod
trigger1 = time = 272
anim = 3308
ID = 3308
sprPriority = -16
posType = back
removeTime = 34
superMoveTime = -1
pos = 160, 120
scale = 1.2,1.2

[State 3301,Explod]
type = Explod
trigger1 = time = 272
anim = 3309
ID = 3309
sprpriority = 15
posType = back
removeTime = 50
superMoveTime = -1
pos = 160, 120

[State 3301,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 3311,PlaySnd]
type = PlaySnd
trigger1 = time = 250
value = 3300,1

[State 3301,PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = 300,2

[State 3301,PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = 4600,10

[State 3301,PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = 3300,0

[State 3301,PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = 100,1

[State 3301,PlaySnd]
type = PlaySnd
trigger1 = animelem = 13
value = 4600,7

[State 3301,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 6000,0

[State 3301,PlaySnd]
type = PlaySnd
trigger1 = time = 120
trigger2 = time = 140
trigger3 = time = 180
trigger4 = time = 200
value = 2901,1

[State 3301,PlaySnd]
type = PlaySnd
trigger1 = time = 160
value = 2901,0

[State 3301,PlaySnd]
type = PlaySnd
trigger1 = time = 240
value = 2420,0

[State 3301,Explod]
type = ModifyExplod
trigger1 = NumExplod(3307) && time > 245 && time < 270
ID = 3307
posType = back
pos = 160, 120
scale = 1.8 - (0.3125 * fvar(2)), 1.8 - (0.3125 * fvar(2))
trans = AddAlpha
alpha = (8 * Time), 256

[State 3301,Envcolor]
type = Envcolor
triggerall = Palno > 6 || var(17) >= 2
trigger1 = time = 242
value = 255,255,255
time = 3
under = 1
ignorehitpause = 1

[State 3301,Envcolor]
type = Envcolor
triggerall = Palno > 6 || var(17) >= 2
trigger1 = time = 245
value = 255,0,0
time = 3
under = 1
ignorehitpause = 1

[State 3301,Target]
type = TargetLifeAdd
trigger1 = time = 242
value = -ceil((250+ifelse((Palno > 6 || var(17) >= 2),50,0))*const(data.attack)*0.01)
absolute = 1

[State 3301,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 2902

;---------------------------------------------------------------------------
;Spinning Lotus LV1_2leg
[Statedef 3302]
type     = S
physics  = N
ctrl     = 0
anim = 3302
sprpriority = 4
movetype= A
velset = 0,0

[State 3302,Pos]
type = PosSet
trigger1 = Time = 0
trigger1 = NumTarget(3301)
x = Target(3301), Pos X + 36 * Target(3301), facing
y = 0

[State 3302,BindtoParent]
type = BindtoParent
trigger1 = 1
pos = 0,0

[State 3302,Changeanim]
type = Changeanim
trigger1 = anim != 3302
value = 3302

[State 3302,Angle]
type = AngleDraw
trigger1 = 1
value = 1

[State 3302,Angle]
type = Angleset
trigger1 = 1
value = floor(fvar(1)* 42.2957791)

[State 3302,Var]
type = VarAdd
trigger1 = timemod = 2,0
trigger1 = time>=67
trigger1 = time<237
fvar(1) = 0.1

[State 3302,Var]
type = VarSet
trigger1 = time = 237
fvar(1) = 0

[State 3302,Destroyself]
type = Destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Spinning Lotus(Cancel_1)
[Statedef 3303]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3303
sprpriority = -1
poweradd = -1000

[State 3303,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 20

[State 3303,Var]
type = Varset
trigger1 = Time = 0
var(1) = 0

[State 3303,AfterImage]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2

[State 3303,AfterImage]
type = AfterImageTime
trigger1 = AnimElemTime(1) >= 1 && Time < 300
time = 2

[State 3303,EnvColor]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 3303,EnvColor]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 3303,Helper]
type = Helper
triggerall = prevstateno =2901 || prevstateno =2911 || prevstateno =2921
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3303,Pos]
type = PosSet
trigger1 = Time = 0
trigger1 = NumTarget(3300)
x = Target(3300), Pos X + 36 * Target(3300), facing
y = 0

[State 3303,Target]
type = BindtoTarget
trigger1 = animelem= 1, >= 0
trigger1 = animelem= 5, <= 0
pos = -3,8,Head

[State 3303,BGPalFX]
type = BGPalFX
trigger1 = time = 1
time = 270
mul = 0,0,0
sinadd = 256,256,256,10
invertall = 0
color = 256
pausemovetime = 999
supermovetime = 999
ignorehitpause=1
persistent = 2

[State 3303,BGPalFX]
type = AssertSpecial
trigger1 = 1
flag = timerfreeze

[State 3303,BGPalFX]
type = Helper
trigger1 = animelem = 1
ID = 3304
pos = 0,0
postype = p1
stateno = 3304
sprpriority = 4
persistent = 0

[State 3303,Angle]
type = AngleDraw
trigger1 = 1
value = 1

[State 3303,Angle]
type = Angleset
trigger1 = 1
value = floor(fvar(1)* 42.2957791)

[State 3303,Var]
type = VarAdd
trigger1 = timemod = 2,0
trigger1 = time>=67
trigger1 = time<237
fvar(1) = 0.1

[State 3303,Var]
type = VarSet
trigger1 = time = 240
fvar(1) = 0

[State 3301,Var]
type = VarAdd
trigger1 = time>=245
trigger1 = time<270
fvar(2) = 0.1

[State 3301,Var]
type = VarSet
trigger1 = time = 270
fvar(2) = 0

[State 3303,EnvShake]
type = EnvShake
trigger1 = time = 240
time = 5
freq = 120
ampl = -14
phase = 180

[State 3301,Envcolor]
type = Envcolor
triggerall = Palno > 6 || var(17) >= 2
trigger1 = time = 240
value = 255,255,255
time = 3
under = 1
ignorehitpause = 1

[State 3301,Envcolor]
type = Envcolor
triggerall = Palno > 6 || var(17) >= 2
trigger1 = time = 243
value = 255,0,0
time = 3
under = 1
ignorehitpause = 1

[State 3303,Explod]
type = Explod
trigger1 = time = 1 
anim = 6255
sprpriority = -1
postype = p1
pos = -5, 0
bindtime = 1
supermove = 1
ownpal = 1

[State 3303,Explod]
type = Explod
trigger1 = time = 1 
anim = 6250
sprpriority = 5
postype = p1
pos = -5, 0
bindtime = 1
supermove = 1
ownpal = 1

[State 3301,Explod]
type = Explod
trigger1 = time = 240
anim = 3310+ifelse((Palno > 6 || var(17) >= 2),1,0)
pos = 0, 0
postype = p1
sprpriority = 4
bindtime = -1
scale = 1+ifelse((Palno > 6 || var(17) >= 2),2,0), 1-ifelse((Palno > 6 || var(17) >= 2),.5,0)

[State 3301,Explod]
type = Explod
trigger1 = time = 240
anim = 6060
pos = 0,0
postype = p1
bindtime = -1
sprpriority = 4

[State 3301,Explod]
type = Explod
trigger1 = time = 250
anim = 3307
ID = 3307
sprPriority = -16
posType = back
removeTime = 40
superMoveTime = -1
pos = 160, 120
scale = 1.5,1.5

[State 3301,Explod]
type = ModifyExplod
trigger1 = NumExplod(3307) && time > 245 && time < 270
ID = 3307
posType = back
pos = 160, 120
scale = 1.8 - (0.3125 * fvar(2)), 1.8 - (0.3125 * fvar(2))
trans = AddAlpha
alpha = (8 * Time), 256

[State 3301,Explod]
type = Explod
trigger1 = time = 272
anim = 3308
ID = 3308
sprPriority = -16
posType = back
removeTime = 34
superMoveTime = -1
pos = 160, 120
scale = 1.2,1.2

[State 3301,Explod]
type = Explod
trigger1 = time = 272
anim = 3309
ID = 3309
sprpriority = 15
posType = back
removeTime = 50
superMoveTime = -1
pos = 160, 120

[State 3301,PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = 300,2

[State 3301,PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = 4600,10

[State 3301,PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = 3300,0

[State 3301,PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = 100,1

[State 3301,PlaySnd]
type = PlaySnd
trigger1 = animelem = 13
value = 4600,7

[State 3301,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 6000,0

[State 3301,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 3301,PlaySnd]
type = PlaySnd
trigger1 = time = 120
value = 2901,1

[State 3301,PlaySnd]
type = PlaySnd
trigger1 = time = 140
value = 2901,1

[State 3301,PlaySnd]
type = PlaySnd
trigger1 = time = 160
value = 2901,0

[State 3301,PlaySnd]
type = PlaySnd
trigger1 = time = 180
value = 2901,1

[State 3301,PlaySnd]
type = PlaySnd
trigger1 = time = 200
value = 2901,1

[State 3301,PlaySnd]
type = PlaySnd
trigger1 = time = 240
value = 2420,0

[State 3301,PlaySnd]
type = PlaySnd
trigger1 = time = 250
value = 3300,1

[State 3301,Target]
type = TargetLifeAdd
trigger1 = time = 242
value = -ceil((230+ifelse((Palno > 6 || var(17) >= 2),50,0))*const(data.attack)*0.01)
absolute = 1

[State 3301,Target]
type = TargetState
trigger1 = AnimElemtime(1) = 0
value = 3306

[State 3301,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 2902

;---------------------------------------------------------------------------
;Spinning Lotus (Cancel_leg)
[Statedef 3304]
type     = S
physics  = N
ctrl     = 0
anim = 3304
sprpriority = 4
movetype= A
velset = 0,0

[State 3304,Pos]
type = PosSet
trigger1 = Time = 0
trigger1 = NumTarget(3303)
x = Target(3303), Pos X + 36 * Target(3303), facing
y = 0

[State 3304,BindtoParent]
type = BindtoParent
trigger1 = 1
pos = 0,0

[State 3304,Changeanim]
type = Changeanim
trigger1 = anim != 3304
value = 3304

[State 3304,Angle]
type = AngleDraw
trigger1 = 1
value = 1

[State 3304,Angle]
type = Angleset
trigger1 = 1
value = floor(fvar(1)* 42.2957791)

[State 3304,Var]
type = VarAdd
trigger1 = timemod = 2,0
trigger1 = time>=67
trigger1 = time<237
fvar(1) = 0.1

[State 3304,Var]
type = VarSet
trigger1 = time = 237
fvar(1) = 0

[State 3304,Destroyself]
type = Destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Spinning Lotus LV1_ENEMY1
[Statedef 3305]
type = S
movetype = H
physics = S
velset = 0,0
sprpriority = 3

[State 3305,ChangeAnim]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3305

[State 3305,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 3305,Pos]
type = Posadd
trigger1 = Animelem = 2 , = 0
trigger1 = BackEdgeDist <= 10
x = 20

[State 3305,Pos]
type = Posset
trigger1 = Time = 0
y = 0

[State 3305,Pos]
type = Posadd
trigger1 = AnimTime = 0
x = 5

[State 3305,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 2906

;---------------------------------------------------------------------------
;Spinning Lotus (Cancel_ENEMY)
[Statedef 3306]
type = S
movetype = H
physics = S
velset = 0,0
sprpriority = 3

[State 3306,ChangeAnim]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3306

[State 3306,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 3306,Pos]
type = Posadd
trigger1 = Animelem = 2 , = 0
trigger1 = BackEdgeDist <= 10
x = 20

[State 3306,Pos]
type = Posset
trigger1 = Time = 0
y = 0

[State 3306,Pos]
type = Posadd
trigger1 = AnimTime = 0
x = 5

[State 3306,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 2906

;---------------------------------------------------------------------------
;Spinning Lotus LV2
[Statedef 3310]
type = S
movetype = A
physics = S
anim = 3300
ctrl = 0
velset = 0, 0
poweradd = -2000

[State 3310,Var]
type = Varset
trigger1 = Time = 0
var(1) = 0

[State 3310,NotHitBy]
type = NotHitBy
trigger1 = animelem = 1
value = SCA
time = 33

[State 3310,SuperPause]
type = SuperPause
trigger1 = time = 1
time = 32
movetime = 32
anim = -1

[State 3310,EnvColor]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 3310,EnvColor]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 3310,HitDef]
type = HitDef
triggerall = var(5)<=0
trigger1= P2Dist x <= 70 && AnimElem = 1
trigger1= AnimElem = 1,<=0
trigger1 = P2StateNo != [150,155]
trigger1 = P2StateNo != [40,49]
trigger1 = P2StateNo != 50 && 52
trigger1 = p2statetype != A
numhits = 0
attr = S, ST
getpower = 16,16
guard.dist = 0
priority = 4, Miss
sparkno = -1
sparkxy = -20, -68
p2facing = 1
p1stateno = 3311
p2stateno = 3305
p2getp1state = 1
Palfx.time = 1
ID = 3300

[State 3310,Helper]
type = Helper
triggerall = prevstateno =1030 || prevstateno =1100 || prevstateno =1110 || prevstateno =1120 || prevstateno =1200 || prevstateno =1210 || prevstateno =1220
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3310,Helper]
type = Helper
triggerall = prevstateno =1301 || prevstateno =1311 || prevstateno =1321 || prevstateno =1420 || prevstateno =1430 || prevstateno =1440 || prevstateno =2130
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3310,Explod]
type = Explod
trigger1 = Time = 1
trigger1= facing = 1
anim = 4526
pos = 0,0
postype = left
facing = 1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3310,Explod]
type = Explod
trigger1 = Time = 1
trigger1= facing = -1
anim = 4526
pos = 0,0
postype = Right
facing = -1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3310,Explod]
type = Explod
trigger1 = time = 1 
anim = 6265
sprpriority = -1
postype = p1
pos = 30, -70
bindtime = 1
supermove = 1
ownpal = 1

[State 3310,Explod]
type = Explod
trigger1 = time = 11 
anim = 6260
sprpriority = 3
postype = p1
pos = 30, -70
bindtime = 1
supermove = 1
ownpal = 1

[State 3310,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 6000,2

[State 3310,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 3310,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,3

[State 3310,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
ctrl = 1
value = 0

;---------------------------------------------------------------------------
;Spinning Lotus LV2_1
[Statedef 3311]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3301
sprpriority = -1

[State 3311,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 20

[State 3311,Var]
type = Varset
trigger1 = Time = 0
var(1) = 0

[State 3311,AfterImage]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2

[State 3311,AfterImage]
type = AfterImageTime
trigger1 = AnimElemTime(1) >= 1 && Time < 300
time = 2

[State 3311,Explod]
type = Explod
trigger1 = Time = 1
trigger1= facing = 1
anim = 4526
pos = 0,0
postype = left
facing = 1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3311,Explod]
type = Explod
trigger1 = Time = 1
trigger1= facing = -1
anim = 4526
pos = 0,0
postype = Right
facing = -1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3311,Explod]
type = Explod
trigger1 = time = 1 
anim = 6265
sprpriority = -1
postype = p1
pos = 43, -62
bindtime = 1
supermove = 1
ownpal = 1

[State 3311,Explod]
type = Explod
trigger1 = time = 1 
anim = 6260
sprpriority = 5
postype = p1
pos = 43, -62
bindtime = 1
supermove = 1
ownpal = 1

[State 3311,EnvColor]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 3311,EnvColor]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 3311,Helper]
type = Helper
triggerall = prevstateno =2901 || prevstateno =2911 || prevstateno =2921
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3311,Pos]
type = PosSet
trigger1 = Time = 0
trigger1 = NumTarget(3300)
x = Target(3300), Pos X + 36 * Target(3300), facing
y = 0

[State 3311,Target]
type = BindtoTarget
trigger1 = animelem= 2, >= 0
trigger1 = animelem= 5, <= 0
pos = -3,8,Head

[State 3311,BGPalFX]
type = BGPalFX
trigger1 = time = 1
time = 270
mul = 0,0,0
sinadd = 256,256,256,10
invertall = 0
color = 256
pausemovetime = 999
supermovetime = 999
ignorehitpause=1
persistent = 2

[State 3311,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = timerfreeze

[State 3311,Helper]
type = Helper
trigger1 = animelem = 1
ID = 3302
pos = 0,0
postype = p1
stateno = 3302
sprpriority = 4
persistent = 0

[State 3311,Angle]
type = AngleDraw
trigger1 = 1
value = 1

[State 3311,Angle]
type = Angleset
trigger1 = 1
value = floor(fvar(1)* 42.2957791)

[State 3311,Var]
type = VarAdd
trigger1 = timemod = 2,0
trigger1 = time>=67
trigger1 = time<237
fvar(1) = 0.1

[State 3311,Var]
type = VarSet
trigger1 = time = 240
fvar(1) = 0

[State 3311,EnvShake]
type = EnvShake
trigger1 = time = 120
trigger2 = time = 140
trigger3 = time = 160
trigger4 = time = 180
trigger5 = time = 200
trigger6 = time = 220
time = 5
freq = 120
ampl = -8
phase = 180

[State 3311,EnvShake]
type = EnvShake
trigger1 = time = 240
time = 10
freq = 120
ampl = -14
phase = 180

[State 3311,Var]
type = VarAdd
trigger1 = time>=245
trigger1 = time<270
fvar(2) = 0.1

[State 3311,Var]
type = VarSet
trigger1 = time = 270
fvar(2) = 0

[State 3311,Envcolor]
type = Envcolor
triggerall = Palno > 6 || var(17) >= 2
trigger1 = time = 120
trigger2 = time = 140
trigger3 = time = 160
trigger4 = time = 180
trigger5 = time = 200
trigger6 = time = 220
trigger7 = time = 240
value = 255,255,255
time = 3
under = 1
ignorehitpause = 1

[State 3311,Envcolor]
type = Envcolor
triggerall = Palno > 6 || var(17) >= 2
trigger1 = time = 243
value = 255,0,0
time = 3
under = 1
ignorehitpause = 1

[State 3311,ModifyExplod]
type = ModifyExplod
trigger1 = NumExplod(3307) && time > 245 && time < 270
ID = 3307
posType = back
pos = 160, 120
scale = 1.8 - (0.3125 * fvar(2)), 1.8 - (0.3125 * fvar(2))
trans = AddAlpha
alpha = (8 * Time), 256

[State 3311,Explod]
type = Explod
trigger1 = time = 240
anim = 6060
pos = 0,0
postype = p1
bindtime = -1
sprpriority = 4

[State 3311,Explod]
type = Explod
trigger1 = time = 120
trigger2 = time = 140
trigger3 = time = 160
trigger4 = time = 180
trigger5 = time = 200
trigger6 = time = 220
anim = 6050
pos = 0,0
postype = p1
bindtime = -1
sprpriority = 4

[State 3311,Explod]
type = Explod
trigger1 = time = 242
anim = 3310+ifelse((Palno > 6 || var(17) >= 2),1,0)
pos = 0, 0
postype = p1
sprpriority = 4
bindtime = -1
scale = 1+ifelse((Palno > 6 || var(17) >= 2),2,0), 1-ifelse((Palno > 6 || var(17) >= 2),.5,0)

[State 3311,Explod]
type = Explod
trigger1 = time = 250
anim = 3307
ID = 3307
sprPriority = -16
posType = back
removeTime = 40
superMoveTime = -1
pos = 160, 120
scale = 1.5,1.5

[State 3311,Explod]
type = Explod
trigger1 = time = 272
anim = 3308
ID = 3308
sprPriority = -16
posType = back
removeTime = 34
superMoveTime = -1
pos = 160, 120
scale = 1.2,1.2

[State 3311,Explod]
type = Explod
trigger1 = time = 272
anim = 3309
ID = 3309
sprpriority = 15
posType = back
removeTime = 50
superMoveTime = -1
pos = 160, 120

[State 3311,PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = 3300,0

[State 3311,PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = 300,2

[State 3311,PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = 4600,10

[State 3311,PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = 100,1

[State 3311,PlaySnd]
type = PlaySnd
trigger1 = animelem = 13
value = 4600,7

[State 3311,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 6000,2

[State 3311,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 3311,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,3

[State 3311,PlaySnd]
type = PlaySnd
trigger1 = time = 160
value = 2901,0

[State 3311,PlaySnd]
type = PlaySnd
trigger1 = time = 120
trigger2 = time = 140
trigger3 = time = 180
trigger4 = time = 200
value = 2901,1

[State 3311,PlaySnd]
type = PlaySnd
trigger1 = time = 120
trigger2 = time = 140
trigger3 = time = 160
trigger4 = time = 180
trigger5 = time = 200
trigger6 = time = 220
value = 2420,1

[State 3311,PlaySnd]
type = PlaySnd
trigger1 = time = 240
value = 2420,0

[State 3311,PlaySnd]
type = PlaySnd
trigger1 = time = 250
value = 3300,2

[State 3311,Target]
type = TargetLifeAdd
trigger1 = time = 120
trigger2 = time = 140
trigger3 = time = 160
trigger4 = time = 180
trigger5 = time = 200
trigger6 = time = 220
value = -ceil((20+ifelse((Palno > 6 || var(17) >= 2),20,0))*const(data.attack)*0.01)
absolute = 1
kill = 0

[State 3311,Target]
type = TargetLifeAdd
trigger1 = time = 242
value = -ceil((200+ifelse((Palno > 6 || var(17) >= 2),60,0))*const(data.attack)*0.01)
absolute = 1

[State 3311,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 2902

;---------------------------------------------------------------------------
;Spinning Lotus(Cancel_2)
[Statedef 3313]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3303
sprpriority = -1
poweradd = -2000

[State 3313,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 20

[State 3313,Var]
type = Varset
trigger1 = Time = 0
var(1) = 0

[State 3313,AfterImage]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2

[State 3313,AfterImage]
type = AfterImageTime
trigger1 = AnimElemTime(1) >= 1 && Time < 300
time = 2

[State 3313,Explod]
type = Explod
trigger1 = Time = 1
trigger1= facing = 1
anim = 4526
pos = 0,0
postype = left
facing = 1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3313,Explod]
type = Explod
trigger1 = Time = 1
trigger1= facing = -1
anim = 4526
pos = 0,0
postype = Right
facing = -1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3313,Explod]
type = Explod
trigger1 = time = 1 
anim = 6265
sprpriority = -1
postype = p1
pos = -5, 0
bindtime = 1
supermove = 1
ownpal = 1

[State 3313,Explod]
type = Explod
trigger1 = time = 1 
anim = 6260
sprpriority = 5
postype = p1
pos = -5, 0
bindtime = 1
supermove = 1
ownpal = 1

[State 3313,EnvColor]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 3313,EnvColor]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 3313,Helper]
type = Helper
triggerall = prevstateno =2901 || prevstateno =2911 || prevstateno =2921
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3313,Pos]
type = PosSet
trigger1 = Time = 0
trigger1 = NumTarget(3300)
x = Target(3300), Pos X + 36 * Target(3300), facing
y = 0

[State 3313,Target]
type = BindtoTarget
trigger1 = animelem= 1, >= 0
trigger1 = animelem= 5, <= 0
pos = -3,8,Head

[State 3313,BGPalFX]
type = BGPalFX
trigger1 = time = 1
time = 270
mul = 0,0,0
sinadd = 256,256,256,10
invertall = 0
color = 256
pausemovetime = 999
supermovetime = 999
ignorehitpause=1
persistent = 2

[State 3313,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = timerfreeze

[State 3313,Helper]
type = Helper
trigger1 = animelem = 1
ID = 3304
pos = 0,0
postype = p1
stateno = 3304
sprpriority = 4
persistent = 0

[State 3313,Angle]
type = AngleDraw
trigger1 = 1
value = 1

[State 3313,Angle]
type = Angleset
trigger1 = 1
value = floor(fvar(1)* 42.2957791)

[State 3313,Var]
type = VarAdd
trigger1 = timemod = 2,0
trigger1 = time>=67
trigger1 = time<237
fvar(1) = 0.1

[State 3313,Var]
type = VarSet
trigger1 = time = 240
fvar(1) = 0

[State 3313,EnvShake]
type = EnvShake
trigger1 = time = 120
trigger2 = time = 140
trigger3 = time = 160
trigger4 = time = 180
trigger5 = time = 200
trigger6 = time = 220
time = 5
freq = 120
ampl = -8
phase = 180

[State 3313,EnvShake]
type = EnvShake
trigger1 = time = 240
time = 5
freq = 120
ampl = -14
phase = 180

[State 3313,PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = 3300,0

[State 3313,PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = 300,2

[State 3313,PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = 4600,10

[State 3313,PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = 100,1

[State 3313,PlaySnd]
type = PlaySnd
trigger1 = animelem = 13
value = 4600,7

[State 3313,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 6000,0

[State 3313,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 3313,PlaySnd]
type = PlaySnd
trigger1 = time = 160
value = 2901,0

[State 3313,PlaySnd]
type = PlaySnd
trigger1 = time = 120
trigger2 = time = 140
trigger3 = time = 180
trigger4 = time = 200
value = 2901,1

[State 3313,PlaySnd]
type = PlaySnd
trigger1 = time = 120
trigger2 = time = 140
trigger3 = time = 160
trigger4 = time = 180
trigger5 = time = 200
trigger6 = time = 220
value = 2420,1

[State 3313,PlaySnd]
type = PlaySnd
trigger1 = time = 240
value = 2420,0

[State 3313,PlaySnd]
type = PlaySnd
trigger1 = time = 250
value = 3300,2

[State 3313,Explod]
type = Explod
trigger1 = time = 240
anim = 3310+ifelse((Palno > 6 || var(17) >= 2),1,0)
pos = 0, 0
postype = p1
sprpriority = 4
bindtime = -1
scale = 1+ifelse((Palno > 6 || var(17) >= 2),2,0), 1-ifelse((Palno > 6 || var(17) >= 2),.5,0)

[State 3313,Explod]
type = Explod
trigger1 = time = 240
anim = 6060
pos = 0,0
postype = p1
bindtime = -1
sprpriority = 4

[State 3313,Envcolor]
type = Envcolor
triggerall = Palno > 6 || var(17) >= 2
trigger1 = time = 120
trigger2 = time = 140
trigger3 = time = 160
trigger4 = time = 180
trigger5 = time = 200
trigger6 = time = 220
trigger7 = time = 240
value = 255,255,255
time = 3
under = 1
ignorehitpause = 1

[State 3313,Envcolor]
type = Envcolor
triggerall = Palno > 6 || var(17) >= 2
trigger1 = time = 243
value = 255,0,0
time = 3
under = 1
ignorehitpause = 1

[State 3313,Explod]
type = Explod
trigger1 = time = 120
trigger2 = time = 140
trigger3 = time = 160
trigger4 = time = 180
trigger5 = time = 200
trigger6 = time = 220
anim = 6050
pos = 0,0
postype = p1
bindtime = -1
sprpriority = 4

[State 3313,Var]
type = VarAdd
trigger1 = time>=245
trigger1 = time<270
fvar(2) = 0.1

[State 3313,Var]
type = VarSet
trigger1 = time = 270
fvar(2) = 0

[State 3313,Explod]
type = Explod
trigger1 = time = 250
anim = 3307
ID = 3307
sprPriority = -16
posType = back
removeTime = 40
superMoveTime = -1
pos = 160, 120
scale = 1.5,1.5

[State 3313,Explod]
type = ModifyExplod
trigger1 = NumExplod(3307) && time > 245 && time < 270
ID = 3307
posType = back
pos = 160, 120
scale = 1.8 - (0.3125 * fvar(2)), 1.8 - (0.3125 * fvar(2))
trans = AddAlpha
alpha = (8 * Time), 256

[State 3313,Explod]
type = Explod
trigger1 = time = 272
anim = 3308
ID = 3308
sprPriority = -16
posType = back
removeTime = 34
superMoveTime = -1
pos = 160, 120
scale = 1.2,1.2

[State 3313,Explod]
type = Explod
trigger1 = time = 272
anim = 3309
ID = 3309
sprpriority = 15
posType = back
removeTime = 50
superMoveTime = -1
pos = 160, 120

[State 3313,Target]
type = TargetLifeAdd
trigger1 = time = 120
trigger2 = time = 140
trigger3 = time = 160
trigger4 = time = 180
trigger5 = time = 200
trigger6 = time = 220
value = -ceil((20+ifelse((Palno > 6 || var(17) >= 2),20,0))*const(data.attack)*0.01)
absolute = 1

[State 3313,Target]
type = TargetLifeAdd
trigger1 = time = 242
value = -ceil((180+ifelse((Palno > 6 || var(17) >= 2),60,0))*const(data.attack)*0.01)
absolute = 1

[State 3313,Target]
type = TargetState
trigger1 = AnimElemtime(1) = 0
value = 3306

[State 3313,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 2902

;---------------------------------------------------------------------------
;Spinning Lotus LV3
[Statedef 3320]
type = S
movetype = A
physics = S
anim = 3300
ctrl = 0
velset = 0, 0
poweradd = -3000

[State 3320,NotHitBy]
type = NotHitBy
trigger1 = animelem = 1
value = SCA
time = 40

[State 3320,Var]
type = Varset
trigger1 = Time = 0
var(1) = 0

[State 3320,SuperPause]
type = SuperPause
trigger1 = time = 1
time = 32
movetime = 32
anim = -1

[State 3320,Explod]
type = Explod
trigger1 = Time = 1
trigger1= facing = 1
anim = 4526
pos = 0,0
postype = left
facing = 1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3320,Explod]
type = Explod
trigger1 = Time = 1
trigger1= facing = -1
anim = 4526
pos = 0,0
postype = Right
facing = -1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3320,Explod]
type = Explod
trigger1 = time = 1 
anim = 6275
sprpriority = -1
postype = p1
pos = 30, -70
bindtime = 1
supermove = 1
ownpal = 1

[State 3320,Explod]
type = Explod
trigger1 = time = 11 
anim = 6270
sprpriority = 3
postype = p1
pos = 30, -70
bindtime = 1
supermove = 1
ownpal = 1

[State 3320,EnvColor]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 3320,EnvColor]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 3320,HitDef]
type = HitDef
triggerall = var(5)<=0
trigger1= P2Dist x <= 70 && AnimElem = 1
trigger1= AnimElem = 1,<=0
trigger1 = P2StateNo != [150,155]
trigger1 = P2StateNo != [40,49]
trigger1 = P2StateNo != 50 && 52
trigger1 = p2statetype != A
numhits = 0
attr = S, ST
getpower = 16,16
guard.dist = 0
priority = 4, Miss
sparkno = -1
sparkxy = -20, -68
p2facing = 1
p1stateno = 3321
p2stateno = 3305
p2getp1state = 1
Palfx.time = 1
ID = 3300

[State 3320,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 700,2

[State 3320,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 3320,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,3

[State 3320,Helper]
type = Helper
triggerall = prevstateno =1030 || prevstateno =1100 || prevstateno =1110 || prevstateno =1120 || prevstateno =1200 || prevstateno =1210 || prevstateno =1220
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3320,Helper]
type = Helper
triggerall = prevstateno =1301 || prevstateno =1311 || prevstateno =1321 || prevstateno =1420 || prevstateno =1430 || prevstateno =1440 || prevstateno =2130
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3320,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
ctrl = 1
value = 0

;---------------------------------------------------------------------------
;Spinning Lotus LV3_1
[Statedef 3321]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3321
sprpriority = 4

[State 3321,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 20

[State 3321,Var]
type = Varset
trigger1 = Time = 0
var(1) = 0

[State 3321,AfterImage]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2

[State 3321,AfterImage]
type = AfterImageTime
trigger1 = AnimElemTime(1) >= 1 && Time < 300
time = 2

[State 3321,Explod]
type = Explod
trigger1 = time = 1 
anim = 6275
sprpriority = -1
postype = p1
pos = 43, -62
bindtime = 1
supermove = 1
ownpal = 1

[State 3321,Explod]
type = Explod
trigger1 = time = 1 
anim = 6270
sprpriority = 5
postype = p1
pos = 43, -62
bindtime = 1
supermove = 1
ownpal = 1

[State 3321,EnvColor]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 3321,EnvColor]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 3321,Helper]
type = Helper
triggerall = prevstateno =2901 || prevstateno =2911 || prevstateno =2921
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3321,Pos]
type = PosSet
trigger1 = Time = 0
trigger1 = NumTarget(3300)
x = Target(3300), Pos X + 36 * Target(3300), facing
y = 0

[State 3321,Target]
type = BindtoTarget
trigger1 = animelem= 2, >= 0
trigger1 = animelem= 5, <= 0
pos = -3,8,Head

[State 3321,BGPalFX]
type = BGPalFX
trigger1 = time = 1
time = 270
mul = 0,0,0
sinadd = 256,256,256,10
invertall = 0
color = 256
pausemovetime = 999
supermovetime = 999
ignorehitpause=1
persistent = 2

[State 3321,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = timerfreeze

[State 3321,EnvShake]
type = EnvShake
trigger1 = time = 185
time = 5
freq = 120
ampl = -14
phase = 180

[State 3321,PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = 300,2

[State 3321,PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = 4600,10

[State 3321,PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = 100,1

[State 3321,PlaySnd]
type = PlaySnd
trigger1 = animelem = 13
value = 4600,7

[State 3321,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 700,2

[State 3321,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 3321,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,3

[State 3321,PlaySnd]
type = PlaySnd
trigger1 = time = 68
trigger2 = time = 72
trigger3 = time = 76
trigger4 = time = 80
trigger5 = time = 84
trigger6 = time = 88
trigger7 = time = 92
trigger8 = time = 96
trigger9 = time = 100
trigger10 = time = 104
trigger11 = time = 108
trigger12 = time = 112
trigger13 = time = 116
trigger14 = time = 120
trigger15 = time = 124
value = 2901,1

[State 3321,PlaySnd]
type = PlaySnd
trigger1 = time = 128
trigger2 = time = 132
trigger3 = time = 136
trigger4 = time = 140
trigger5 = time = 144
trigger6 = time = 148
trigger7 = time = 152
trigger8 = time = 156
trigger9 = time = 160
trigger10 = time = 164
trigger11 = time = 168
trigger12 = time = 172
trigger13 = time = 176
trigger14 = time = 180
trigger15 = time = 184
value = 2901,0

[State 3321,PlaySnd]
type = PlaySnd
trigger1 = time = 185
value = 2420,2

[State 3321,Envcolor]
type = Envcolor
triggerall = Palno > 6 || var(17) >= 2
trigger1 = time = 185
value = 255,255,255
time = 4
under = 1
ignorehitpause = 1

[State 3321,Envcolor]
type = Envcolor
triggerall = Palno > 6 || var(17) >= 2
trigger1 = time = 189
value = 255,0,0
time = 4
under = 1
ignorehitpause = 1

[State 3321,Explod]
type = Explod
trigger1 = time = 185
anim = 3310+ifelse((Palno > 6 || var(17) >= 2),1,0)
pos = 0, 0
postype = p1
sprpriority = 4
bindtime = -1
scale = 1+ifelse((Palno > 6 || var(17) >= 2),2,0), 1-ifelse((Palno > 6 || var(17) >= 2),.5,0)

[State 3321,Explod]
type = Explod
trigger1 = AnimElem = 4
anim = 3322
pos = 0,0
postype = p1
bindtime = -1
sprpriority = -1

[State 3321,Explod]
type = Explod
trigger1 = time = 185
anim = 6070
pos = 0,0
postype = p1
bindtime = -1
sprpriority = 4

[State 3321,Explod]
type = Explod
trigger1 = time = 240
anim = 3327
ID = 3327
sprPriority = 999999
posType = back
removeTime = 55
superMoveTime = -1
pos = 160, 120
ontop = 1

[State 3321,lifebar]
type = AssertSpecial
trigger1 = NumExplod(3327) > 0
flag = nobardisplay

[State 3321,Target]
type = TargetLifeAdd
trigger1 = time = 185
value = -ceil((430+ifelse((Palno > 6 || var(17) >= 2),270,0))*const(data.attack)*0.01)
absolute = 1

[State 3321,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 2902

;---------------------------------------------------------------------------
;Spinning Lotus(Cancel_3)
[Statedef 3323]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3323
sprpriority = 4
poweradd = -3000

[State 3323,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 20

[State 3323,Var]
type = Varset
trigger1 = Time = 0
var(1) = 0

[State 3323,AfterImage]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2

[State 3323,AfterImage]
type = AfterImageTime
trigger1 = AnimElemTime(1) >= 1 && Time < 300
time = 2

[State 3323,Explod]
type = Explod
trigger1 = Time = 1
trigger1= facing = 1
anim = 4526
pos = 0,0
postype = left
facing = 1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3323,Explod]
type = Explod
trigger1 = Time = 1
trigger1= facing = -1
anim = 4526
pos = 0,0
postype = Right
facing = -1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3323,Explod]
type = Explod
trigger1 = time = 1 
anim = 6275
sprpriority = -1
postype = p1
pos = -5, 0
bindtime = 1
supermove = 1
ownpal = 1

[State 3323,Explod]
type = Explod
trigger1 = time = 1 
anim = 6270
sprpriority = 5
postype = p1
pos = -5, 0
bindtime = 1
supermove = 1
ownpal = 1

[State 3323,EnvColor]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 3323,EnvColor]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 3323,Helper]
type = Helper
triggerall = prevstateno =2901 || prevstateno =2911 || prevstateno =2921
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3323,Pos]
type = PosSet
trigger1 = Time = 0
trigger1 = NumTarget(3300)
x = Target(3300), Pos X + 36 * Target(3300), facing
y = 0

[State 3323,Target]
type = BindtoTarget
trigger1 = animelem= 1, >= 0
trigger1 = animelem= 5, <= 0
pos = -3,8,Head

[State 3323,BGPalFX]
type = BGPalFX
trigger1 = time = 1
time = 270
mul = 0,0,0
sinadd = 256,256,256,10
invertall = 0
color = 256
pausemovetime = 999
supermovetime = 999
ignorehitpause=1
persistent = 2

[State 3323,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = timerfreeze

[State 3323,EnvShake]
type = EnvShake
trigger1 = time = 185
time = 5
freq = 120
ampl = -14
phase = 180

[State 3323,PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = 300,2

[State 3323,PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = 4600,10

[State 3323,PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = 100,1

[State 3323,PlaySnd]
type = PlaySnd
trigger1 = animelem = 13
value = 4600,7

[State 3323,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 6000,0

[State 3323,PlaySnd]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 3323,PlaySnd]
type = PlaySnd
trigger1 = time = 68
trigger2 = time = 72
trigger3 = time = 76
trigger4 = time = 80
trigger5 = time = 84
trigger6 = time = 88
trigger7 = time = 92
trigger8 = time = 96
trigger9 = time = 100
trigger10 = time = 104
trigger11 = time = 108
trigger12 = time = 112
trigger13 = time = 116
trigger14 = time = 120
trigger15 = time = 124
value = 2901,1

[State 3323,PlaySnd]
type = PlaySnd
trigger1 = time = 128
trigger2 = time = 132
trigger3 = time = 136
trigger4 = time = 140
trigger5 = time = 144
trigger6 = time = 148
trigger7 = time = 152
trigger8 = time = 156
trigger9 = time = 160
trigger10 = time = 164
trigger11 = time = 168
trigger12 = time = 172
trigger13 = time = 176
trigger14 = time = 180
trigger15 = time = 184
value = 2901,0

[State 3323,PlaySnd]
type = PlaySnd
trigger1 = time = 185
value = 2420,2

[State 3323,Envcolor]
type = Envcolor
triggerall = Palno > 6 || var(17) >= 2
trigger1 = time = 185
value = 255,255,255
time = 4
under = 1
ignorehitpause = 1

[State 3323,Envcolor]
type = Envcolor
triggerall = Palno > 6 || var(17) >= 2
trigger1 = time = 189
value = 255,0,0
time = 4
under = 1
ignorehitpause = 1

[State 3323,Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 3324
pos = 0,0
postype = p1
bindtime = -1
sprpriority = -1

[State 3323,Explod]
type = Explod
trigger1 = time = 185
anim = 3310+ifelse((Palno > 6 || var(17) >= 2),1,0)
pos = 0, 0
postype = p1
sprpriority = 4
bindtime = -1
scale = 1+ifelse((Palno > 6 || var(17) >= 2),2,0), 1-ifelse((Palno > 6 || var(17) >= 2),.5,0)

[State 3323,Explod]
type = Explod
trigger1 = time = 185
anim = 6070
pos = 0,0
postype = p1
bindtime = -1
sprpriority = 4

[State 3323,Explod]
type = Explod
trigger1 = time = 240
anim = 3327
ID = 3327
sprPriority = 999999
posType = back
removeTime = 55
superMoveTime = -1
pos = 160, 120
ontop = 1

[State 3323,Target]
type = TargetLifeAdd
trigger1 = time = 185
value = -ceil((410+ifelse((Palno > 6 || var(17) >= 2),270,0))*const(data.attack)*0.01)
absolute = 1

[State 3323,Target]
type = TargetState
trigger1 = AnimElemtime(1) = 0
value = 3306

[State 3323,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 2902

;---------------------------------------------------------------------------
;Super Cancel
[Statedef 8500]
type    = S
movetype= I
physics = S
anim = 999
velset = 0,0
poweradd=500
ctrl = 0
sprpriority = -1

[State 8500,Explod]
type = Explod
trigger1 = time = 10
anim = 8500
ID = 8500
pos = 65,66
postype = Left
facing = 1
vfacing = 1
bindtime = 50
vel = 0,0
accel = 0,0
random = 0,0
removetime = 40
supermovetime = 50
pausemovetime = 50
scale = .5,.5
sprpriority = 9998
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 8500,Explod]
type = Explod
trigger1 = time = 0
anim = 8505
ID = 8505
pos = -5,65
postype = Left
facing = 1
vfacing = 1
bindtime = 65
vel = 0,0
accel = 0,0
random = 0,0
removetime = 58
supermovetime = 65
pausemovetime = 65
scale = 1.5,1
sprpriority = 9999
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 8500,Explod]
type = Explod
trigger1 = time = 0
anim = 8510
ID = 8510
pos = -150,65
postype = Left
facing = 1
vfacing = 1
bindtime = 65
vel = 0,0
accel = 0,0
random = 0,0
removetime = 58
supermovetime = 65
pausemovetime = 65
scale = 1.5,1
sprpriority = 9997
ownpal = 1
trans = addalpha
alpha = 256, 135
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 8500,DestroySelf]
type = DestroySelf
trigger1 = time = 65

;---------------------------------------------------------------------------
;Dream Cancel
[Statedef 8600]
type    = S
movetype= I
physics = S
anim = 999
velset = 0,0
poweradd=1000
ctrl = 0
sprpriority = -1

[State 8600,Explod]
type = Explod
trigger1 = time = 10
anim = 8600
ID = 8600
pos = -3,68
postype = Left
facing = 1
vfacing = 1
bindtime = 50
vel = 0,0
accel = 0,0
random = 0,0
removetime = 40
supermovetime = 50
pausemovetime = 50
scale = .5,.5
sprpriority = 9998
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 8600,Explod]
type = Explod
trigger1 = time = 0
anim = 8605
ID = 8605
pos = -5,65
postype = Left
facing = 1
vfacing = 1
bindtime = 65
vel = 0,0
accel = 0,0
random = 0,0
removetime = 58
supermovetime = 65
pausemovetime = 65
scale = 1.5,1
sprpriority = 9999
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 8600,Explod]
type = Explod
trigger1 = time = 0
anim = 8610
ID = 8610
pos = -150,65
postype = Left
facing = 1
vfacing = 1
bindtime = 65
vel = 0,0
accel = 0,0
random = 0,0
removetime = 58
supermovetime = 65
pausemovetime = 65
scale = 1.5,1
sprpriority = 9997
ownpal = 1
trans = addalpha
alpha = 256, 135
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 8600,DestroySelf]
type = DestroySelf
trigger1 = time = 65

;---------------------------------------------------------------------------
;MAX2_BG1
[Statedef 8700]
type = A
movetype = I
physics = N
anim = 8711
VelSet = 0,0
ctrl = 0
sprpriority = -3

[State 8700,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg

[State 8700,EnvColor]
type = EnvColor
trigger1 = time < 4
value = 255,255,255
under = 1

[State 8700,EnvColor]
type = EnvColor
trigger1 = time >= 4
value = 0,0,0
under = 1

[State 8700,ChangeState]
type = ChangeState
trigger1 = time = 28
value = 8701

;---------------------------------------------------------------------------
;MAX2_BG2
[Statedef 8701]
type = A
physics = N
anim = 8711

[State 8701,Explod]
type = Explod
trigger1 = time = 0
anim = 8700
postype = left
bindtime = -1
sprpriority = -3
ownpal = 1
removetime = 150

[State 8701,Explod]
type = Explod
trigger1 = time = 0
anim = 8700
pos = 320, 0 
postype = left
bindtime = -1
sprpriority = -3
ownpal = 1
removetime = 150

[State 8701,Explod]
type = Explod
trigger1 = time = 0
anim = 8820
id = 8820
postype = left
bindtime = -1
sprpriority = -2
ownpal = 1

[State 8701,Explod]
type = Explod
trigger1 = time = 0
anim = 8800
id = 8800
postype = left
bindtime = -1
sprpriority = -2
ownpal = 1

[State 8701,EnvColor]
type = EnvColor
trigger1 = 1
value = 0,0,0
under = 1
time = 2

[State 8701,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg

[State 8701,ChangeState]
type = ChangeState
trigger1 = root,movetype != A
value = 8702

;---------------------------------------------------------------------------
;MAX2_BG3 
[Statedef 8702]
type = A
physics = N
anim = 8711

[State 8702,EnvColor]
type = EnvColor
trigger1 = time < 2
value = 255,255,255
under = 1

[State 8702,Explod]
type = Explod
trigger1 = time = 2
anim = 8710
postype = left
bindtime = -1
sprpriority = -3
ownpal = 1
supermove = 1

[State 8702,AssertSpecial]
type = AssertSpecial
trigger1 = time < 2
flag = nofg

[State 8702,DestroySelf]
type = DestroySelf
trigger1 = Time = 2

;---------------------------------------------------------------------------
;MAX2_BG1_B
[Statedef 8703]
type = A
movetype = I
physics = N
anim = 8711
VelSet = 0,0
ctrl = 0
sprpriority = -3

[State 8700,EnvColor]
type = EnvColor
trigger1 = time < 4
value = 255,255,255
under = 1

[State 8700,EnvColor]
type = EnvColor
trigger1 = time >= 4
value = 0,0,0
under = 1

[State 8700,ChangeState]
type = ChangeState
trigger1 = time = 0
value = 8704

;---------------------------------------------------------------------------
;MAX2_BG2_B
[Statedef 8704]
type = A
physics = N
anim = 8711

[State 8701,Explod]
type = Explod
trigger1 = time = 0
anim = 8700
postype = left
bindtime = -1
sprpriority = -3
ownpal = 1
removetime = 335

[State 8701,Explod]
type = Explod
trigger1 = time = 0
anim = 8700
pos = 320, 0 
postype = left
bindtime = -1
sprpriority = -3
ownpal = 1
removetime = 335

[State 8701,Explod]
type = Explod
trigger1 = time = 0
anim = 8821
id = 8820
postype = left
bindtime = -1
sprpriority = -2
ownpal = 1

[State 8701,Explod]
type = Explod
trigger1 = time = 0
anim = 8810
id = 8800
postype = left
bindtime = -1
sprpriority = -2
ownpal = 1

[State 8701,EnvColor]
type = EnvColor
trigger1 = 1
value = 0,0,0
under = 1
time = 2

[State 8701,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg

[State 8701,ChangeState]
type = ChangeState
trigger1 = movetype != A;root,movetype != A
trigger1 = time = 340
value = 8702

;---------------------------------------------------------------------------
;MAX2_BG1_B
[Statedef 8703]
type = A
movetype = I
physics = N
anim = 8711
VelSet = 0,0
ctrl = 0
sprpriority = -3

[State 8703,EnvColor]
type = EnvColor
trigger1 = time < 4
value = 255,255,255
under = 1

[State 8703,EnvColor]
type = EnvColor
trigger1 = time >= 4
value = 0,0,0
under = 1

[State 8703,ChangeState]
type = ChangeState
trigger1 = time = 0
value = 8704

;---------------------------------------------------------------------------
;MAX2_BG2_B
[Statedef 8704]
type = A
physics = N
anim = 8711

[State 8704,Explod]
type = Explod
trigger1 = time = 0
anim = 8700
postype = left
bindtime = -1
sprpriority = -3
ownpal = 1
removetime = 335

[State 8704,Explod]
type = Explod
trigger1 = time = 0
anim = 8700
pos = 320, 0 
postype = left
bindtime = -1
sprpriority = -3
ownpal = 1
removetime = 335

[State 8704,Explod]
type = Explod
trigger1 = time = 0
anim = 8821
id = 8820
postype = left
bindtime = -1
sprpriority = -2
ownpal = 1

[State 8704,Explod]
type = Explod
trigger1 = time = 0
anim = 8810
id = 8800
postype = left
bindtime = -1
sprpriority = -2
ownpal = 1

[State 8704,EnvColor]
type = EnvColor
trigger1 = 1
value = 0,0,0
under = 1
time = 2

[State 8704,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg

[State 8704,ChangeState]
type = ChangeState
trigger1 = movetype != A;root,movetype != A
trigger1 = time = 340
value = 8702

